import{Q as n,a as d,b as r}from"./QItemLabel-qzw79OBV.js";import{Q as y}from"./QLinearProgress-DvnR3bkf.js";import{Q as _}from"./QList-CUHKQ-5o.js";import{v as L,d as C,t as N,ab as w,_ as I,j as V,Q as k,E as F,F as P,m as R,f as s,n as g,p as t,B as u,q as e,a1 as c,C as o,D as a,X as m,h as p,V as $,U as v,s as E}from"./index-BTmksj4Y.js";import{Q as G}from"./QMarkupTable-De27GkZG.js";import{Q as M}from"./QPage-1372EYwH.js";const j=["top","middle","bottom"],z=L({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:l=>j.includes(l)}},setup(l,{slots:Q}){const q=C(()=>l.align!==void 0?{verticalAlign:l.align}:null),B=C(()=>{const b=l.outline===!0&&l.color||l.textColor;return`q-badge flex inline items-center no-wrap q-badge--${l.multiLine===!0?"multi":"single"}-line`+(l.outline===!0?" q-badge--outline":l.color!==void 0?` bg-${l.color}`:"")+(b!==void 0?` text-${b}`:"")+(l.floating===!0?" q-badge--floating":"")+(l.rounded===!0?" q-badge--rounded":"")+(l.transparent===!0?" q-badge--transparent":"")});return()=>N("div",{class:B.value,style:q.value,role:"status","aria-label":l.label},w(Q.default,l.label!==void 0?[l.label]:[]))}}),A=V({name:"MainLayout",components:{QBtn:k},setup(){return{store:F(),remoteProcedureCall:P}},methods:{debugLevelColor(l){return l=="DEBUG"||l=="INFO"?"info":l=="WARNING"?"warning":l=="ERROR"||l=="CRITICAL"?"negative":"grey"}}}),D={class:"row col-xs-12 col-sm-4 col-md-3 col-lg-3"},O={class:"row q-gutter-sm"},T={class:"text-h5"},U={class:"text-left"},W={style:{width:"100%"}};function X(l,Q,q,B,b,H){const S=R("QBtn");return s(),g(M,{id:"status-page",padding:""},{default:t(()=>[u("div",D,[e(m,{class:"q-mr-md q-mb-md"},{default:t(()=>[e(c,null,{default:t(()=>[e(_,{separator:""},{default:t(()=>[e(n,{header:""},{default:t(()=>[o(a(l.$t("system information")),1)]),_:1}),e(d,null,{default:t(()=>[e(r,null,{default:t(()=>[e(n,{caption:""},{default:t(()=>[o(a(l.$t("data directory")),1)]),_:1}),e(n,null,{default:t(()=>[o(a(l.store.information.data_directory),1)]),_:1})]),_:1}),e(r,{side:""},{default:t(()=>[e(k,{flat:"",round:"",color:"primary",icon:"folder_shared",to:"/admin/files"})]),_:1})]),_:1}),e(d,null,{default:t(()=>[e(r,null,{default:t(()=>[e(n,{caption:""},{default:t(()=>[o(a(l.$t("app version")),1)]),_:1}),e(n,null,{default:t(()=>[o(a(l.store.information.version),1)]),_:1})]),_:1}),e(r,{side:""},{default:t(()=>[e(k,{flat:"",round:"",color:"primary",icon:"upgrade",href:"https://pypi.org/project/photobooth-app/",target:"_blank"})]),_:1})]),_:1}),e(d,null,{default:t(()=>[e(r,null,{default:t(()=>[e(n,{caption:""},{default:t(()=>[o(a(l.$t("cpu load")),1)]),_:1}),e(n,null,{default:t(()=>[e(y,{size:"lg",value:l.store.information.cpu1_5_15[0]/100},null,8,["value"])]),_:1})]),_:1})]),_:1}),e(d,null,{default:t(()=>[e(r,null,{default:t(()=>[e(n,{caption:""},{default:t(()=>[o(a(l.$t("disk space")),1)]),_:1}),e(n,null,{default:t(()=>[e(y,{size:"lg",value:l.store.information.disk.used/l.store.information.disk.total},null,8,["value"])]),_:1}),e(n,null,{default:t(()=>[o(a((l.store.information.disk.free/1024**3).toFixed(1))+a(l.$t("GB available")),1)]),_:1})]),_:1})]),_:1}),e(d,null,{default:t(()=>[e(r,null,{default:t(()=>[e(n,{caption:""},{default:t(()=>[o(a(l.$t("memory")),1)]),_:1}),e(n,null,{default:t(()=>[e(y,{size:"lg",value:l.store.information.memory.used/l.store.information.memory.total},null,8,["value"])]),_:1}),e(n,null,{default:t(()=>[o(a((l.store.information.memory.available/1024**3).toFixed(1))+a(l.$t("GB available")),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(m,{class:"q-mr-md q-mb-md"},{default:t(()=>[e(c,null,{default:t(()=>[e(_,{separator:""},{default:t(()=>[e(n,{header:""},{default:t(()=>[o(a(l.$t("platform")),1)]),_:1}),e(d,null,{default:t(()=>[e(r,null,{default:t(()=>[e(n,{caption:""},{default:t(()=>[o(a(l.$t("hostname")),1)]),_:1}),e(n,null,{default:t(()=>[o(a(l.store.information.platform_node),1)]),_:1})]),_:1})]),_:1}),e(d,null,{default:t(()=>[e(r,null,{default:t(()=>[e(n,{caption:""},{default:t(()=>[o(a(l.$t("machine")),1)]),_:1}),e(n,null,{default:t(()=>[o(a(l.$t("{platform_machine}, {cpu_count} cores",{platform_machine:l.store.information.platform_machine,cpu_count:l.store.information.platform_cpu_count})),1)]),_:1})]),_:1})]),_:1}),e(d,null,{default:t(()=>[e(r,null,{default:t(()=>[e(n,{caption:""},{default:t(()=>[o(a(l.$t("platform system")),1)]),_:1}),e(n,null,{default:t(()=>[o(a(l.store.information.platform_system)+" "+a(l.store.information.platform_release),1)]),_:1})]),_:1})]),_:1}),e(d,null,{default:t(()=>[e(r,null,{default:t(()=>[e(n,{caption:""},{default:t(()=>[o(a(l.$t("python executable")),1)]),_:1}),e(n,null,{default:t(()=>[o(a(l.store.information.python_executable),1)]),_:1})]),_:1})]),_:1}),e(d,null,{default:t(()=>[e(r,null,{default:t(()=>[e(n,{caption:""},{default:t(()=>[o(a(l.$t("python version")),1)]),_:1}),e(n,null,{default:t(()=>[o(a(l.store.information.platform_python_version),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(m,{class:"q-mr-md q-mb-md"},{default:t(()=>[e(c,null,{default:t(()=>[e(_,{separator:""},{default:t(()=>[e(n,{header:""},{default:t(()=>[o(a(l.$t("primary backend")),1)]),_:1}),(s(!0),p(v,null,$(l.store.information.backends.primary,(i,f,h)=>(s(),g(d,{key:h},{default:t(()=>[e(r,null,{default:t(()=>[e(n,{caption:""},{default:t(()=>[o(a(f),1)]),_:2},1024),e(n,null,{default:t(()=>[o(a(i),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1}),Object.keys(l.store.information.backends.secondary).length>0?(s(),g(m,{key:0,class:"q-mr-md q-mb-md"},{default:t(()=>[e(c,null,{default:t(()=>[e(_,{separator:""},{default:t(()=>[e(n,{header:""},{default:t(()=>[o(a(l.$t("secondary backend")),1)]),_:1}),(s(!0),p(v,null,$(l.store.information.backends.secondary,(i,f,h)=>(s(),g(d,{key:h},{default:t(()=>[e(r,null,{default:t(()=>[e(n,{caption:""},{default:t(()=>[o(a(f),1)]),_:2},1024),e(n,null,{default:t(()=>[o(a(i),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})):E("",!0)]),e(m,{class:"q-pa-md q-mt-md"},{default:t(()=>[u("div",O,[u("div",T,a(l.$t("log messages")),1),e(S,{href:"/debug/log/latest",target:"_blank"},{default:t(()=>[o(a(l.$t("download logs")),1)]),_:1})]),e(G,null,{default:t(()=>[u("thead",null,[u("tr",U,[u("th",null,a(l.$t("log level")),1),u("th",null,a(l.$t("time")),1),u("th",W,a(l.$t("log message")),1),u("th",null,a(l.$t("module name")),1),u("th",null,a(l.$t("function name")),1),u("th",null,a(l.$t("line")),1)])]),u("tbody",null,[(s(!0),p(v,null,$(l.store.logrecords,(i,f)=>(s(),p("tr",{key:f},[u("td",null,[e(z,{color:l.debugLevelColor(i.level)},{default:t(()=>[o(a(i.level),1)]),_:2},1032,["color"])]),u("td",null,a(i.time),1),u("td",null,a(i.message),1),u("td",null,a(i.name),1),u("td",null,a(i.funcName),1),u("td",null,a(i.lineno),1)]))),128))])]),_:1})]),_:1})]),_:1})}const te=I(A,[["render",X],["__file","StatusPage.vue"]]);export{te as default};
