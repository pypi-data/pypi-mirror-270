# konciliation_GDV

## Запуск

1. Нужно распаковать файл `exe.macosx-10.9-universal2-3.11 - with dataset.zip`.

2. Запустить файл `exe.macosx-10.9-universal2-3.11/run_konciliation`. После запуска нужно будет немного подождать, так как библиотеки будут разорхивироваться.

## Интерфейс

Появится интерфейс:

![](./imgs/1.png)

- В зоне 1 показывается сколько фотографий из всего датасета нужно рассмотреть

- В зоне 2 показывается id фотографии ГРВ-граммы, которая в данный момент рассматривается.

- В зоне 3 показывается метка ГРВ-граммы из датасета.

- В зоне 4 показывается то, что предсказала модель.

- В зоне 5 показывается гистограмма уверенности модели о своём решении (мнение модели о вероятностей принадлежности объекта к конкретному классу). На рисунке выше показано, что модель считает, что ГРВ-грамма с ID=24 принадлежит классу `0` с вероятностью 2.78%, а вероятность принадлежности ГРВ-граммы с ID=24 классу `1` - 97.22%. Вероятность принадлежания остальным классам 0%.

- В зоне 6 показана сама ГРВ-грамма.

- Кнопка 7 нужна, чтобы перейти к рассмотрению конкретной ГРВ-грамме с определённым ID. Данный функционал нужен в случае, если необходимо сделать перерыв с закрытием программы. После открытия программы можно с помощью кнопки 7 продолжить с того момента, где была сделана остановка.

## Органы управления

- Стрелка вверх: Согласиться с моделью. В случае, показанном на изображении сверху, ГРВ-грамма отнесётся к классу 1.

- Стрелка вниз: Оставить класс ГРВ-граммы изначальным. В случае, показанном на изображении сверху, ГРВ-грамма отнесётся к классу 0.

- Стрелка влево: Вернуться назад к предыдущей ГРВ-грамме. Причём в этот момент информация об её (предыдущей ГРВ-граммы) классе сотрётся, и она (предыдущая ГРВ-грамма) снова станет кандидатом на рассмотрение.

- Стрелка вправо: Показать следующее изображение. Ничего не произойдёт с ГРВ-граммой, она никуда не отнесётся, останется всё также кандидатом на рассмотрение.

- Цифра 0: отнести данную ГРВ-грамму к классу 0.

- Цифра 1: отнести данную ГРВ-грамму к классу 1.

- Цифра 2: отнести данную ГРВ-грамму к классу 2.

- Цифра 3: отнести данную ГРВ-грамму к классу 3.

- Цифра 4: отнести данную ГРВ-грамму к классу 4.

Цифры 0-4 также работают с нумпада. Управление клавишами 0-4 нужно в случае, если управление стрелками вверх и вниз представляется неудобным.

## Сохранение прогресса

В любой момент можно закрыть программу, сделанный прогресс сохранится. Главное нужно запомнить ID ГРВ-граммы, на которой остановились (см. зону 2). В случае, продолжения работы, нужно нажать кнопку 7 (в зоне интерфейса 7) и ввести ID ГРВ-граммы, который запоминался перед выходом.

Предположим, перед выходом пользователь видел следующую картину:

![](./imgs/2.png)

Тогда при выходе из программы и повторным её запуском нужно нажать кнопку 7 и ввести ID 2207 и нажать "goto", затем "Close".

![](./imgs/3.png)

После этого прогресс вернётся:

![](./imgs/4.png)

Просмотреть текущий прогресс классификации можно в директории `exe.macosx-10.9-universal2-3.11/lib/konciliation/output`. Эту же директорию нужно будет передать как итоговый результат пересмотра.

