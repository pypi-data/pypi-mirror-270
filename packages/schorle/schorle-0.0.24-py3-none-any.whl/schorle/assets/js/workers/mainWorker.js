let o,n,s,i=e=>{s=new WebSocket(e),s.onmessage=t=>{let a=JSON.parse(t.data);self.postMessage(a)},s.onclose=()=>{console.log("Worker closed connection")}},d=e=>{o=e.data.sessionId,n=e.data.wsUrl,console.log("Worker initialized with session id:",o),i(n)},l=e=>{s.send(JSON.stringify(e.data))};self.addEventListener("message",e=>{switch(console.log("Worker received message from client",e.data),e.data.type){case"init":d(e);break;case"event":l(e);break}});
