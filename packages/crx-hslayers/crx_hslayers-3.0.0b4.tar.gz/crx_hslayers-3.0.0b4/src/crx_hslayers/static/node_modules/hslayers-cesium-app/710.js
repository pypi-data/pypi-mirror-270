(self.webpackChunkhslayers_cesium_app=self.webpackChunkhslayers_cesium_app||[]).push([[710],{88692:(U,V,r)=>{"use strict";r.d(V,{x:()=>O});var u=r(68559),e=r(60316),R=r(34456);const F=()=>({standalone:!0});function t(S,Q){if(1&S){const g=u.RV6();u.j41(0,"input",5),u.mxI("ngModelChange",function(f){u.eBV(g);const M=u.XpG();return u.DH7(M.attribute.value,f)||(M.attribute.value=f),u.Njj(f)}),u.bIt("change",function(){u.eBV(g);const f=u.XpG();return u.Njj(f.change())}),u.k0s()}if(2&S){const g=u.XpG();u.R50("ngModel",g.attribute.value),u.Y8G("readonly",g.readonly)("ngModelOptions",u.lJ4(3,F))}}function T(S,Q){if(1&S){const g=u.RV6();u.j41(0,"textarea",6),u.mxI("ngModelChange",function(f){u.eBV(g);const M=u.XpG();return u.DH7(M.tmpObjectValue,f)||(M.tmpObjectValue=f),u.Njj(f)}),u.bIt("change",function(){u.eBV(g);const f=u.XpG();return u.Njj(f.change())}),u.EFF(1,"            "),u.k0s()}if(2&S){const g=u.XpG();u.R50("ngModel",g.tmpObjectValue),u.Y8G("readonly",g.readonly)("ngModelOptions",u.lJ4(3,F))}}let O=(()=>{class S{constructor(){this.isObject=!1}ngOnInit(){this.checkAttributeValue()}change(){if(this.feature?.feature){this.feature.feature.set(this.attribute.name,this.isObject?JSON.parse(this.tmpObjectValue):this.attribute.value)}}checkAttributeValue(){"object"==typeof this.attribute.value&&!Array.isArray(this.attribute.value)&&(this.isObject=!0,this.tmpObjectValue=JSON.stringify(this.attribute.value))}static#e=this.\u0275fac=function(D){return new(D||S)};static#t=this.\u0275cmp=u.VBU({type:S,selectors:[["hs-query-attribute-row"]],inputs:{attribute:"attribute",feature:"feature",readonly:"readonly",template:"template"},decls:6,vars:3,consts:[[1,"row"],[1,"input-group","m-1"],[1,"input-group-text"],["class","form-control",3,"ngModel","readonly","ngModelOptions","ngModelChange","change",4,"ngIf"],["class","form-control","name","attributeValue",3,"ngModel","readonly","ngModelOptions","ngModelChange","change",4,"ngIf"],[1,"form-control",3,"ngModelChange","change","ngModel","readonly","ngModelOptions"],["name","attributeValue",1,"form-control",3,"ngModelChange","change","ngModel","readonly","ngModelOptions"]],template:function(D,f){1&D&&(u.j41(0,"div",0)(1,"div",1)(2,"span",2),u.EFF(3),u.k0s(),u.DNE(4,t,1,4,"input",3)(5,T,2,4,"textarea",4),u.k0s()()),2&D&&(u.R7$(3),u.JRh(f.attribute.name),u.R7$(),u.Y8G("ngIf",!f.isObject),u.R7$(),u.Y8G("ngIf",f.isObject))},dependencies:[e.bT,R.me,R.BC,R.vS],encapsulation:2})}return S})()},73213:(U,V,r)=>{"use strict";r.d(V,{u:()=>Q});var u=r(75797),e=r(88716),R=r(68559),F=r(76253),t=r(78373),T=r(91459),O=r(14608),S=r(27426);let Q=(()=>{class g{constructor(f,M,L,j,H){this.hsQueryVectorService=f,this.hsToastService=M,this.hsLanguageService=L,this.hsMapService=j,this.hsLayerUtilsService=H,this.listSubject=new u.t([]),this.availableLayer$=this.listSubject.asObservable(),this.hsMapService.loaded().then(G=>{G.getLayers().on("change:length",()=>{this.updateLayerList()})})}translateString(f,M){return this.hsLanguageService.getTranslationIgnoreNonExisting(f,M,void 0)}updateLayerList(){const f=this.hsMapService.getLayersArray().filter(M=>this.hsLayerUtilsService.isLayerDrawable(M));this.listSubject.next(f)}toggleExportMenu(f,M){for(const L of f)L.serializedData=this.hsQueryVectorService.exportData(L.name,M)}moveOrCopyFeature(f,M,L){M.forEach(j=>{j.setStyle(null),L.getSource().addFeature(j.clone()),"move"==f&&this.hsQueryVectorService.removeFeature(j)}),this.hsToastService.createToastPopupMessage(this.hsLanguageService.getTranslation("QUERY.feature.featureEdited"),this.hsLanguageService.getTranslation(`QUERY.feature.feature${f}Succ`,void 0)+(0,e.LK)(L),{toastStyleClasses:"bg-success text-light",serviceCalledFrom:"HsFeatureCommonService"})}static#e=this.\u0275fac=function(M){return new(M||g)(R.KVO(F.Y),R.KVO(t.ST),R.KVO(T.LJ),R.KVO(O.F),R.KVO(S.Xp))};static#t=this.\u0275prov=R.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})()},21808:(U,V,r)=>{"use strict";r.d(V,{b:()=>o});var u=r(89204),e=r(75889),R=r(40804),F=r(88716),t=r(68559),T=r(76253),O=r(93108),S=r(73213),Q=r(60316),g=r(34456),D=r(46158),f=r(20572),M=r(82352),L=r(31968);const j=a=>({flex:a}),H=a=>({show:a}),G=()=>({module:"LAYERS"});function Y(a,l){if(1&a){const i=t.RV6();t.j41(0,"a",20),t.bIt("downloadPrepared",function(p){const E=t.eBV(i).$implicit;return t.Njj(E.downloadData=p)}),t.EFF(1),t.k0s()}if(2&a){const i=l.$implicit;t.Y8G("download",i.name+"_file."+i.ext)("hsDownload",i.serializedData)("mimeType",i.mimeType)("href",i.downloadData,t.B4B),t.R7$(),t.SpI(" ",i.name,"")}}function $(a,l){if(1&a){const i=t.RV6();t.j41(0,"div",9)(1,"div",10)(2,"button",11),t.bIt("click",function(){t.eBV(i);const p=t.XpG(2);return t.Njj(p.toggleEditMenu())}),t.nrm(3,"i",12),t.k0s(),t.j41(4,"div",13)(5,"a",14),t.bIt("click",function(){t.eBV(i);const p=t.XpG(2);return t.Njj(p.editTypeSelected("copy"))}),t.EFF(6),t.nI1(7,"translateHs"),t.k0s(),t.j41(8,"a",14),t.bIt("click",function(){t.eBV(i);const p=t.XpG(2);return t.Njj(p.editTypeSelected("move"))}),t.EFF(9),t.nI1(10,"translateHs"),t.k0s()()(),t.j41(11,"div",10)(12,"button",15),t.nI1(13,"translateHs"),t.bIt("click",function(){t.eBV(i);const p=t.XpG(2);return t.Njj(p.toggleExportMenu())}),t.nrm(14,"i",16),t.k0s(),t.j41(15,"div",13),t.DNE(16,Y,2,5,"a",17),t.k0s()(),t.j41(17,"button",18),t.nI1(18,"translateHs"),t.bIt("click",function(){t.eBV(i);const p=t.XpG(2);return t.Njj(p.removeAllSelectedFeatures())}),t.nrm(19,"i",19),t.k0s()()}if(2&a){const i=t.XpG(2);t.R7$(4),t.Y8G("ngClass",t.eq3(15,H,i.editMenuVisible)),t.R7$(2),t.JRh(t.bMT(7,7,"QUERY.feature.copyFeatures")),t.R7$(3),t.JRh(t.bMT(10,9,"QUERY.feature.moveFeatures")),t.R7$(3),t.Y8G("title",t.bMT(13,11,"QUERY.downloadAs")),t.R7$(3),t.Y8G("ngClass",t.eq3(17,H,i.exportMenuVisible)),t.R7$(),t.Y8G("ngForOf",i.exportFormats),t.R7$(),t.Y8G("title",t.bMT(18,13,"QUERY.deleteAllSelected"))}}function N(a,l){if(1&a&&(t.j41(0,"option",29),t.EFF(1),t.nI1(2,"translateHs"),t.k0s()),2&a){const i=l.$implicit,m=t.XpG(3);t.Y8G("ngValue",i),t.R7$(),t.SpI(" ",t.i5U(2,2,m.getTitle(i),t.lJ4(5,G)),"")}}function X(a,l){if(1&a){const i=t.RV6();t.j41(0,"div",21)(1,"div",22)(2,"label",23),t.EFF(3),t.nI1(4,"translateHs"),t.k0s(),t.j41(5,"select",24),t.nI1(6,"translateHs"),t.mxI("ngModelChange",function(p){t.eBV(i);const E=t.XpG(2);return t.DH7(E.selectedLayer,p)||(E.selectedLayer=p),t.Njj(p)}),t.j41(7,"option",25),t.EFF(8),t.nI1(9,"translateHs"),t.k0s(),t.DNE(10,N,3,6,"option",26),t.nI1(11,"async"),t.k0s(),t.j41(12,"button",27),t.bIt("click",function(){t.eBV(i);const p=t.XpG(2);return t.Njj(p.moveOrCopyFeature())}),t.nrm(13,"i",28),t.k0s()()()}if(2&a){const i=t.XpG(2);t.R7$(3),t.Lme("",i.translateString("QUERY.feature",i.editType+"Features")," ",t.bMT(4,9,"COMMON.into"),":"),t.R7$(2),t.R50("ngModel",i.selectedLayer),t.Y8G("title",t.bMT(6,11,"ADDLAYERS.Vector.chooseLayer")),t.R7$(2),t.Y8G("ngValue",null)("disabled",!0),t.R7$(),t.SpI(" ",t.bMT(9,13,"ADDLAYERS.Vector.chooseLayer"),""),t.R7$(2),t.Y8G("ngForOf",t.bMT(11,15,i.hsFeatureCommonService.availableLayer$)),t.R7$(2),t.Y8G("disabled",!i.selectedLayer)}}function k(a,l){if(1&a){const i=t.RV6();t.j41(0,"div",2)(1,"div",3)(2,"div",4)(3,"p",5),t.EFF(4),t.nI1(5,"translateHs"),t.k0s(),t.j41(6,"button",6),t.nI1(7,"translateHs"),t.bIt("click",function(){t.eBV(i);const p=t.XpG();return t.Njj(p.selectedFeaturesVisible=!p.selectedFeaturesVisible)}),t.k0s()(),t.DNE(8,$,20,19,"div",7),t.k0s(),t.DNE(9,X,14,17,"div",8),t.k0s()}if(2&a){const i=t.XpG();t.R7$(3),t.Y8G("ngStyle",t.eq3(10,j,i.hsQueryBaseService.features.length>1?"":"1")),t.R7$(),t.Lme(" ",t.bMT(5,6,"QUERY.featuresSelected"),"",i.hsQueryBaseService.features.length," "),t.R7$(2),t.Y8G("title",t.bMT(7,8,"HISTORY.toggleDropdown")),t.R7$(2),t.Y8G("ngIf",i.olFeatureArray().length>0),t.R7$(),t.Y8G("ngIf",i.editType)}}function _(a,l){1&a&&t.nrm(0,"hs-query-feature",31),2&a&&t.Y8G("feature",l.$implicit)}function I(a,l){if(1&a&&(t.j41(0,"div"),t.DNE(1,_,1,1,"hs-query-feature",30),t.nI1(2,"slice"),t.k0s()),2&a){const i=t.XpG();t.R7$(),t.Y8G("ngForOf",t.brH(2,2,i.hsQueryBaseService.features,0,50))("ngForTrackBy",i.trackById)}}let o=(()=>{class a{constructor(i,m,p,E){this.hsQueryVectorService=i,this.hsDialogContainerService=m,this.hsFeatureCommonService=p,this.hsQueryBaseService=E,this.selectedFeaturesVisible=!0,this.exportFormats=[{name:"WKT",ext:"wkt",mimeType:"text/plain",downloadData:""},{name:"GeoJSON",ext:"geojson",mimeType:"application/json",downloadData:""}],this.editType=null,this.editMenuVisible=!1,this.selectedLayer=null,this.getTitle=F.LK}trackById(i,m){return m.feature?(0,e.v6)(m.feature):JSON.stringify(m)}olFeatureArray(){return this.hsQueryBaseService.features.map(i=>i.feature).filter(i=>i)}toggleMenus(i,m){this[m]=this[m]?!this[m]:this[m],this[i]=!this[i]}toggleExportMenu(){this.hsFeatureCommonService.toggleExportMenu(this.exportFormats,this.olFeatureArray()),this.toggleMenus("exportMenuVisible","editMenuVisible")}toggleEditMenu(){this.editType?this.editType=null:this.toggleMenus("editMenuVisible","exportMenuVisible")}editTypeSelected(i){this.editType=i,this.editMenuVisible=!this.editMenuVisible}moveOrCopyFeature(){this.hsFeatureCommonService.moveOrCopyFeature(this.editType,this.olFeatureArray(),this.selectedLayer)}removeAllSelectedFeatures(){var i=this;return(0,u.A)(function*(){if("yes"==(yield i.hsDialogContainerService.create(R.d,{message:"QUERY.reallyDeleteAllSelectedLayers",title:"COMMON.confirmDelete"}).waitResult()))for(const E of i.hsQueryBaseService.features)setTimeout(()=>{i.hsQueryVectorService.removeFeature(E.feature)},250)})()}translateString(i,m){return this.hsFeatureCommonService.translateString(i,m)}static#e=this.\u0275fac=function(m){return new(m||a)(t.rXU(T.Y),t.rXU(O.oE),t.rXU(S.u),t.rXU(T.o))};static#t=this.\u0275cmp=t.VBU({type:a,selectors:[["hs-query-feature-list"]],decls:3,vars:2,consts:[["class","navbar navbar-light bg-light px-1",4,"ngIf"],[4,"ngIf"],[1,"navbar","navbar-light","bg-light","px-1"],[1,"d-flex","align-items-baseline","w-100"],[1,"d-flex","align-items-baseline",2,"flex","1"],[1,"m-0",3,"ngStyle"],["type","button",1,"btn","dropdown-toggle","border-0","ms-2",3,"click","title"],["class","btn-group",4,"ngIf"],["class","d-flex p-2 w-100",4,"ngIf"],[1,"btn-group"],["ngbDropdown","","placement","bottom","display","dynamic",1,"btn-group"],["ngbDropdownToggle","","type","button",1,"btn","btn-secondary","btn-sm",3,"click"],[1,"icon-settingsthree-gears"],["ngbDropdownMenu","",3,"ngClass"],[1,"dropdown-item",3,"click"],["ngbDropdownToggle","","type","button",1,"btn","btn-secondary","btn-sm","rounded-0",3,"click","title"],[1,"icon-download"],["class","dropdown-item",3,"download","hsDownload","mimeType","href","downloadPrepared",4,"ngFor","ngForOf"],["type","button",1,"btn-danger","btn","btn-sm","border-0",3,"click","title"],[1,"glyphicon","icon-trash"],[1,"dropdown-item",3,"downloadPrepared","download","hsDownload","mimeType","href"],[1,"d-flex","p-2","w-100"],[1,"d-flex","w-100","input-group","input-group-sm","align-items-baseline"],["for","selectedLayer",1,"px-2"],["name","selectedLayer",1,"form-control","text-truncate",3,"ngModelChange","ngModel","title"],["selected","","hidden","",3,"ngValue","disabled"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"btn","btn-primary","btn-sm",3,"click","disabled"],[1,"icon-save-floppy"],[3,"ngValue"],[3,"feature",4,"ngFor","ngForOf","ngForTrackBy"],[3,"feature"]],template:function(m,p){1&m&&(t.qex(0),t.DNE(1,k,10,12,"div",0)(2,I,3,6,"div",1),t.bVm()),2&m&&(t.R7$(),t.Y8G("ngIf",p.hsQueryBaseService.features.length>0),t.R7$(),t.Y8G("ngIf",p.selectedFeaturesVisible))},dependencies:[Q.YU,Q.Sq,Q.bT,Q.B3,g.xH,g.y7,g.wz,g.BC,g.vS,D.p,f.tg,f.do,f.U0,M.v,Q.Jj,Q.P9,L.q],encapsulation:2})}return a})()},82352:(U,V,r)=>{"use strict";r.d(V,{v:()=>k});var u=r(88716),e=r(68559),R=r(14608),F=r(76253),t=r(73213),T=r(60316),O=r(34456),S=r(46158),Q=r(20572),g=r(88692),D=r(31968);const f=()=>({module:"LAYERS"}),M=_=>({show:_});function L(_,I){1&_&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translateHs"),e.k0s()),2&_&&(e.R7$(),e.JRh(e.bMT(2,1,"QUERY.feature.inLayer")))}function j(_,I){if(1&_&&e.nrm(0,"hs-query-attribute-row",16),2&_){const o=I.$implicit,a=e.XpG();e.Y8G("template",a.feature.hstemplate)("feature",a.feature)("attribute",o)("readonly",!1)}}function H(_,I){if(1&_&&e.nrm(0,"hs-query-attribute-row",17),2&_){const o=I.$implicit,a=e.XpG();e.Y8G("feature",a.feature)("attribute",o)("readonly",!0)}}function G(_,I){if(1&_){const o=e.RV6();e.j41(0,"div",18)(1,"div",19)(2,"input",20),e.mxI("ngModelChange",function(l){e.eBV(o);const i=e.XpG();return e.DH7(i.attributeName,l)||(i.attributeName=l),e.Njj(l)}),e.k0s(),e.j41(3,"label",21),e.EFF(4),e.nI1(5,"translateHs"),e.k0s()(),e.j41(6,"div",22)(7,"input",23),e.mxI("ngModelChange",function(l){e.eBV(o);const i=e.XpG();return e.DH7(i.attributeValue,l)||(i.attributeValue=l),e.Njj(l)}),e.k0s(),e.j41(8,"label",24),e.EFF(9),e.nI1(10,"translateHs"),e.k0s()(),e.j41(11,"div",25)(12,"button",26),e.bIt("click",function(){e.eBV(o);const l=e.XpG();return e.Njj(l.saveNewAttribute(l.attributeName,l.attributeValue))}),e.EFF(13),e.nI1(14,"translateHs"),e.nrm(15,"i",14),e.k0s()()()}if(2&_){const o=e.XpG();e.R7$(2),e.Y8G("placeholder",o.attributeName),e.R50("ngModel",o.attributeName),e.R7$(2),e.JRh(e.bMT(5,9,"QUERY.feature.attributeName")),e.R7$(2),e.Y8G("hidden",!(o.attributeName&&o.newAttribVisible)),e.R7$(),e.Y8G("placeholder",o.attributeValue),e.R50("ngModel",o.attributeValue),e.R7$(2),e.JRh(e.bMT(10,11,"QUERY.feature.attributeValue")),e.R7$(2),e.Y8G("hidden",!(o.attributeName&&o.attributeValue&&o.newAttribVisible)),e.R7$(2),e.JRh(e.bMT(14,13,"COMMON.save"))}}function Y(_,I){if(1&_&&(e.j41(0,"option",27),e.EFF(1),e.nI1(2,"translateHs"),e.k0s()),2&_){const o=I.$implicit,a=e.XpG();e.Y8G("ngValue",o),e.R7$(),e.SpI(" ",e.i5U(2,2,a.getTitle(o),e.lJ4(5,f)),"")}}function $(_,I){if(1&_){const o=e.RV6();e.j41(0,"a",43),e.bIt("downloadPrepared",function(l){const i=e.eBV(o).$implicit;return e.Njj(i.downloadData=l)}),e.EFF(1),e.k0s()}if(2&_){const o=I.$implicit;e.Y8G("download",o.name+"_file."+o.ext)("hsDownload",o.serializedData)("mimeType",o.mimeType)("href",o.downloadData,e.B4B),e.R7$(),e.JRh(o.name)}}function N(_,I){if(1&_){const o=e.RV6();e.j41(0,"button",44),e.bIt("click",function(){e.eBV(o);const l=e.XpG(2);return e.Njj(l.removeFeature())}),e.nrm(1,"i",45),e.k0s()}}function X(_,I){if(1&_){const o=e.RV6();e.j41(0,"div",28)(1,"div",29)(2,"div",30)(3,"button",31),e.bIt("click",function(){e.eBV(o);const l=e.XpG();return e.Njj(l.newAttribVisible=!l.newAttribVisible)}),e.nrm(4,"i",32),e.k0s(),e.j41(5,"button",31),e.bIt("click",function(){e.eBV(o);const l=e.XpG();return e.Njj(l.zoomToFeature())}),e.nrm(6,"i",33),e.k0s(),e.j41(7,"div",34)(8,"button",35),e.bIt("click",function(){e.eBV(o);const l=e.XpG();return e.Njj(l.toggleEditMenu())}),e.nrm(9,"i",36),e.k0s(),e.j41(10,"div",37)(11,"a",38),e.bIt("click",function(){e.eBV(o);const l=e.XpG();return e.Njj(l.editTypeSelected("copy"))}),e.EFF(12),e.nI1(13,"translateHs"),e.k0s(),e.j41(14,"a",38),e.bIt("click",function(){e.eBV(o);const l=e.XpG();return e.Njj(l.editTypeSelected("move"))}),e.EFF(15),e.nI1(16,"translateHs"),e.k0s()()(),e.j41(17,"div",34)(18,"button",39),e.nI1(19,"translateHs"),e.bIt("click",function(){e.eBV(o);const l=e.XpG();return e.Njj(l.toggleExportMenu())}),e.nrm(20,"i",40),e.k0s(),e.j41(21,"div",37),e.DNE(22,$,2,5,"a",41),e.k0s()(),e.DNE(23,N,2,0,"button",42),e.k0s()()()}if(2&_){const o=e.XpG();e.R7$(10),e.Y8G("ngClass",e.eq3(13,M,o.editMenuVisible)),e.R7$(2),e.JRh(e.bMT(13,7,"QUERY.feature.copyFeature")),e.R7$(3),e.JRh(e.bMT(16,9,"QUERY.feature.moveFeature")),e.R7$(3),e.Y8G("title",e.bMT(19,11,"QUERY.downloadAs")),e.R7$(3),e.Y8G("ngClass",e.eq3(15,M,o.exportMenuVisible)),e.R7$(),e.Y8G("ngForOf",o.exportFormats),e.R7$(),e.Y8G("ngIf",o.isFeatureRemovable())}}let k=(()=>{class _{constructor(o,a,l){this.hsMapService=o,this.hsQueryVectorService=a,this.hsFeatureCommonService=l,this.attributeName="",this.attributeValue="",this.newAttribVisible=!1,this.exportFormats=[{name:"WKT",ext:"wkt",mimeType:"text/plain",downloadData:""},{name:"GeoJSON",ext:"geojson",mimeType:"application/json",downloadData:""}],this.exportMenuVisible=!1,this.editMenuVisible=!1,this.selectedLayer=null,this.getTitle=u.LK,this.availableLayers=[]}ngOnInit(){this.availableLayersSubscription=this.hsFeatureCommonService.availableLayer$.subscribe(o=>{if(!this.olFeature())return;const a=this.hsMapService.getLayerForFeature(this.olFeature());this.availableLayers=o.filter(l=>l!=a)})}ngOnDestroy(){this.availableLayersSubscription?.unsubscribe()}olFeature(){return this.feature?.feature}isFeatureRemovable(){return!!this.olFeature()&&this.hsQueryVectorService.isFeatureRemovable(this.olFeature())}saveNewAttribute(o,a){if(this.feature?.feature){const l=this.feature.feature;0==this.feature.attributes.filter(m=>m.name==o).length&&(this.feature.attributes.push({name:o,value:a}),l.set(o,a))}this.newAttribVisible=!this.newAttribVisible,this.attributeName="",this.attributeValue=""}removeFeature(){this.hsQueryVectorService.removeFeature(this.olFeature())}zoomToFeature(){const o=this.olFeature().getGeometry().getExtent();this.hsMapService.fitExtent(o)}toggleMenus(o,a){this[a]=this[a]?!this[a]:this[a],this[o]=!this[o]}toggleExportMenu(){this.hsFeatureCommonService.toggleExportMenu(this.exportFormats,this.olFeature()),this.toggleMenus("exportMenuVisible","editMenuVisible")}editTypeSelected(o){this.editType=o,this.editMenuVisible=!this.editMenuVisible}toggleEditMenu(){this.editType?this.editType=null:this.toggleMenus("editMenuVisible","exportMenuVisible")}moveOrCopyFeature(){this.hsFeatureCommonService.moveOrCopyFeature(this.editType,[this.olFeature()],this.selectedLayer)}translateString(o,a){return this.hsFeatureCommonService.translateString(o,a)}static#e=this.\u0275fac=function(a){return new(a||_)(e.rXU(R.F),e.rXU(F.Y),e.rXU(t.u))};static#t=this.\u0275cmp=e.VBU({type:_,selectors:[["hs-query-feature"]],inputs:{feature:"feature"},decls:24,vars:23,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12","m-2"],[4,"ngIf"],[3,"template","feature","attribute","readonly",4,"ngFor","ngForOf"],[3,"feature","attribute","readonly",4,"ngFor","ngForOf"],["class","bg-light p-2 my-3",4,"ngIf"],[1,"row","p-2",3,"hidden"],[1,"d-flex","w-100","input-group","input-group-sm","align-items-baseline"],["for","selectedLayer",1,"px-2"],["name","selectedLayer",1,"form-control","text-truncate",3,"ngModelChange","title","ngModel"],["selected","","hidden","",3,"ngValue","disabled"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"btn","btn-primary","btn-sm",3,"click","disabled"],[1,"icon-save-floppy"],["class","justify-content-end","style","padding-left: 10px",4,"ngIf"],[3,"template","feature","attribute","readonly"],[3,"feature","attribute","readonly"],[1,"bg-light","p-2","my-3"],[1,"form-floating","mb-3"],["name","hs-add-feature-attribute-name",1,"form-control",3,"ngModelChange","placeholder","ngModel"],["for","hs-add-feature-attribute-name"],[1,"form-floating","mb-3",3,"hidden"],["name","hs-add-feature-attribute-value",1,"form-control",3,"ngModelChange","placeholder","ngModel"],["for","hs-add-feature-attribute-value"],[1,"row","justify-content-end",3,"hidden"],[1,"btn","btn-primary","btn-sm","w-auto","d-flex","gap-2","mx-2",3,"click"],[3,"ngValue"],[1,"justify-content-end",2,"padding-left","10px"],[1,"mx-1","mb-2","text-end"],[1,"btn-group"],[1,"btn","btn-secondary","btn-sm",3,"click"],[1,"icon-calcplus"],[1,"icon-search"],["ngbDropdown","","placement","bottom","display","dynamic",1,"btn-group"],["ngbDropdownToggle","","type","button",1,"btn","btn-secondary","btn-sm",3,"click"],[1,"icon-settingsthree-gears"],["ngbDropdownMenu","",3,"ngClass"],[1,"dropdown-item",3,"click"],["ngbDropdownToggle","","type","button",1,"btn","btn-secondary","btn-sm","rounded-0",3,"click","title"],[1,"icon-download"],["class","dropdown-item",3,"download","hsDownload","mimeType","href","downloadPrepared",4,"ngFor","ngForOf"],["class","btn btn-danger btn-sm",3,"click",4,"ngIf"],[1,"dropdown-item",3,"downloadPrepared","download","hsDownload","mimeType","href"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"icon-trash"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"strong"),e.EFF(4),e.DNE(5,L,3,3,"span",3),e.EFF(6),e.k0s()()(),e.DNE(7,j,1,4,"hs-query-attribute-row",4)(8,H,1,3,"hs-query-attribute-row",5)(9,G,16,15,"div",6),e.j41(10,"div",7)(11,"div",8)(12,"label",9),e.EFF(13),e.nI1(14,"translateHs"),e.k0s(),e.j41(15,"select",10),e.nI1(16,"translateHs"),e.mxI("ngModelChange",function(m){return e.DH7(l.selectedLayer,m)||(l.selectedLayer=m),m}),e.j41(17,"option",11),e.EFF(18),e.nI1(19,"translateHs"),e.k0s(),e.DNE(20,Y,3,6,"option",12),e.k0s(),e.j41(21,"button",13),e.bIt("click",function(){return l.moveOrCopyFeature()}),e.nrm(22,"i",14),e.k0s()()()(),e.DNE(23,X,24,17,"div",15)),2&a&&(e.R7$(4),e.SpI("",l.feature.name," "),e.R7$(),e.Y8G("ngIf",l.feature.layer),e.R7$(),e.SpI(" ",l.feature.layer,""),e.R7$(),e.Y8G("ngForOf",l.feature.attributes),e.R7$(),e.Y8G("ngForOf",l.feature.stats),e.R7$(),e.Y8G("ngIf",l.newAttribVisible),e.R7$(),e.Y8G("hidden",!l.editType),e.R7$(3),e.Lme("",l.translateString("QUERY.feature",l.editType+"Feature")," ",e.bMT(14,17,"COMMON.into"),":"),e.R7$(2),e.Y8G("title",e.bMT(16,19,"ADDLAYERS.Vector.chooseLayer")),e.R50("ngModel",l.selectedLayer),e.R7$(2),e.Y8G("ngValue",null)("disabled",!0),e.R7$(),e.SpI(" ",e.bMT(19,21,"ADDLAYERS.Vector.chooseLayer"),""),e.R7$(2),e.Y8G("ngForOf",l.availableLayers),e.R7$(),e.Y8G("disabled",!l.selectedLayer),e.R7$(2),e.Y8G("ngIf",void 0!==l.olFeature()))},dependencies:[T.YU,T.Sq,T.bT,O.xH,O.y7,O.me,O.wz,O.BC,O.vS,S.p,Q.tg,Q.do,Q.U0,g.x,D.q],encapsulation:2})}return _})()},32710:(U,V,r)=>{"use strict";r.r(V),r.d(V,{HsFeatureCommonService:()=>f.u,HsQueryAttributeRowComponent:()=>u.x,HsQueryComponent:()=>ve,HsQueryDefaultInfoPanelBodyComponent:()=>D,HsQueryFeatureComponent:()=>M.v,HsQueryFeatureListComponent:()=>T.b,HsQueryModule:()=>be,HsQueryWmsService:()=>ie,HsQueryWmtsService:()=>ne});var u=r(88692),e=r(68559),R=r(76253),F=r(60316),t=r(20572),T=r(21808),O=r(31968);function S(d,v){1&d&&e.nrm(0,"div",9),2&d&&e.Y8G("innerHtml",v.$implicit,e.npT)}function Q(d,v){if(1&d&&(e.j41(0,"tr")(1,"td",10),e.EFF(2),e.k0s(),e.nrm(3,"td",11),e.k0s()),2&d){const n=v.$implicit;e.R7$(2),e.JRh(n.name),e.R7$(),e.Y8G("innerHtml",n.value,e.npT)}}function g(d,v){if(1&d&&(e.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"button",4),e.EFF(4),e.nI1(5,"translateHs"),e.k0s(),e.DNE(6,S,1,1,"div",5),e.k0s(),e.nrm(7,"hs-query-feature-list"),e.j41(8,"table",6)(9,"tbody"),e.DNE(10,Q,4,2,"tr",7),e.k0s()()(),e.nrm(11,"iframe",8),e.k0s()),2&d){const n=e.XpG();e.R7$(2),e.Y8G("hidden",!(n.hsQueryBaseService.featureInfoHtmls.length>0)),e.R7$(2),e.SpI(" ",e.bMT(5,5,"QUERY.featureInfo")," "),e.R7$(2),e.Y8G("ngForOf",n.hsQueryBaseService.featureInfoHtmls),e.R7$(2),e.Y8G("hidden",!(n.hsQueryBaseService.attributes.length>0)),e.R7$(2),e.Y8G("ngForOf",n.hsQueryBaseService.attributes)}}let D=(()=>{class d{constructor(n){this.hsQueryBaseService=n}ngOnInit(){this.featureInfoExpanded=!0}static#e=this.\u0275fac=function(s){return new(s||d)(e.rXU(R.o))};static#t=this.\u0275cmp=e.VBU({type:d,selectors:[["hs-query-default-info-panel-body"]],decls:1,vars:1,consts:[["class","card hs-main-panel",4,"ngIf"],[1,"card","hs-main-panel"],[1,"card-body"],["ngbDropdown","",3,"hidden"],["ngbDropdownToggle","",1,"btn","btn-light","w-100","rounded-0"],["ngbDropdownMenu","","class","position-relative w-100",3,"innerHtml",4,"ngFor","ngForOf"],[1,"table","table-striped",2,"table-layout","fixed",3,"hidden"],[4,"ngFor","ngForOf"],["id","invisible_popup",2,"display","block","z-index","12122","left","-10000px","position","absolute"],["ngbDropdownMenu","",1,"position-relative","w-100",3,"innerHtml"],[1,"first-col"],[1,"second-col",3,"innerHtml"]],template:function(s,c){1&s&&e.DNE(0,g,12,7,"div",0),2&s&&e.Y8G("ngIf",c.hsQueryBaseService.features.length>0||c.hsQueryBaseService.coordinates.length>0)},dependencies:[F.Sq,F.bT,t.tg,t.do,t.U0,T.b,O.q],encapsulation:2})}return d})();var f=r(73213),M=r(82352),L=r(89204),j=r(46443),H=r(46059),G=r(84243),Y=r(9149),$=r(47601),N=r(94177),X=r(37923),k=r(69664),_=r(23880),I=r(12332);const i=class l extends k.A{constructor(v){super(),v=v||{},this.featureNS_="http://mapserver.gis.umn.edu/mapserver",this.gmlFormat_=new X.A,this.layers_=v.layers?v.layers:null}getLayers(){return this.layers_}setLayers(v){this.layers_=v}readFeatures_(v,n){v.setAttribute("namespaceURI",this.featureNS_);const s=v.localName;let c=[];if(0===v.childNodes.length)return c;if("msGMLOutput"==s)for(let h=0,b=v.childNodes.length;h<b;h++){const y=v.childNodes[h];if(y.nodeType!==Node.ELEMENT_NODE)continue;const C=y,x=n[0],B=C.localName.replace("_layer","");if(this.layers_&&!this.layers_.includes(B))continue;const K=B+"_feature";x.featureType=K,x.featureNS=this.featureNS_;const W={};W[K]=(0,I.VT)(this.gmlFormat_.readFeatureElement,this.gmlFormat_);const J=(0,I.Dm)([x.featureNS,null],W);C.setAttribute("namespaceURI",this.featureNS_);const ee=(0,I.eY)([],J,C,n,this.gmlFormat_);ee&&(0,_.X$)(c,ee)}if("FeatureCollection"==s){const h=(0,I.eY)([],this.gmlFormat_.FEATURE_COLLECTION_PARSERS,v,[{}],this.gmlFormat_);h&&(c=h)}return c}readFeaturesFromNode(v,n){const s={};return n&&Object.assign(s,this.getReadOptions(v,n)),this.readFeatures_(v,[s])}};var m=r(5342),p=r(27426),E=r(88716),z=r(14608),se=r(91459),te=r(38243),re=r(45363);let ne=(()=>{class d{constructor(n,s){this.hsMapService=n,this.hsUtilsService=s}parseRequestURL(n,s){var c=this;return(0,L.A)(function*(){const h=n.getSource();s=(0,re.transform)(s,c.hsMapService.getCurrentProj(),h.getProjection());const b=h.getTileGrid(),y=b.getTileCoordForCoordAndResolution(s,c.hsMapService.getMap().getView().getResolution()),C=b.getTileCoordExtent(y),x=b.getResolution(y[0]),A=b.getMatrixIds()[y[0]],B=Math.floor((s[0]-C[0])/(x/1)),K=Math.floor((C[3]-s[1])/(x/1)),W=h.getUrls()[0],J={LAYER:h.getLayer(),service:"WMTS",INFOFORMAT:(0,E.G2)(n),REQUEST:"GetFeatureInfo",TileCol:y[1],TileRow:y[2],I:B,J:K,TILEMATRIXSET:h.getMatrixSet(),TileMatrix:A,feature_count:h.getLayer().length};return{url:[W,c.hsUtilsService.paramsToURLWoEncode(J)].join(""),format:J.INFOFORMAT}})()}static#e=this.\u0275fac=function(s){return new(s||d)(e.KVO(z.F),e.KVO(p.MJ))};static#t=this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})(),ie=(()=>{class d{constructor(n,s,c,h,b,y,C,x){this.hsMapService=n,this.hsLayerUtilsService=s,this.hsLanguageService=c,this.hsUtilsService=h,this.httpClient=b,this.hsLogService=y,this.hsQueryWmtsService=C,this.hsQueryBaseService=x,this.infoCounter=0,this.hsQueryBaseService.getFeatureInfoStarted.subscribe(A=>{this.infoCounter=0,this.hsMapService.getLayersArray().forEach(B=>{1==(0,E.W1)(B)||0==B.get("queryable")||null!=(0,E.Hs)(B)&&!(0,E.Hs)(B)(this.hsMapService.getMap(),B,A.pixel)||this.queryWmsLayer(((0,p.Uz)(B,H.A),B),A.coordinate)})})}updateFeatureList(n,s){n&&this.hsQueryBaseService.set(s,"features")}request(n,s,c,h){var b=this;return(0,L.A)(function*(){const y=b.hsUtilsService.proxify(n),C=b.hsQueryBaseService.currentQuery;try{new Headers({"Content-Type":"text"}).set("Accept","text");const A=yield(0,m.s)(b.httpClient.get(y,{headers:(new j.Lr).set("Content-Type","text"),responseType:"text"}));if(C!=b.hsQueryBaseService.currentQuery)return;b.featureInfoReceived(A,s,c,h)}catch(x){if(C!=b.hsQueryBaseService.currentQuery)return;b.featureInfoError(c,x)}})()}featureInfoError(n,s){this.infoCounter--,this.hsLogService.warn(s),0===this.infoCounter&&this.queriesCollected(n)}featureInfoReceived(n,s,c,h){if(s.includes("xml")||s.includes("gml")){const y=(new i).readFeatures(n);this.parseXmlResponse(y,h)}if(s.includes("html")){if(n.length<=1)return;"info-panel"==(0,E.in)(h)?this.hsQueryBaseService.pushFeatureInfoHtml(n):(this.hsQueryBaseService.fillIframeAndResize(n,!0),null!=(0,E.XV)(h)&&(this.hsQueryBaseService.popupClassname="ol-popup "+(0,E.XV)(h)))}s.includes("json")&&this.parseJSONResponse(JSON.parse(n),h),this.infoCounter--,0===this.infoCounter&&this.queriesCollected(c)}parseJSONResponse(n,s){for(const c of n.features){const h={name:"Feature",layer:this.hsLayerUtilsService.getLayerName(s),attributes:Object.entries(c.properties).map(([b,y])=>({name:b,value:y}))};this.updateFeatureList(!0,h)}}parseXmlResponse(n,s){let c=!1;n.forEach(h=>{const b=h.getGeometryName(),y={name:"Feature",layer:this.hsLayerUtilsService.getLayerName(s),attributes:Object.entries(h.getProperties()).filter(C=>C[0]!==b).map(([C,x])=>(c=!0,{name:C,value:x}))};this.updateFeatureList(c,y)})}queriesCollected(n){const s=this.hsQueryBaseService.getInvisiblePopup();(this.hsQueryBaseService.features.length>0||s.contentDocument.body.innerHTML.length>30)&&this.hsQueryBaseService.getFeatureInfoCollected.next(n)}queryWmsLayer(n,s){if(this.isLayerWmsQueryable(n)){if((0,p.Uz)(n.getSource(),Y.A))return void this.hsQueryWmtsService.parseRequestURL(n,s).then(C=>{console.log(C),this.infoCounter++,this.request(C.url,C.format,s,n)});let c;((0,p.Uz)(n.getSource(),$.A)||(0,p.Uz)(n.getSource(),N.A))&&(c=n.getSource());const b=this.hsMapService.getMap().getView().getResolution();let y=c.getFeatureInfoUrl(s,b,c.getProjection()?c.getProjection():this.hsMapService.getCurrentProj(),{INFO_FORMAT:c.getParams().INFO_FORMAT,feature_count:c.getParams().LAYERS.split(",").length||1});(0,E.PM)(n)&&(0,E.PM)(n)[this.hsLanguageService.language]&&(y=(0,p.Uz)(c,N.A)?y.replace(c.getUrls()[0],(0,E.PM)(n)[this.hsLanguageService.language]):y.replace(c.getUrl(),(0,E.PM)(n)[this.hsLanguageService.language])),y&&(this.hsLogService.log(y),(c.getParams().INFO_FORMAT.includes("xml")||c.getParams().INFO_FORMAT.includes("html")||c.getParams().INFO_FORMAT.includes("gml")||c.getParams().INFO_FORMAT.includes("json"))&&(this.infoCounter++,this.request(y,c.getParams().INFO_FORMAT,s,n)))}}isLayerWmsQueryable(n){return!!n.getVisible()&&!!((0,p.Uz)(n,H.A)&&((0,p.Uz)(n.getSource(),N.A)&&n.getSource().getParams().INFO_FORMAT||(0,p.Uz)(n.getSource(),Y.A)&&(0,E.G2)(n))||(0,p.Uz)(n,G.A)&&(0,p.Uz)(n.getSource(),$.A)&&n.getSource().getParams().INFO_FORMAT)}static#e=this.\u0275fac=function(s){return new(s||d)(e.KVO(z.F),e.KVO(p.Xp),e.KVO(se.LJ),e.KVO(p.MJ),e.KVO(j.Qq),e.KVO(te.r),e.KVO(ne),e.KVO(R.o))};static#t=this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})();var ae=r(18616),oe=r.n(ae),Z=r(84205),P=r(33900),le=r(52575),q=r(25849),ue=r(98866),w=r(34456),ce=r(70258);const de=()=>({standalone:!0});function he(d,v){1&d&&(e.j41(0,"div",6)(1,"div",7),e.nrm(2,"i",8),e.j41(3,"p",9),e.EFF(4),e.nI1(5,"translateHs"),e.k0s(),e.j41(6,"p",10),e.EFF(7),e.nI1(8,"translateHs"),e.k0s()()()),2&d&&(e.R7$(4),e.JRh(e.bMT(5,2,"QUERY.infoPanel.noFeaturesSelected")),e.R7$(3),e.JRh(e.bMT(8,4,"QUERY.infoPanel.clickOnMap")))}function pe(d,v){1&d&&e.nrm(0,"hs-query-default-info-panel-body")}function me(d,v){if(1&d&&(e.j41(0,"option",19),e.EFF(1),e.k0s()),2&d){const n=v.$implicit;e.Y8G("ngValue",n),e.R7$(),e.JRh(n.name)}}function fe(d,v){if(1&d){const n=e.RV6();e.j41(0,"select",17),e.mxI("ngModelChange",function(c){e.eBV(n);const h=e.XpG(3);return e.DH7(h.hsQueryBaseService.selectedProj,c)||(h.hsQueryBaseService.selectedProj=c),e.Njj(c)}),e.DNE(1,me,2,2,"option",18),e.k0s()}if(2&d){const n=e.XpG(3);e.R50("ngModel",n.hsQueryBaseService.selectedProj),e.Y8G("ngModelOptions",e.lJ4(3,de)),e.R7$(),e.Y8G("ngForOf",n.hsQueryBaseService.coordinates[0].projections)}}function _e(d,v){if(1&d&&(e.j41(0,"div",11)(1,"div",12)(2,"div",13)(3,"strong"),e.EFF(4),e.k0s()()(),e.j41(5,"div",12)(6,"div",14),e.DNE(7,fe,2,4,"select",15),e.nrm(8,"input",16),e.k0s()()()),2&d){const n=e.XpG(2);e.R7$(4),e.JRh(null==n.hsQueryBaseService?null:n.hsQueryBaseService.coordinates[0].name),e.R7$(3),e.Y8G("ngIf",(null==n.hsQueryBaseService?null:n.hsQueryBaseService.coordinates.length)>0),e.R7$(),e.Y8G("value",n.hsQueryBaseService.selectedProj.value)}}function ge(d,v){if(1&d&&(e.j41(0,"div",1),e.nrm(1,"hs-panel-header",2),e.DNE(2,he,9,6,"div",3)(3,pe,1,0,"hs-query-default-info-panel-body",4),e.nrm(4,"hs-custom-info-panel-body"),e.DNE(5,_e,9,3,"div",5),e.k0s()),2&d){const n=e.XpG();e.Y8G("ngClass",n.panelWidthClass),e.R7$(),e.Y8G("panelTabs","INFO"),e.R7$(),e.Y8G("ngIf",n.noFeatureSelected()),e.R7$(),e.Y8G("ngIf","query"===n.hsLayoutService.mainpanel),e.R7$(2),e.Y8G("ngIf",void 0!==(null==n.hsQueryBaseService?null:n.hsQueryBaseService.coordinates)&&(null==n.hsQueryBaseService?null:n.hsQueryBaseService.coordinates.length)>0)}}let ve=(()=>{class d extends q.aH{constructor(n,s,c,h,b){super(),this.hsQueryBaseService=n,this.hsMapService=s,this.hsLog=c,this.hsQueryVectorService=h,this.hsDrawService=b,this.popup=new(oe()),this.popupOpens=new Z.B,this.name="query",this.end=new Z.B,this.queryDeactivator=new Z.B}ngOnInit(){var n=()=>super.ngOnInit,s=this;return(0,L.A)(function*(){n().call(s),s.popupOpens.pipe((0,P.Q)(s.end)).subscribe(h=>{h&&"hs.query"!=h&&void 0!==s.popup&&s.popup.hide()}),s.hsQueryVectorService.featureRemovals.pipe((0,P.Q)(s.end)).subscribe(h=>{s.hsQueryBaseService.features.splice(s.hsQueryBaseService.features.indexOf(h),1)}),s.hsMapService.loaded().then(h=>{h.addOverlay(s.popup)}),s.hsLayoutService.mainpanel$.pipe((0,le.B)(250),(0,P.Q)(s.end)).subscribe(h=>{s.hsQueryBaseService.currentPanelQueryable()?!s.hsQueryBaseService.queryActive&&!s.hsDrawService.drawActive&&s.hsQueryBaseService.activateQueries():s.hsQueryBaseService.queryActive&&s.hsQueryBaseService.deactivateQueries()}),s.hsQueryBaseService.queryStatusChanges.pipe((0,P.Q)(s.end)).subscribe(h=>{s.queryStatusChanged(h)});const c=s.hsQueryBaseService.queryActive;c&&s.queryStatusChanged(c)})()}queryStatusChanged(n){n?(this.hsQueryBaseService.getFeatureInfoStarted.pipe((0,P.Q)(this.end)).pipe((0,P.Q)(this.queryDeactivator)).subscribe(s=>{this.popup.hide(),this.hsQueryBaseService.currentPanelQueryable()&&"draw"!=this.hsLayoutService.mainpanel&&this.hsLayoutService.setMainPanel("query")}),this.hsQueryBaseService.getFeatureInfoCollected.pipe((0,P.Q)(this.end)).pipe((0,P.Q)(this.queryDeactivator)).subscribe(s=>{const c=this.hsQueryBaseService.getInvisiblePopup();!c||!this.checkForBodyElements(c.contentDocument.body.children)||(this.popup.getElement().className=this.hsQueryBaseService.popupClassname.length>0?this.hsQueryBaseService.popupClassname:"ol-popup",s?(this.popup.show(s,c.contentDocument.body.innerHTML),this.popupOpens.next("hs.query")):this.hsLog.log("empty coordinates for",this.popup))})):this.queryDeactivator.next()}ngOnDestroy(){this.end.next(),this.end.complete()}checkForBodyElements(n){return Array.from(n).some(s=>("TITLE"!=s.tagName||""!=s.title)&&"SERVICEEXCEPTIONREPORT"!=s.tagName&&"META"!=s.tagName&&"STYLE"!=s.tagName)}noFeatureSelected(){return null==this.hsQueryBaseService||0==this.hsQueryBaseService.features.length&&(void 0===this.hsQueryBaseService.coordinates||0==this.hsQueryBaseService.coordinates.length)}static#e=this.\u0275fac=function(s){return new(s||d)(e.rXU(R.o),e.rXU(z.F),e.rXU(te.r),e.rXU(R.Y),e.rXU(ue.B))};static#t=this.\u0275cmp=e.VBU({type:d,selectors:[["hs-query"]],features:[e.Vt3],decls:2,vars:3,consts:[["class","card hs-main-panel",3,"ngClass",4,"ngIf"],[1,"card","hs-main-panel",3,"ngClass"],["name","query",3,"panelTabs"],["class","card hs-main-panel",4,"ngIf"],[4,"ngIf"],["class","container-fluid",4,"ngIf"],[1,"card","hs-main-panel"],[1,"d-flex","flex-column","align-items-center","p-4"],[1,"icon-cursor","bg-primary","p-3","text-white","rounded",2,"font-size","1.5rem","color","hsl(208, 100%, 97%)"],[1,"h4"],[1,"small"],[1,"container-fluid"],[1,"row"],[1,"col-12","m-2"],[1,"input-group","m-1"],["class","form-control form-select",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["readonly","",1,"form-control",3,"value"],[1,"form-control","form-select",3,"ngModelChange","ngModel","ngModelOptions"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"]],template:function(s,c){1&s&&(e.DNE(0,ge,6,5,"div",0),e.nI1(1,"async")),2&s&&e.Y8G("ngIf",e.bMT(1,1,c.isVisible$))},dependencies:[F.YU,F.Sq,F.bT,w.xH,w.y7,w.wz,w.BC,w.vS,ce.k,D,F.Jj,O.q],encapsulation:2})}return d})();var ye=r(26583);let be=(()=>{class d{static#e=this.\u0275fac=function(s){return new(s||d)};static#t=this.\u0275mod=e.$C({type:d});static#n=this.\u0275inj=e.G2t({imports:[F.MD,q.Zz,w.YN,ye.I,t.zH,q.k4]})}return d})()},18616:function(U,V,r){U.exports=function(u){"use strict";u="default"in u?u.default:u;class e extends u{constructor(F){var t=F||{};void 0===t.autoPan&&(t.autoPan={animation:{duration:250}});var T=document.createElement("div");t.element=T,super(t),this.container=T,this.container.className="ol-popup",this.closer=document.createElement("a"),this.closer.className="ol-popup-closer",this.closer.href="#",this.container.appendChild(this.closer);var O=this;this.closer.addEventListener("click",function(S){O.container.style.display="none",O.closer.blur(),S.preventDefault()},!1),this.content=document.createElement("div"),this.content.className="ol-popup-content",this.container.appendChild(this.content),e.enableTouchScroll_(this.content)}show(F,t){return t instanceof HTMLElement?(this.content.innerHTML="",this.content.appendChild(t)):this.content.innerHTML=t,this.container.style.display="block",this.content.scrollTop=0,this.setPosition(F),this}static isTouchDevice_(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}static enableTouchScroll_(F){if(e.isTouchDevice_()){var t=0;F.addEventListener("touchstart",function(T){t=this.scrollTop+T.touches[0].pageY},!1),F.addEventListener("touchmove",function(T){this.scrollTop=t-T.touches[0].pageY},!1)}}hide(){return this.container.style.display="none",this}isOpened(){return"block"==this.container.style.display}}return window.ol&&window.ol.Overlay&&(window.ol.Overlay.Popup=e),e}(r(19061))}}]);
//# sourceMappingURL=710.js.map