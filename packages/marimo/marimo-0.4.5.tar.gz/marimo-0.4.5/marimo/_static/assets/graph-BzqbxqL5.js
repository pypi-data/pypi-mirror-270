import{ag as d,ah as q,ai as se,aj as ne,ak as ie,al as D,k as H,x as F,am as j,an as Y,i as ae,q as oe,S as ue,c as he,t as E,ao as de,ap as ce,aq as v,ar as W,as as fe,at as ge,au as le,av as _e,d as be,aw as pe,ax as ye,ay as m,v as P}from"./index-Cpmw1ddu.js";import{y as A,z as N,A as me,B as J,C as Te,D as je,E as Ee,F as Ae,G as Ce,H as M}from"./mermaid-CTvWBYSV.js";function Q(t,e){for(var r=-1,s=t==null?0:t.length;++r<s&&e(t[r],r,t)!==!1;);return t}function Oe(t,e){return t&&A(e,d(e),t)}function Le(t,e){return t&&A(e,N(e),t)}function Fe(t,e){return A(t,q(t),e)}var ve=Object.getOwnPropertySymbols,X=ve?function(t){for(var e=[];t;)ne(e,q(t)),t=me(t);return e}:se;function Ne(t,e){return A(t,X(t),e)}function we(t){return ie(t,N,X)}var Se=Object.prototype,$e=Se.hasOwnProperty;function Ie(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&$e.call(t,"index")&&(r.index=t.index,r.input=t.input),r}function De(t,e){var r=e?J(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var Pe=/\w*$/;function Me(t){var e=new t.constructor(t.source,Pe.exec(t));return e.lastIndex=t.lastIndex,e}var x=D?D.prototype:void 0,G=x?x.valueOf:void 0;function xe(t){return G?Object(G.call(t)):{}}var Ge="[object Boolean]",Ue="[object Date]",Be="[object Map]",Re="[object Number]",Ve="[object RegExp]",Ke="[object Set]",qe="[object String]",He="[object Symbol]",Ye="[object ArrayBuffer]",We="[object DataView]",Je="[object Float32Array]",Qe="[object Float64Array]",Xe="[object Int8Array]",Ze="[object Int16Array]",ze="[object Int32Array]",ke="[object Uint8Array]",et="[object Uint8ClampedArray]",tt="[object Uint16Array]",rt="[object Uint32Array]";function st(t,e,r){var s=t.constructor;switch(e){case Ye:return J(t);case Ge:case Ue:return new s(+t);case We:return De(t,r);case Je:case Qe:case Xe:case Ze:case ze:case ke:case et:case tt:case rt:return Te(t,r);case Be:return new s;case Re:case qe:return new s(t);case Ve:return Me(t);case Ke:return new s;case He:return xe(t)}}var nt="[object Map]";function it(t){return H(t)&&F(t)==nt}var U=j&&j.isMap,at=U?Y(U):it,ot="[object Set]";function ut(t){return H(t)&&F(t)==ot}var B=j&&j.isSet,ht=B?Y(B):ut,dt=1,ct=2,ft=4,Z="[object Arguments]",gt="[object Array]",lt="[object Boolean]",_t="[object Date]",bt="[object Error]",z="[object Function]",pt="[object GeneratorFunction]",yt="[object Map]",mt="[object Number]",k="[object Object]",Tt="[object RegExp]",jt="[object Set]",Et="[object String]",At="[object Symbol]",Ct="[object WeakMap]",Ot="[object ArrayBuffer]",Lt="[object DataView]",Ft="[object Float32Array]",vt="[object Float64Array]",Nt="[object Int8Array]",wt="[object Int16Array]",St="[object Int32Array]",$t="[object Uint8Array]",It="[object Uint8ClampedArray]",Dt="[object Uint16Array]",Pt="[object Uint32Array]",u={};u[Z]=u[gt]=u[Ot]=u[Lt]=u[lt]=u[_t]=u[Ft]=u[vt]=u[Nt]=u[wt]=u[St]=u[yt]=u[mt]=u[k]=u[Tt]=u[jt]=u[Et]=u[At]=u[$t]=u[It]=u[Dt]=u[Pt]=!0;u[bt]=u[z]=u[Ct]=!1;function C(t,e,r,s,n,i){var a,o=e&dt,h=e&ct,te=e&ft;if(r&&(a=n?r(t,s,n,i):r(t)),a!==void 0)return a;if(!ae(t))return t;var w=E(t);if(w){if(a=Ie(t),!o)return je(t,a)}else{var b=F(t),S=b==z||b==pt;if(oe(t))return Ee(t,o);if(b==k||b==Z||S&&!n){if(a=h||S?{}:Ae(t),!o)return h?Ne(t,Le(a,t)):Fe(t,Oe(a,t))}else{if(!u[b])return n?t:{};a=st(t,b,o)}}i||(i=new ue);var $=i.get(t);if($)return $;i.set(t,a),ht(t)?t.forEach(function(c){a.add(C(c,e,r,c,t,i))}):at(t)&&t.forEach(function(c,g){a.set(g,C(c,e,r,g,t,i))});var re=te?h?we:de:h?N:d,I=w?void 0:re(t);return Q(I||t,function(c,g){I&&(g=c,c=t[g]),he(a,g,C(c,e,r,g,t,i))}),a}function Mt(t){return typeof t=="function"?t:ce}function l(t,e){var r=E(t)?Q:v;return r(t,Mt(e))}function xt(t,e){var r=[];return v(t,function(s,n,i){e(s,n,i)&&r.push(s)}),r}function T(t,e){var r=E(t)?fe:xt;return r(t,W(e))}var Gt=Object.prototype,Ut=Gt.hasOwnProperty;function Bt(t,e){return t!=null&&Ut.call(t,e)}function f(t,e){return t!=null&&ge(t,e,Bt)}function Rt(t,e){return le(e,function(r){return t[r]})}function O(t){return t==null?[]:Rt(t,d(t))}function p(t){return t===void 0}function Vt(t,e,r,s,n){return n(t,function(i,a,o){r=s?(s=!1,i):e(r,i,a,o)}),r}function Kt(t,e,r){var s=E(t)?_e:Vt,n=arguments.length<3;return s(t,W(e),r,n,v)}var qt=be(function(t){return pe(ye(t,1,Ce,!0))}),Ht="\0",_="\0",R="";class ee{constructor(e={}){this._isDirected=f(e,"directed")?e.directed:!0,this._isMultigraph=f(e,"multigraph")?e.multigraph:!1,this._isCompound=f(e,"compound")?e.compound:!1,this._label=void 0,this._defaultNodeLabelFn=m(void 0),this._defaultEdgeLabelFn=m(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[_]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(e){return this._label=e,this}graph(){return this._label}setDefaultNodeLabel(e){return P(e)||(e=m(e)),this._defaultNodeLabelFn=e,this}nodeCount(){return this._nodeCount}nodes(){return d(this._nodes)}sources(){var e=this;return T(this.nodes(),function(r){return M(e._in[r])})}sinks(){var e=this;return T(this.nodes(),function(r){return M(e._out[r])})}setNodes(e,r){var s=arguments,n=this;return l(e,function(i){s.length>1?n.setNode(i,r):n.setNode(i)}),this}setNode(e,r){return f(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=r),this):(this._nodes[e]=arguments.length>1?r:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=_,this._children[e]={},this._children[_][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)}node(e){return this._nodes[e]}hasNode(e){return f(this._nodes,e)}removeNode(e){var r=this;if(f(this._nodes,e)){var s=function(n){r.removeEdge(r._edgeObjs[n])};delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],l(this.children(e),function(n){r.setParent(n)}),delete this._children[e]),l(d(this._in[e]),s),delete this._in[e],delete this._preds[e],l(d(this._out[e]),s),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this}setParent(e,r){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(p(r))r=_;else{r+="";for(var s=r;!p(s);s=this.parent(s))if(s===e)throw new Error("Setting "+r+" as parent of "+e+" would create a cycle");this.setNode(r)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=r,this._children[r][e]=!0,this}_removeFromParentsChildList(e){delete this._children[this._parent[e]][e]}parent(e){if(this._isCompound){var r=this._parent[e];if(r!==_)return r}}children(e){if(p(e)&&(e=_),this._isCompound){var r=this._children[e];if(r)return d(r)}else{if(e===_)return this.nodes();if(this.hasNode(e))return[]}}predecessors(e){var r=this._preds[e];if(r)return d(r)}successors(e){var r=this._sucs[e];if(r)return d(r)}neighbors(e){var r=this.predecessors(e);if(r)return qt(r,this.successors(e))}isLeaf(e){var r;return this.isDirected()?r=this.successors(e):r=this.neighbors(e),r.length===0}filterNodes(e){var r=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});r.setGraph(this.graph());var s=this;l(this._nodes,function(a,o){e(o)&&r.setNode(o,a)}),l(this._edgeObjs,function(a){r.hasNode(a.v)&&r.hasNode(a.w)&&r.setEdge(a,s.edge(a))});var n={};function i(a){var o=s.parent(a);return o===void 0||r.hasNode(o)?(n[a]=o,o):o in n?n[o]:i(o)}return this._isCompound&&l(r.nodes(),function(a){r.setParent(a,i(a))}),r}setDefaultEdgeLabel(e){return P(e)||(e=m(e)),this._defaultEdgeLabelFn=e,this}edgeCount(){return this._edgeCount}edges(){return O(this._edgeObjs)}setPath(e,r){var s=this,n=arguments;return Kt(e,function(i,a){return n.length>1?s.setEdge(i,a,r):s.setEdge(i,a),a}),this}setEdge(){var e,r,s,n,i=!1,a=arguments[0];typeof a=="object"&&a!==null&&"v"in a?(e=a.v,r=a.w,s=a.name,arguments.length===2&&(n=arguments[1],i=!0)):(e=a,r=arguments[1],s=arguments[3],arguments.length>2&&(n=arguments[2],i=!0)),e=""+e,r=""+r,p(s)||(s=""+s);var o=y(this._isDirected,e,r,s);if(f(this._edgeLabels,o))return i&&(this._edgeLabels[o]=n),this;if(!p(s)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(r),this._edgeLabels[o]=i?n:this._defaultEdgeLabelFn(e,r,s);var h=Yt(this._isDirected,e,r,s);return e=h.v,r=h.w,Object.freeze(h),this._edgeObjs[o]=h,V(this._preds[r],e),V(this._sucs[e],r),this._in[r][o]=h,this._out[e][o]=h,this._edgeCount++,this}edge(e,r,s){var n=arguments.length===1?L(this._isDirected,arguments[0]):y(this._isDirected,e,r,s);return this._edgeLabels[n]}hasEdge(e,r,s){var n=arguments.length===1?L(this._isDirected,arguments[0]):y(this._isDirected,e,r,s);return f(this._edgeLabels,n)}removeEdge(e,r,s){var n=arguments.length===1?L(this._isDirected,arguments[0]):y(this._isDirected,e,r,s),i=this._edgeObjs[n];return i&&(e=i.v,r=i.w,delete this._edgeLabels[n],delete this._edgeObjs[n],K(this._preds[r],e),K(this._sucs[e],r),delete this._in[r][n],delete this._out[e][n],this._edgeCount--),this}inEdges(e,r){var s=this._in[e];if(s){var n=O(s);return r?T(n,function(i){return i.v===r}):n}}outEdges(e,r){var s=this._out[e];if(s){var n=O(s);return r?T(n,function(i){return i.w===r}):n}}nodeEdges(e,r){var s=this.inEdges(e,r);if(s)return s.concat(this.outEdges(e,r))}}ee.prototype._nodeCount=0;ee.prototype._edgeCount=0;function V(t,e){t[e]?t[e]++:t[e]=1}function K(t,e){--t[e]||delete t[e]}function y(t,e,r,s){var n=""+e,i=""+r;if(!t&&n>i){var a=n;n=i,i=a}return n+R+i+R+(p(s)?Ht:s)}function Yt(t,e,r,s){var n=""+e,i=""+r;if(!t&&n>i){var a=n;n=i,i=a}var o={v:n,w:i};return s&&(o.name=s),o}function L(t,e){return y(t,e.v,e.w,e.name)}export{ee as G,T as a,C as b,Mt as c,l as f,f as h,p as i,Kt as r,O as v};
