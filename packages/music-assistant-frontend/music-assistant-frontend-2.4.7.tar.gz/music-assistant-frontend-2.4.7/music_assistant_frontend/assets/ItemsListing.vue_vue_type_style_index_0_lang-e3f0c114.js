import{au as x,av as ue,p as ce,g as de,c as J,aw as Pe,f as Ze,ax as et,k as tt,i as at,r as C,s as re,w as K,o as ve,ay as lt,q as c,v as _,e as ot,x as fe,az as nt,aA as st,A as f,H as R,a1 as le,K as y,E as z,Q as E,aa as it,ab as rt,y as ut,N as ct,R as dt,b as vt,D as u,B as b,ac as ft,L as oe,S as q,z as T,F as ne,I as se,O as mt,M as G,a0 as yt,am as pt}from"./index-9b822783.js";import{L as ht}from"./ListviewItem-030e11e6.js";import{C as bt,B as N,L as Be}from"./Container-05be0da0.js";import{_ as gt}from"./PanelviewItem.vue_vue_type_style_index_0_lang-846c4785.js";import{e as kt,i as wt,a as St}from"./contextmenu-b55bad56.js";import{A as Ve}from"./Alert-112324b3.js";import{V as Ct}from"./VToolbar-79c684b4.js";import{V as Bt}from"./VTextField-7d804c49.js";import{V as W}from"./VBadge-c9fb58c5.js";import{a as Ne,d as Te,y as Vt,z as It,c as $t,A as Ot,B as Ft,C as Lt,g as _t,i as At,D as Pt,v as Ee,j as Nt,E as Tt,n as A,k as Ie,l as ie}from"./forwardRefs-af0663a3.js";import{V as Et}from"./VCard-0d72f9dd.js";import{m as Mt,a as jt,f as $e,b as Oe,e as Fe,d as Rt}from"./VMenu-8029677e.js";/* empty css              */import{V as Dt}from"./VVirtualScroll-a3d1c1c9.js";import{a as Kt}from"./layout-71937d76.js";const Me=(()=>x.reduce((t,i)=>(t[i]={type:[Boolean,String,Number],default:!1},t),{}))(),je=(()=>x.reduce((t,i)=>{const a="offset"+ue(i);return t[a]={type:[String,Number],default:null},t},{}))(),Re=(()=>x.reduce((t,i)=>{const a="order"+ue(i);return t[a]={type:[String,Number],default:null},t},{}))(),Le={col:Object.keys(Me),offset:Object.keys(je),order:Object.keys(Re)};function Ht(t,i,a){let s=t;if(!(a==null||a===!1)){if(i){const l=i.replace(t,"");s+=`-${l}`}return t==="col"&&(s="v-"+s),t==="col"&&(a===""||a===!0)||(s+=`-${a}`),s.toLowerCase()}}const Ut=["auto","start","end","center","baseline","stretch"],qt=ce({cols:{type:[Boolean,String,Number],default:!1},...Me,offset:{type:[String,Number],default:null},...je,order:{type:[String,Number],default:null},...Re,alignSelf:{type:String,default:null,validator:t=>Ut.includes(t)},...Ne(),...Te()},"VCol"),Gt=de()({name:"VCol",props:qt(),setup(t,i){let{slots:a}=i;const s=J(()=>{const l=[];let v;for(v in Le)Le[v].forEach(g=>{const B=t[g],p=Ht(v,g,B);p&&l.push(p)});const V=l.some(g=>g.startsWith("v-col-"));return l.push({"v-col":!V||!t.cols,[`v-col-${t.cols}`]:t.cols,[`offset-${t.offset}`]:t.offset,[`order-${t.order}`]:t.order,[`align-self-${t.alignSelf}`]:t.alignSelf}),l});return()=>{var l;return Pe(t.tag,{class:[s.value,t.class],style:t.style},(l=a.default)==null?void 0:l.call(a))}}}),me=["start","end","center"],De=["space-between","space-around","space-evenly"];function ye(t,i){return x.reduce((a,s)=>{const l=t+ue(s);return a[l]=i(),a},{})}const zt=[...me,"baseline","stretch"],Ke=t=>zt.includes(t),He=ye("align",()=>({type:String,default:null,validator:Ke})),Yt=[...me,...De],Ue=t=>Yt.includes(t),qe=ye("justify",()=>({type:String,default:null,validator:Ue})),Wt=[...me,...De,"stretch"],Ge=t=>Wt.includes(t),ze=ye("alignContent",()=>({type:String,default:null,validator:Ge})),_e={align:Object.keys(He),justify:Object.keys(qe),alignContent:Object.keys(ze)},xt={align:"align",justify:"justify",alignContent:"align-content"};function Jt(t,i,a){let s=xt[t];if(a!=null){if(i){const l=i.replace(t,"");s+=`-${l}`}return s+=`-${a}`,s.toLowerCase()}}const Qt=ce({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:Ke},...He,justify:{type:String,default:null,validator:Ue},...qe,alignContent:{type:String,default:null,validator:Ge},...ze,...Ne(),...Te()},"VRow"),Xt=de()({name:"VRow",props:Qt(),setup(t,i){let{slots:a}=i;const s=J(()=>{const l=[];let v;for(v in _e)_e[v].forEach(V=>{const g=t[V],B=Jt(v,V,g);B&&l.push(B)});return l.push({"v-row--no-gutters":t.noGutters,"v-row--dense":t.dense,[`align-${t.align}`]:t.align,[`justify-${t.justify}`]:t.justify,[`align-content-${t.alignContent}`]:t.alignContent}),l});return()=>{var l;return Pe(t.tag,{class:["v-row",s.value,t.class],style:t.style},(l=a.default)==null?void 0:l.call(a))}}});function Zt(t){const i=re(t);let a=-1;function s(){clearInterval(a)}function l(){s(),fe(()=>i.value=t)}function v(V){const g=V?getComputedStyle(V):{transitionDuration:.2},B=parseFloat(g.transitionDuration)*1e3||200;if(s(),i.value<=0)return;const p=performance.now();a=window.setInterval(()=>{const F=performance.now()-p+B;i.value=Math.max(t-F,0),i.value<=0&&s()},B)}return ot(s),{clear:s,time:i,start:v,reset:l}}const ea=ce({multiLine:Boolean,text:String,timer:[Boolean,String],timeout:{type:[Number,String],default:5e3},vertical:Boolean,...Vt({location:"bottom"}),...It(),...$t(),...Ot(),...Ze(),...et(Mt({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},"VSnackbar"),ta=de()({name:"VSnackbar",props:ea(),emits:{"update:modelValue":t=>!0},setup(t,i){let{slots:a}=i;const s=tt(t,"modelValue"),{mainStyles:l}=Kt(),{positionClasses:v}=Ft(t),{scopeId:V}=jt(),{themeClasses:g}=at(t),{colorClasses:B,colorStyles:p,variantClasses:F}=Lt(t),{roundedClasses:h}=_t(t),O=Zt(Number(t.timeout)),k=C(),L=C(),w=re(!1),m=re(0);K(s,H),K(()=>t.timeout,H),ve(()=>{s.value&&H()});let M=-1;function H(){O.reset(),window.clearTimeout(M);const I=Number(t.timeout);if(!s.value||I===-1)return;const j=lt(L.value);O.start(j),M=window.setTimeout(()=>{s.value=!1},I)}function Q(){O.reset(),window.clearTimeout(M)}function X(){w.value=!0,Q()}function Z(){w.value=!1,H()}function ee(I){m.value=I.touches[0].clientY}function te(I){Math.abs(m.value-I.changedTouches[0].clientY)>50&&(s.value=!1)}const ae=J(()=>t.location.split(" ").reduce((I,j)=>(I[`v-snackbar--${j}`]=!0,I),{}));return At(()=>{const I=$e.filterProps(t),j=!!(a.default||a.text||t.text);return c($e,_({ref:k,class:["v-snackbar",{"v-snackbar--active":s.value,"v-snackbar--multi-line":t.multiLine&&!t.vertical,"v-snackbar--timer":!!t.timer,"v-snackbar--vertical":t.vertical},ae.value,v.value,t.class],style:[l.value,t.style]},I,{modelValue:s.value,"onUpdate:modelValue":U=>s.value=U,contentProps:_({class:["v-snackbar__wrapper",g.value,B.value,h.value,F.value],style:[p.value],onPointerenter:X,onPointerleave:Z},I.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0,onTouchstart:ee,onTouchend:te},V),{default:()=>{var U,D;return[Pt(!1,"v-snackbar"),t.timer&&!w.value&&c("div",{key:"timer",class:"v-snackbar__timer"},[c(Ee,{ref:L,color:typeof t.timer=="string"?t.timer:"info",max:t.timeout,"model-value":O.time.value},null)]),j&&c("div",{key:"content",class:"v-snackbar__content",role:"status","aria-live":"polite"},[((U=a.text)==null?void 0:U.call(a))??t.text,(D=a.default)==null?void 0:D.call(a)]),a.actions&&c(Nt,{defaults:{VBtn:{variant:"text",ripple:!1,slim:!0}}},{default:()=>[c("div",{class:"v-snackbar__actions"},[a.actions()])]})]},activator:a.activator})}),Tt({},k)}}),Ye=(t,i)=>{const a=t.__vccOpts||t;for(const[s,l]of i)a[s]=l;return a},aa={},la=t=>(it("data-v-259be2b2"),t=t(),rt(),t),oa={class:"container"},na=la(()=>z("div",{class:"spinner"},null,-1)),sa=[na];function ia(t,i){return f(),R("div",oa,sa)}const ra=Ye(aa,[["render",ia],["__scopeId","data-v-259be2b2"],["__file","/home/oumoussa/side-projects/infinite/src/components/Spinner.vue"]]),ua=t=>({loading(){t.value="loading"},loaded(){t.value="loaded"},complete(){t.value="complete"},error(){t.value="error"}}),ca=(t,i,a)=>()=>{const s=a.parentEl||document.documentElement;a.prevHeight=s.scrollHeight,i.loading(),t("infinite",i)},da=(t,i)=>{const a=t.getBoundingClientRect();if(!i)return a.top>=0&&a.bottom<=window.innerHeight;const s=i.getBoundingClientRect();return a.top>=s.top&&a.bottom<=s.bottom},Ae=t=>{t.parentEl=document.querySelector(t.target)||null;let i=`0px 0px ${t.distance}px 0px`;t.top&&(i=`${t.distance}px 0px 0px 0px`);const a=new IntersectionObserver(s=>{s[0].isIntersecting&&(t.firstload&&t.emit(),t.firstload=!0)},{root:t.parentEl,rootMargin:i});return a.observe(t.infiniteLoading.value),a},va={class:"state-error"},fa={__name:"InfiniteLoading",props:{top:{type:Boolean,required:!1},target:{type:[String,Boolean],required:!1},distance:{type:Number,required:!1,default:0},identifier:{required:!1},firstload:{type:Boolean,required:!1,default:!0},slots:{type:Object,required:!1}},emits:["infinite"],setup(t,{emit:i}){const a=t;let s=null;const l=C(null),v=C("ready"),{top:V,firstload:g,target:B,distance:p}=a,{identifier:F}=nt(a),h={infiniteLoading:l,target:B,top:V,firstload:g,distance:p,prevHeight:0,parentEl:null};h.emit=ca(i,ua(v),h);const O=()=>K(v,async L=>{const w=h.parentEl||document.documentElement;await fe(),L=="loaded"&&V&&(w.scrollTop=w.scrollHeight-h.prevHeight),L=="loaded"&&da(l.value,h.parentEl)&&h.emit(),L=="complete"&&s.disconnect()}),k=()=>K(F,()=>{v.value="ready",s.disconnect(),s=Ae(h)});return ve(()=>{s=Ae(h),O(),F&&k()}),st(()=>{s.disconnect()}),(L,w)=>(f(),R("div",{ref_key:"infiniteLoading",ref:l},[v.value=="loading"?le(L.$slots,"spinner",{key:0},()=>[c(ra)],!0):y("v-if",!0),v.value=="complete"?le(L.$slots,"complete",{key:1},()=>{var m;return[z("span",null,E(((m=t.slots)==null?void 0:m.complete)||"No more results!"),1)]},!0):y("v-if",!0),v.value=="error"?le(L.$slots,"error",{key:2,retry:h.emit},()=>{var m;return[z("span",va,[z("span",null,E(((m=t.slots)==null?void 0:m.error)||"Oops something went wrong!"),1),z("button",{class:"retry",onClick:w[0]||(w[0]=(...M)=>h.emit&&h.emit(...M))}," retry ")])]},!0):y("v-if",!0)],512))}},ma=Ye(fa,[["__scopeId","data-v-9d82030b"],["__file","/home/oumoussa/side-projects/infinite/src/components/InfiniteLoading.vue"]]);const ya={key:0},pa={key:5},Aa=ut({__name:"ItemsListing",props:{itemtype:{},sortKeys:{default:()=>["name"]},showTrackNumber:{type:Boolean,default:!0},showProvider:{type:Boolean,default:Object.keys(ct.providers).length>1},showAlbum:{type:Boolean,default:!0},showMenu:{type:Boolean,default:!0},showFavoritesOnlyFilter:{type:Boolean,default:!0},showDuration:{type:Boolean,default:!0},parentItem:{default:void 0},showAlbumArtistsOnlyFilter:{type:Boolean},showSearchButton:{type:Boolean,default:void 0},showRefreshButton:{type:Boolean,default:void 0},showSelectButton:{type:Boolean,default:void 0},updateAvailable:{type:Boolean},title:{default:void 0},hideOnEmpty:{type:Boolean,default:!1},showLibraryOnlyFilter:{type:Boolean,default:!1},allowCollapse:{type:Boolean,default:!1},allowKeyHooks:{type:Boolean,default:!1},contextMenuItems:{default:void 0},loadPagedData:{type:Function,default:void 0},loadItems:{type:Function,default:void 0},limit:{default:100},infiniteScroll:{type:Boolean,default:!0},path:{default:void 0}},emits:["refreshClicked"],setup(t,{emit:i}){const a=t,s=ft(),l=C({offset:0,limit:100,sortBy:"name",search:"",libraryOnly:!1}),v=C("list"),V=C(!1),g=C(!1),B=C(!1),p=C([]),F=C([]),h=C(),O=C(!1),k=C([]),L=C(!1),w=C(!1),m=C(!0),{t:M}=dt(),H=i,Q=function(){g.value?g.value=!1:(g.value=!0,fe(()=>{var e;(e=document.getElementById("searchInput"))==null||e.focus()}))},X=function(){m.value=!m.value,localStorage.setItem(`expand.${a.itemtype}`,m.value.toString())},Z=function(){v.value==="panel"?v.value="list":v.value="panel",localStorage.setItem(`viewMode.${a.itemtype}`,v.value)},ee=function(){l.value.favoritesOnly=!l.value.favoritesOnly;const e=l.value.favoritesOnly?"true":"false";localStorage.setItem(`favoriteFilter.${a.itemtype}`,e),P(!0)},te=function(){l.value.libraryOnly=!l.value.libraryOnly;const e=l.value.libraryOnly?"true":"false";localStorage.setItem(`libraryFilter.${a.itemtype}`,e),P(!0,void 0,!0)},ae=function(){l.value.albumArtistsFilter=!l.value.albumArtistsFilter;const e=l.value.albumArtistsFilter?"true":"false";localStorage.setItem(`albumArtistsFilter.${a.itemtype}`,e),P(!0)},I=function(e){return k.value.includes(e)},j=function(e,n){if(n)k.value.includes(e)||k.value.push(e);else for(let o=0;o<k.value.length;o++)k.value[o]===e&&k.value.splice(o,1)},U=function(){w.value&&(k.value=[]),w.value=!w.value},D=function(e,n=!0){k.value=[e],pe(n)},pe=function(e=!0){kt.emit("playdialog",{items:k.value,parentItem:a.parentItem,showContextMenuItems:e})},We=function(){H("refreshClicked"),P(!0,void 0,!0)},he=function(e){var n;if(!wt(e)){D(e,!1);return}e.media_type==mt.FOLDER?s.push({name:"browse",query:{path:e.path}}):["artist","album","playlist"].includes(e.media_type)||!((n=oe.selectedPlayer)!=null&&n.available)?s.push({name:e.media_type,params:{itemId:e.item_id,provider:e.provider}}):D(e,!0)},xe=function(){l.value.search="",g.value=!1,P(!0)},be=J(()=>{var e=!1;return l.value.search&&l.value.search.length!==0&&(e=!0),e}),Je=function(e,n){e!==void 0&&(l.value.sortBy=e),localStorage.setItem(`sortBy.${a.itemtype}`,l.value.sortBy),P(!0,void 0,e=="original")},ge=function(e){if(p.value.length==0){e&&e.loaded();return}if(h.value!==void 0&&l.value.offset>=h.value){e&&e.loaded();return}l.value.offset+=a.limit,P().then(()=>{e&&e.loaded()})},Qe=function(){oe.globalSearchTerm=l.value.search,s.push({name:"search"})};K(()=>l.value.search,e=>{e&&(g.value=!0),P(!0);let n=`search.${a.itemtype}`;a.parentItem&&(n+=a.parentItem.item_id),localStorage.setItem(n,l.value.search)}),K(()=>a.path,()=>{F.value=[],ke()}),K(()=>a.limit,e=>{l.value.limit=e});const P=async function(e=!1,n=a.limit,o=!1){if((e||o)&&(l.value.offset=0,L.value=!1),O.value=!0,l.value.limit=a.limit,l.value.refresh=o,a.loadPagedData!==void 0){const S=await a.loadPagedData(l.value);S&&(l.value.offset?p.value.push(...S.items):p.value=S.items,h.value=S.total)}else if(a.loadItems!==void 0){(F.value.length===0||o)&&(F.value=[],F.value=await a.loadItems(l.value),l.value,h.value=F.value.length);const S=Xe(F.value,l.value);l.value.offset?p.value.push(...S):p.value=S}O.value=!1},Y=function(e){return"label"in e&&e.label&&e.name?M(e.label,[e.name]):"label"in e&&e.label?M(e.label):"sort_name"in e&&e.sort_name?e.sort_name:e.name},Xe=function(e,n){var S,$;let o=[];if(n.search){const d=n.search.toLowerCase();for(const r of e)(r.name.toLowerCase().includes(d)||"artist"in r&&((S=r.artist)!=null&&S.name.toLowerCase().includes(d))||"album"in r&&(($=r.album)!=null&&$.name.toLowerCase().includes(d))||"artists"in r&&r.artists&&r.artists[0].name.toLowerCase().includes(d))&&o.push(r)}else o=e;return n.sortBy=="name"&&o.sort((d,r)=>Y(d).localeCompare(Y(r))),n.sortBy=="name_desc"&&o.sort((d,r)=>Y(r).localeCompare(Y(d))),n.sortBy=="album"&&o.sort((d,r)=>{var Se,Ce;return(Ce=d.album)==null?void 0:Ce.sort_name.localeCompare((Se=r.album)==null?void 0:Se.sort_name)}),n.sortBy=="artist"&&o.sort((d,r)=>d.artists[0].name.localeCompare(r.artists[0].name)),n.sortBy=="track_number"&&(o.sort((d,r)=>(d.track_number||0)-(r.track_number||0)),o.sort((d,r)=>(d.disc_number||0)-(r.disc_number||0))),n.sortBy=="position"&&o.sort((d,r)=>(d.position||0)-(r.position||0)),n.sortBy=="position_desc"&&o.sort((d,r)=>(r.position||0)-(d.position||0)),n.sortBy=="year"&&o.sort((d,r)=>(d.year||0)-(r.year||0)),n.sortBy=="recent"&&o.sort((d,r)=>(r.timestamp_added||0)-(d.timestamp_added||0)),n.sortBy=="duration"&&o.sort((d,r)=>(d.duration||0)-(r.duration||0)),n.sortBy=="duration_desc"&&o.sort((d,r)=>(r.duration||0)-(d.duration||0)),n.sortBy=="provider"&&o.sort((d,r)=>d.provider.localeCompare(r.provider)),n.favoritesOnly&&(o=o.filter(d=>d.favorite)),o.slice(n.offset,n.offset+n.limit)},ke=function(){const e=localStorage.getItem(`viewMode.${a.itemtype}`);e&&e!=="null"?v.value=e:a.itemtype=="artists"||a.itemtype=="albums"?v.value="panel":v.value="list";const n=localStorage.getItem(`sortBy.${a.itemtype}`);if(n&&n!=="null"&&a.sortKeys.includes(n)?l.value.sortBy=n:l.value.sortBy=a.sortKeys[0],a.showFavoritesOnlyFilter!==!1){const $=localStorage.getItem(`favoriteFilter.${a.itemtype}`);$&&$=="true"&&(l.value.favoritesOnly=!0)}if(a.showLibraryOnlyFilter!==!1){const $=localStorage.getItem(`libraryFilter.${a.itemtype}`);$&&$=="true"&&(l.value.libraryOnly=!0)}if(a.showAlbumArtistsOnlyFilter!==!1){const $=localStorage.getItem(`albumArtistsFilter.${a.itemtype}`);$&&(l.value.albumArtistsFilter=$=="true")}if(a.allowCollapse!==!1){const $=localStorage.getItem(`expand.${a.itemtype}`);$&&(m.value=$=="true")}let o=`search.${a.itemtype}`;a.parentItem&&(o+=a.parentItem.item_id);const S=localStorage.getItem(o);S&&S!=="null"&&(l.value.search=S),P(!0)};ve(async()=>{ke()});const we=function(e){if(!oe.dialogActive)if(e.key==="a"&&(e.ctrlKey||e.metaKey)){for(e.preventDefault();p.value.length<h.value&&!(h.value!==void 0&&l.value.offset>=h.value);)l.value.offset+=a.limit,P();k.value=p.value,w.value=!0}else!B.value&&e.key=="Backspace"?l.value.search=l.value.search.slice(0,-1):!B.value&&e.key.length==1&&(l.value.search+=e.key,g.value=!0)};return a.allowKeyHooks&&(document.addEventListener("keydown",we),vt(()=>{document.removeEventListener("keydown",we)})),(e,n)=>e.hideOnEmpty&&p.value.length==0?y("",!0):(f(),R("section",ya,[c(Ct,{color:"transparent"},{title:u(()=>[q(E(e.title)+" ",1),T(G)("bp11")?(f(),b(W,{key:0,color:"grey",content:h.value,inline:""},null,8,["content"])):y("",!0)]),append:u(()=>[(e.showSelectButton!=null?e.showSelectButton:T(G)("bp1"))?(f(),b(N,_({key:0},a,{variant:"list",title:e.$t("tooltip.select_items"),disabled:!m.value,onClick:U}),{default:u(()=>[c(A,{icon:w.value?"mdi-checkbox-multiple-outline":"mdi-checkbox-multiple-blank-outline"},null,8,["icon"])]),_:1},16,["title","disabled"])):y("",!0),(e.showLibraryOnlyFilter!=null?e.showLibraryOnlyFilter:T(G)("bp1"))?(f(),b(N,_({key:1},a,{variant:"list",title:e.$t("tooltip.filter_library"),disabled:!m.value,onClick:te}),{default:u(()=>[c(W,{"model-value":l.value.libraryOnly,color:"error",dot:""},{default:u(()=>[c(A,{icon:"mdi-bookshelf"})]),_:1},8,["model-value"])]),_:1},16,["title","disabled"])):y("",!0),(e.showFavoritesOnlyFilter!=null?e.showFavoritesOnlyFilter:T(G)("bp1"))?(f(),b(N,_({key:2},a,{variant:"list",title:e.$t("tooltip.filter_favorites"),disabled:!m.value,onClick:ee}),{default:u(()=>[c(A,{icon:l.value.favoritesOnly?"mdi-heart":"mdi-heart-outline"},null,8,["icon"])]),_:1},16,["title","disabled"])):y("",!0),e.showAlbumArtistsOnlyFilter?(f(),b(N,_({key:3},a,{variant:"list",title:e.$t("tooltip.album_artist_filter"),disabled:!m.value,onClick:ae}),{default:u(()=>[c(A,{icon:l.value.albumArtistsFilter?"mdi-account-music":"mdi-account-music-outline"},null,8,["icon"])]),_:1},16,["title","disabled"])):y("",!0),(e.showRefreshButton!=null?e.showRefreshButton:T(G)("bp1"))?(f(),b(N,_({key:4},a,{variant:"list",title:e.updateAvailable?e.$t("tooltip.refresh_new_content"):e.$t("tooltip.refresh"),disabled:!m.value||O.value,onClick:n[0]||(n[0]=o=>We())}),{default:u(()=>[c(W,{"model-value":e.updateAvailable,color:"error",dot:""},{default:u(()=>[c(A,{icon:"mdi-refresh"})]),_:1},8,["model-value"])]),_:1},16,["title","disabled"])):y("",!0),e.sortKeys.length>1?(f(),b(Fe,{key:5,modelValue:V.value,"onUpdate:modelValue":n[1]||(n[1]=o=>V.value=o),location:"bottom end","close-on-content-click":!0},{activator:u(({props:o})=>[c(N,_(o,{variant:"list",disabled:!m.value,title:e.$t("tooltip.sort_options")}),{default:u(()=>[c(A,_(o,{icon:"mdi-sort"}),null,16)]),_:2},1040,["disabled","title"])]),default:u(()=>[c(Et,null,{default:u(()=>[c(Oe,null,{default:u(()=>[(f(!0),R(ne,null,se(e.sortKeys,o=>(f(),R("div",{key:o},[c(Be,{onClick:S=>Je(o)},{title:u(()=>[q(E(e.$t("sort."+o)),1)]),append:u(()=>[l.value.sortBy==o?(f(),b(A,{key:0,icon:"mdi-check"})):y("",!0)]),_:2},1032,["onClick"]),c(Ie)]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"])):y("",!0),(e.showSearchButton!=null?e.showSearchButton:T(G)("bp1"))?(f(),b(N,_({key:6},a,{variant:"list",title:be.value?e.$t("tooltip.search_filter_active"):e.$t("tooltip.search"),disabled:!m.value,onClick:n[2]||(n[2]=o=>Q())}),{default:u(()=>[c(W,{"model-value":be.value,color:"error",dot:""},{default:u(()=>[c(A,{icon:"mdi-magnify"})]),_:1},8,["model-value"])]),_:1},16,["title","disabled"])):y("",!0),c(N,_(a,{variant:"list",title:e.$t("tooltip.toggle_view_mode"),disabled:!m.value,onClick:n[3]||(n[3]=o=>Z())}),{default:u(()=>[c(A,{icon:v.value=="panel"?"mdi-view-list":"mdi-grid"},null,8,["icon"])]),_:1},16,["title","disabled"]),e.contextMenuItems&&e.contextMenuItems.length>0?(f(),b(Fe,{key:7,location:"bottom end"},{activator:u(({props:o})=>[c(N,_({variant:"list",style:{right:"3px"}},o),{default:u(()=>[c(A,{icon:"mdi-dots-vertical"})]),_:2},1040)]),default:u(()=>[c(Oe,null,{default:u(()=>[(f(!0),R(ne,null,se(e.contextMenuItems.filter(o=>o.hide!=!0),(o,S)=>(f(),b(Be,{key:S,title:e.$t(o.label,o.labelArgs),disabled:o.disabled==!0,onClick:$=>o.action?o.action():""},{prepend:u(()=>[c(Rt,{icon:o.icon},null,8,["icon"])]),_:2},1032,["title","disabled","onClick"]))),128))]),_:1})]),_:1})):y("",!0),e.allowCollapse?(f(),b(N,{key:8,variant:"list",title:e.$t("tooltip.collapse_expand"),onClick:X},{default:u(()=>[c(A,{icon:m.value?"mdi-chevron-up":"mdi-chevron-down"},null,8,["icon"])]),_:1},8,["title"])):y("",!0)]),_:1}),c(Ie),g.value&&m.value?(f(),b(Bt,{key:0,id:"searchInput",modelValue:l.value.search,"onUpdate:modelValue":n[4]||(n[4]=o=>l.value.search=o),clearable:"","prepend-inner-icon":"mdi-magnify",label:e.$t("search"),"hide-details":"",variant:"filled",style:{width:"auto","margin-top":"10px"},onFocus:n[5]||(n[5]=o=>B.value=!0),onBlur:n[6]||(n[6]=o=>B.value=!1),"onClick:clear":xe},null,8,["modelValue","label"])):y("",!0),m.value?(f(),b(bt,{key:1,variant:v.value=="panel"?"panel":"default"},{default:u(()=>[O.value?(f(),b(Ee,{key:0,indeterminate:""})):y("",!0),v.value=="panel"?(f(),b(Xt,{key:1},{default:u(()=>[(f(!0),R(ne,null,se(p.value,o=>(f(),b(Gt,{key:o.uri,class:yt(`col-${T(pt)(e.$vuetify.display.width)}`)},{default:u(()=>[c(gt,{item:o,"is-selected":I(o),"show-checkboxes":w.value,"show-track-number":e.showTrackNumber,"show-favorite":e.showFavoritesOnlyFilter,onSelect:j,onMenu:D,onClick:he},null,8,["item","is-selected","show-checkboxes","show-track-number","show-favorite"])]),_:2},1032,["class"]))),128))]),_:1})):y("",!0),v.value=="list"?(f(),b(Dt,{key:2,height:70,items:p.value,style:{height:"100%"}},{default:u(({item:o})=>[c(ht,{item:o,"show-track-number":e.showTrackNumber,"show-disc-number":e.showTrackNumber,"show-duration":e.showDuration,"show-favorite":e.showFavoritesOnlyFilter,"show-menu":e.showMenu,"show-provider":e.showProvider,"show-album":e.showAlbum,"show-checkboxes":w.value,"is-selected":I(o),"show-details":e.itemtype.includes("versions"),"parent-item":e.parentItem,"context-menu-items":e.showMenu?T(St)([o],e.parentItem):[],onSelect:j,onMenu:D,onClick:he},null,8,["item","show-track-number","show-disc-number","show-duration","show-favorite","show-menu","show-provider","show-album","show-checkboxes","is-selected","show-details","parent-item","context-menu-items"])]),_:1},8,["items"])):y("",!0),e.infiniteScroll?(f(),b(T(ma),{key:3,onInfinite:ge})):(h.value||0)>p.value.length?(f(),b(ie,{key:4,variant:"plain",onClick:n[7]||(n[7]=o=>ge())},{default:u(()=>[q(E(e.$t("load_more_items")),1)]),_:1})):y("",!0),!O.value&&p.value.length==0?(f(),R("div",pa,[!O.value&&p.value.length==0&&(l.value.search||l.value.favoritesOnly)?(f(),b(Ve,{key:0,title:e.$t("no_content_filter")},{default:u(()=>[l.value.search?(f(),b(ie,{key:0,style:{"margin-top":"15px"},onClick:Qe},{default:u(()=>[q(E(e.$t("try_global_search")),1)]),_:1})):y("",!0)]),_:1},8,["title"])):!O.value&&p.value.length==0?(f(),b(Ve,{key:1},{default:u(()=>[q(E(e.$t("no_content")),1)]),_:1})):y("",!0)])):y("",!0),c(ta,{"model-value":k.value.length>1,timeout:-1,style:{"margin-bottom":"120px"}},{actions:u(()=>[c(ie,{color:"primary",variant:"text",onClick:n[8]||(n[8]=o=>pe(!0))},{default:u(()=>[q(E(e.$t("actions")),1)]),_:1})]),default:u(()=>[z("span",null,E(e.$t("items_selected",[k.value.length])),1)]),_:1},8,["model-value"])]),_:1},8,["variant"])):y("",!0)]))}});export{Gt as V,Aa as _,Xt as a};
