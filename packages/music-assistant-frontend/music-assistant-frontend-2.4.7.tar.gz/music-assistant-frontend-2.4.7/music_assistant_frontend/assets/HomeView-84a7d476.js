import{L as j,a as K,C as X}from"./Container-05be0da0.js";import{y as h,o as J,U as I,A as a,B as v,D as r,a1 as Z,z as d,am as x,M as V,H as o,q as l,E as y,Q as u,G as ee,F as L,I as S,K as P,X as G,O as Q,r as te,an as w,N as c,S as C,ad as ie,L as k,a4 as q,a0 as ae,c as se,ao as re}from"./index-9b822783.js";import{_ as oe}from"./PanelviewItem.vue_vue_type_style_index_0_lang-846c4785.js";import{i as ne,e as le}from"./contextmenu-b55bad56.js";import{n as R,l as ue,x as de}from"./forwardRefs-af0663a3.js";import{V as me,M as ce,i as _e}from"./VBadge-c9fb58c5.js";import{V as U}from"./VToolbar-79c684b4.js";import{V as pe}from"./VCard-0d72f9dd.js";import"./VMenu-8029677e.js";/* empty css              */import"./VTooltip-5955b4ca.js";import"./VInput-c159036c.js";import"./VSlideGroup-d3ac8eca.js";import"./VCardText-bc96863a.js";const Y=h({__name:"Carousel",setup(f){return J(()=>{document.documentElement.style.setProperty("--swiper-navigation-color","primary")}),(e,t)=>{const i=I("swiper");return a(),v(i,{"slides-per-view":d(x)(e.$vuetify.display.width)+.5,"space-between":24,"free-mode":!0,navigation:!d(V)({breakpoint:"mobile"})},{default:r(()=>[Z(e.$slots,"default")]),_:3},8,["slides-per-view","navigation"])}}}),ye={key:0,class:"widget-row"},ve={class:"mr-3"},we={key:1,class:"mr-3"},he=h({__name:"HomeWidgetRow",props:{widgetRow:{}},setup(f){const e=function(t){ne(t)&&["artist","album","playlist"].includes(t.media_type)?G.push({name:t.media_type,params:{itemId:t.item_id,provider:t.provider}}):t.media_type===Q.FOLDER?G.push({name:"browse",query:{path:t.path}}):le.emit("playdialog",{items:[t],showContextMenuItems:!0})};return(t,i)=>{const s=I("swiper-slide");return t.widgetRow.items.length?(a(),o("div",ye,[l(U,{color:"transparent",style:ee(t.widgetRow.path?"cursor: pointer; width: fit-content;":"width: fit-content;"),onClick:i[0]||(i[0]=n=>t.widgetRow.path?t.$router.replace(t.widgetRow.path):"")},{prepend:r(()=>[l(R,{icon:t.widgetRow.icon},null,8,["icon"])]),title:r(()=>[t.widgetRow.count?(a(),v(me,{key:0,inline:"",color:"grey",content:t.widgetRow.count},{default:r(()=>[y("span",ve,u(t.$t(t.widgetRow.label)),1)]),_:1},8,["content"])):(a(),o("span",we,u(t.$t(t.widgetRow.label)),1))]),_:1},8,["style"]),l(Y,null,{default:r(()=>[(a(!0),o(L,null,S(t.widgetRow.items,n=>(a(),v(s,{key:n.uri},{default:r(()=>[l(oe,{item:n,"show-checkboxes":!1,"show-track-number":!1,"is-selected":!1,onClick:e},null,8,["item"])]),_:2},1024))),128))]),_:1})])):P("",!0)}}});const fe=h({__name:"HomeWidgetRows",async setup(f){let e,t;const i=te({recently_played:{label:"recently_played",icon:"mdi-motion-play",items:[]},artists:{label:"artists",icon:"mdi-account-music",path:"/artists",items:[]},albums:{label:"albums",icon:"mdi-album",path:"/albums",items:[]},playlists:{label:"playlists",icon:"mdi-playlist-music",path:"/playlists",items:[]},tracks:{label:"tracks",icon:"mdi-file-music",path:"/tracks",items:[]},radios:{label:"radios",icon:"mdi-radio",path:"/radios",items:[]},browse:{label:"browse",icon:"mdi-folder",path:"/browse",items:[]}});i.value.recently_played.items=([e,t]=w(()=>c.getRecentlyPlayedItems(20)),e=await e,t(),e);const s=([e,t]=w(()=>c.getLibraryArtists(void 0,void 0,20,void 0,"RANDOM()")),e=await e,t(),e);i.value.artists.items=s.items,i.value.artists.count=s.total;const n=([e,t]=w(()=>c.getLibraryAlbums(void 0,void 0,20,void 0,"timestamp_added DESC")),e=await e,t(),e);i.value.albums.items=n.items,i.value.albums.count=n.total;const _=([e,t]=w(()=>c.getLibraryPlaylists(void 0,void 0,20,void 0,"timestamp_added DESC")),e=await e,t(),e);i.value.playlists.items=_.items,i.value.playlists.count=_.total;const m=([e,t]=w(()=>c.getLibraryRadios(void 0,void 0,20,void 0,"timestamp_added DESC")),e=await e,t(),e);i.value.radios.items=m.items,i.value.radios.count=m.total;const p=([e,t]=w(()=>c.getLibraryTracks(void 0,void 0,20,void 0,"timestamp_added DESC")),e=await e,t(),e);return i.value.tracks.items=p.items,i.value.tracks.count=p.total,[e,t]=w(()=>c.browse("",b=>{i.value.browse.items.push(...b)})),await e,t(),(b,$)=>(a(!0),o(L,null,S(i.value,g=>(a(),o("div",{key:g.label},[l(he,{"widget-row":g},null,8,["widget-row"])]))),128))}}),be={class:"media-thumb player-media-thumb"},ge={style:{cursor:"pointer"}},ke={key:0},qe={key:0},Ce={key:1},Pe={key:2},Re={style:{cursor:"pointer"},class:"line-clamp-1"},$e={key:0},Ve={key:1},Ie={key:2,class:"line-clamp-1"},Le={key:3,class:"line-clamp-1"},Se={key:4,class:"line-clamp-1"},De={key:5,class:"line-clamp-1"},Ae={style:{cursor:"pointer"}},Ee={style:{cursor:"pointer",fontWeight:"bold"}},He=h({__name:"PanelviewPlayerCard",props:{queue:{}},setup(f){return(e,t)=>(a(),v(pe,{class:ae(["panel-item",{"panel-item-selected":d(k).selectedPlayerId==e.queue.queue_id,"panel-item-idle":e.queue.state==d(q).IDLE}])},{default:r(()=>[l(j,{class:"panel-item-details"},{prepend:r(()=>{var i;return[y("div",be,[l(ce,{size:"60",item:((i=e.queue.current_item)==null?void 0:i.media_item)||e.queue.current_item,fallback:d(_e),style:{cursor:"pointer"}},null,8,["item","fallback"])])]}),title:r(()=>{var i,s,n,_,m,p;return[y("div",ge,[(i=e.queue.current_item)!=null&&i.media_item?(a(),o("div",ke,[C(u((s=e.queue.current_item)==null?void 0:s.media_item.name)+" ",1),"version"in((n=e.queue.current_item)==null?void 0:n.media_item)&&((_=e.queue.current_item)!=null&&_.media_item.version)?(a(),o("span",qe,"("+u((m=e.queue.current_item)==null?void 0:m.media_item.version)+")",1)):P("",!0)])):e.queue.current_item?(a(),o("div",Ce,u((p=e.queue.current_item)==null?void 0:p.name),1)):(a(),o("div",Pe,u(e.queue.display_name),1))])]}),subtitle:r(()=>{var i,s,n,_,m,p,b,$,g,D,A,E,H,z,B,N,M,T,O,W,F;return[y("div",Re,[(i=e.queue.current_item)!=null&&i.media_item&&((n=(s=e.queue.current_item)==null?void 0:s.media_item)==null?void 0:n.media_type)==d(Q).TRACK&&"album"in((_=e.queue.current_item)==null?void 0:_.media_item)&&((m=e.queue.current_item)!=null&&m.media_item.album)?(a(),o("div",$e,u(d(ie)((p=e.queue.current_item)==null?void 0:p.media_item.artists))+" â€¢ "+u((b=e.queue.current_item)==null?void 0:b.media_item.album.name),1)):($=e.queue.current_item)!=null&&$.media_item&&"artists"in((g=e.queue.current_item)==null?void 0:g.media_item)&&((D=e.queue.current_item)==null?void 0:D.media_item.artists.length)>0?(a(),o("div",Ve,u((A=e.queue.current_item)==null?void 0:A.media_item.artists[0].name),1)):(H=(E=e.queue.current_item)==null?void 0:E.streamdetails)!=null&&H.stream_title?(a(),o("div",Ie,u((B=(z=e.queue.current_item)==null?void 0:z.streamdetails)==null?void 0:B.stream_title),1)):(M=(N=e.queue.current_item)==null?void 0:N.media_item)!=null&&M.metadata.description?(a(),o("div",Le,u((T=e.queue.current_item)==null?void 0:T.media_item.metadata.description),1)):e.queue.items==0?(a(),o("div",Se,u(e.$t("queue_empty")),1)):((O=d(k).selectedPlayer)==null?void 0:O.active_source)!=((W=d(k).selectedPlayer)==null?void 0:W.player_id)?(a(),o("div",De,u(e.$t("external_source_active",[(F=d(k).selectedPlayer)==null?void 0:F.active_source])),1)):P("",!0)])]}),default:r(()=>[y("div",Ae,[y("div",null,[C(" on "),y("span",Ee,u(e.queue.display_name),1)])])]),append:r(()=>[l(ue,{icon:"",variant:"text",onClick:t[0]||(t[0]=i=>d(c).queueCommandPlayPause(e.queue.queue_id))},{default:r(()=>[e.queue.state==d(q).PLAYING?(a(),v(R,{key:0,size:d(V)({breakpoint:"phone"})?"24":"32"},{default:r(()=>[C("mdi-pause-circle-outline")]),_:1},8,["size"])):(a(),v(R,{key:1,size:d(V)({breakpoint:"phone"})?"24":"32"},{default:r(()=>[C("mdi-play-circle-outline")]),_:1},8,["size"]))]),_:1})]),_:1})]),_:1},8,["class"]))}});const ze=K(He,[["__scopeId","data-v-cec58dcd"]]),Be={key:0,class:"widget-row"},Ne={class:"mr-3"},Me=h({__name:"HomeCurrentlyPlayingRow",setup(f){const e={[q.PLAYING]:1,[q.PAUSED]:2,[q.IDLE]:2},t=se(()=>Object.values(c.queues).filter(s=>s.active&&s.items>0&&s.queue_id in c.players&&c.players[s.queue_id].powered).sort((s,n)=>s.display_name.localeCompare(n.display_name)).sort((s,n)=>e[s.state]-e[n.state]));function i(s){s&&s.queue_id in c.players&&(k.selectedPlayerId=s.queue_id)}return(s,n)=>{const _=I("swiper-slide");return t.value.length?(a(),o("div",Be,[l(U,{color:"transparent",style:{width:"fit-content"}},{prepend:r(()=>[l(R,{icon:"mdi-playlist-play"})]),title:r(()=>[y("span",Ne,u(s.$t("currently_playing")),1)]),_:1}),l(Y,null,{default:r(()=>[(a(!0),o(L,null,S(t.value,m=>(a(),v(_,{key:m.queue_id,style:{"min-width":"300px","max-width":"500px"}},{default:r(()=>[l(ze,{queue:m,onClick:p=>i(m)},null,8,["queue","onClick"])]),_:2},1024))),128))]),_:1})])):P("",!0)}}}),Te=h({__name:"HomeView",setup(f){return(e,t)=>(a(),o("div",null,[l(X,{variant:"panel"},{default:r(()=>[(a(),v(re,null,{fallback:r(()=>[l(de,{indeterminate:""})]),default:r(()=>[y("div",null,[l(Me),l(fe)])]),_:1}))]),_:1})]))}});const tt=K(Te,[["__scopeId","data-v-29a1628b"]]);export{tt as default};
