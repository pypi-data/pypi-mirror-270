"use strict";(self.webpackChunk_datalayer_jupyter_iam=self.webpackChunk_datalayer_jupyter_iam||[]).push([[938],{10938:(e,t,n)=>{n.r(t),n.d(t,{default:()=>E});var a,r=n(83243),c=n(2245),s=n(71514),o=n(29246),i=n(47415),l=n(71204),d=n(18168),m=n(55616),h=n(55343),u=n(64163),p=n(46931),_=n(16781),v=n(41835),g=n(92279),f=n(56769);class w extends m.I_{constructor(){super(...arguments),this.itemsList=[]}add(e){const t=a.createItem(e);return this.itemsList.push(t),this.stateChanged.emit(void 0),new _.DisposableDelegate((()=>{p.RO.removeFirstOf(this.itemsList,t),this.stateChanged.emit(void 0)}))}items(){return this.itemsList[Symbol.iterator]()}}class y extends m.UB{constructor(e){super(e.model),this._pending=!1,this._cwd="",this._cwd=e.cwd,this.translator=e.translator||d.Sr,this._trans=this.translator.load("jupyterlab"),this._callback=e.callback,this._commands=e.commands,this.addClass("jp-Launcher")}get cwd(){return this._cwd}set cwd(e){this._cwd=e,this.update()}get pending(){return this._pending}set pending(e){this._pending=e}render(){if(!this.model)return null;const e=[this._trans.__("Notebook"),this._trans.__("Console"),this._trans.__("Other")],t=[this._trans.__("Notebook"),this._trans.__("Console")],n=Object.create(null);for(const e of this.model.items()){const t=e.category||this._trans.__("Other");t in n||(n[t]=[]),n[t].push(e)}for(const e in n)n[e]=n[e].sort(((e,t)=>a.sortCmp(e,t,this._cwd,this._commands)));const r=[];let c;const s=[];for(const t of e)s.push(t);for(const t in n)-1===e.indexOf(t)&&s.push(t);return s.forEach((e=>{if(!n[e])return;const s=n[e][0],o={...s.args,cwd:this.cwd},i=t.indexOf(e)>-1,d=this._commands.iconClass(s.command,o),m=this._commands.icon(s.command,o);e in n&&(c=f.createElement("div",{className:"jp-Launcher-section",key:e},f.createElement("div",{className:"jp-Launcher-sectionHeader"},f.createElement(h.zZ.resolveReact,{icon:m,iconClass:(0,u.Sh)(d,"jp-Icon-cover"),stylesheet:"launcherSection","aria-hidden":"true"}),f.createElement("h2",{className:"jp-Launcher-sectionTitle"},e)),f.createElement("div",{className:"jp-Launcher-cardContainer"},Array.from((0,p.UI)(n[e],(e=>function(e,t,n,r,c,s){const o=t.command,i={...t.args,cwd:n.cwd},d=r.caption(o,i),m=r.label(o,i),p=e?m:d||m,_=()=>{!0!==n.pending&&(n.pending=!0,r.execute(o,{...t.args,cwd:n.cwd}).then((e=>{n.pending=!1,e instanceof g.$L&&s(e)})).catch((e=>{console.error(e),n.pending=!1,(0,l.UW)(c._p("Error","Launcher Error"),e)})))},v=r.iconClass(o,i),w=r.icon(o,i);return f.createElement("div",{className:"jp-LauncherCard",title:p,onClick:_,onKeyPress:e=>{"Enter"===e.key&&_()},tabIndex:0,"data-category":t.category||c.__("Other"),key:a.keyProperty.get(t)},f.createElement("div",{className:"jp-LauncherCard-icon"},e?t.kernelIconUrl?f.createElement("img",{src:t.kernelIconUrl,className:"jp-Launcher-kernelIcon",alt:p}):f.createElement("div",{className:"jp-LauncherCard-noKernelIcon"},m[0].toUpperCase()):f.createElement(h.zZ.resolveReact,{icon:w,iconClass:(0,u.Sh)(v,"jp-Icon-cover"),stylesheet:"launcherCard"})),f.createElement("div",{className:"jp-LauncherCard-label",title:p},f.createElement("p",null,m)))}(i,e,this,this._commands,this._trans,this._callback)))))),r.push(c))})),f.createElement("div",{className:"jp-Launcher-body"},f.createElement("div",{className:"jp-Launcher-content"},f.createElement("div",{className:"jp-Launcher-cwd"},f.createElement("h3",null,this.cwd)),r))}}!function(e){let t=0;e.keyProperty=new v.AttachedProperty({name:"key",create:()=>t++}),e.createItem=function(e){return{...e,category:e.category||"",rank:void 0!==e.rank?e.rank:1/0}},e.sortCmp=function(e,t,n,a){const r=e.rank,c=t.rank;if(r!==c&&void 0!==r&&void 0!==c)return r<c?-1:1;const s=a.label(e.command,{...e.args,cwd:n}),o=a.label(t.command,{...t.args,cwd:n});return s.localeCompare(o)}}(a||(a={}));var b,k=n(77727);!function(e){e.create="launcher:create"}(b||(b={}));const C={activate:function(e,t,n,a,r,c){const{commands:o,shell:i}=e,l=t.load("jupyterlab"),d=new w;return o.addCommand(b.create,{label:l.__("New Launcher"),icon:e=>e.toolbar?k.Ug:void 0,execute:e=>{var a,c;const m=null!==(c=null!==(a=e.cwd)&&void 0!==a?a:null==r?void 0:r.model.path)&&void 0!==c?c:"",h="launcher-"+L.id++,u=new y({model:d,cwd:m,callback:e=>{(0,p.sE)(i.widgets("main"),(t=>t===e))&&(i.add(e,"main",{ref:h}),u.dispose())},commands:o,translator:t});u.model=d,u.title.icon=k.C6,u.title.label=l.__("Launcher");const _=new s.k({content:u});if(_.title.closable=!!Array.from(i.widgets("main")).length,_.id=h,i.add(_,"main",{activate:e.activate,ref:e.ref}),n&&n.layoutModified.connect((()=>{_.title.closable=Array.from(n.widgets("main")).length>1}),_),r){const e=e=>{u.cwd=e.path};r.model.pathChanged.connect(e),u.disposed.connect((()=>{r.model.pathChanged.disconnect(e)}))}return _}}),n&&Promise.all([e.restored,null==r?void 0:r.model.restored]).then((()=>{n.layoutModified.connect((()=>{n.isEmpty("main")&&o.execute(b.create)}))})),a&&a.addItem({command:b.create,category:l.__("Launcher")}),n&&(n.addButtonEnabled=!0,n.addRequested.connect(((e,t)=>{var n;const a=(null===(n=t.currentTitle)||void 0===n?void 0:n.owner.id)||t.titles[t.titles.length-1].owner.id;return o.execute(b.create,{ref:a})}))),d},id:"@jupyterlab/launcher-extension:plugin",description:"Provides the launcher tab service.",requires:[d.gv],optional:[r.r,c.WW,o.iH,o.Fz],provides:i.B,autoStart:!0},E=C;var L;!function(e){e.id=0}(L||(L={}))}}]);