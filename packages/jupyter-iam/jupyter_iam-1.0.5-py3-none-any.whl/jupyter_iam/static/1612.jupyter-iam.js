(self.webpackChunk_datalayer_jupyter_iam=self.webpackChunk_datalayer_jupyter_iam||[]).push([[1612,8640,2074,2030,6247,2707],{98935:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>P});var r=n(44041),s=n(2245),i=n(22290),a=n(48425),o=n(47963);const d=new o.Token("@jupyterlab/markdownviewer:IMarkdownViewerTracker","A widget tracker for markdown\n  document viewers. Use this if you want to iterate over and interact with rendered markdown documents.");var c=n(71204),l=n(48860),h=n(71720),u=n(18168),p=n(98209),g=n(92279);const m="text/markdown";class f extends g.$L{constructor(e){super(),this._config={...f.defaultConfig},this._fragment="",this._ready=new o.PromiseDelegate,this._isRendering=!1,this._renderRequested=!1,this._rendered=new p.Signal(this),this.context=e.context,this.translator=e.translator||u.Sr,this._trans=this.translator.load("jupyterlab"),this.renderer=e.renderer,this.node.tabIndex=0,this.addClass("jp-MarkdownViewer"),(this.layout=new g.Qb).addWidget(this.renderer),this.context.ready.then((async()=>{await this._render(),this._monitor=new a.ActivityMonitor({signal:this.context.model.contentChanged,timeout:this._config.renderTimeout}),this._monitor.activityStopped.connect(this.update,this),this._ready.resolve(void 0)}))}get ready(){return this._ready.promise}get rendered(){return this._rendered}setFragment(e){this._fragment=e,this.update()}setOption(e,t){if(this._config[e]===t)return;this._config[e]=t;const{style:n}=this.renderer.node;switch(e){case"fontFamily":n.setProperty("font-family",t);break;case"fontSize":n.setProperty("font-size",t?t+"px":null);break;case"hideFrontMatter":this.update();break;case"lineHeight":n.setProperty("line-height",t?t.toString():null);break;case"lineWidth":{const e=t?`calc(50% - ${t/2}ch)`:null;n.setProperty("padding-left",e),n.setProperty("padding-right",e);break}case"renderTimeout":this._monitor&&(this._monitor.timeout=t)}}dispose(){this.isDisposed||(this._monitor&&this._monitor.dispose(),this._monitor=null,super.dispose())}onUpdateRequest(e){this.context.isReady&&!this.isDisposed&&(this._render(),this._fragment="")}onActivateRequest(e){this.node.focus()}async _render(){if(this.isDisposed)return;if(this._isRendering)return void(this._renderRequested=!0);this._renderRequested=!1;const{context:e}=this,{model:t}=e,n=t.toString(),r={};r[m]=this._config.hideFrontMatter?v.removeFrontMatter(n):n;const s=new h.a({data:r,metadata:{fragment:this._fragment}});try{if(this._isRendering=!0,await this.renderer.renderModel(s),this._isRendering=!1,this._renderRequested)return this._render();this._rendered.emit()}catch(t){requestAnimationFrame((()=>{this.dispose()})),(0,c.UW)(this._trans.__("Renderer Failure: %1",e.path),t)}}}!function(e){e.defaultConfig={fontFamily:null,fontSize:null,lineHeight:null,lineWidth:null,hideFrontMatter:!0,renderTimeout:1e3}}(f||(f={}));class y extends l.Ry{setFragment(e){this.content.setFragment(e)}}class w extends l.GA{constructor(e){super(v.createRegistryOptions(e)),this._fileType=e.primaryFileType,this._rendermime=e.rendermime}createNewWidget(e){var t,n,r,s,i;const a=this._rendermime.clone({resolver:e.urlResolver}).createRenderer(m),o=new f({context:e,renderer:a});return o.title.icon=null===(t=this._fileType)||void 0===t?void 0:t.icon,o.title.iconClass=null!==(r=null===(n=this._fileType)||void 0===n?void 0:n.iconClass)&&void 0!==r?r:"",o.title.iconLabel=null!==(i=null===(s=this._fileType)||void 0===s?void 0:s.iconLabel)&&void 0!==i?i:"",o.title.caption=this.label,new y({content:o,context:e})}}var v;!function(e){e.createRegistryOptions=function(e){return{...e,readOnly:!0}},e.removeFrontMatter=function(e){const t=e.match(/^---\n[^]*?\n(---|...)\n/);if(!t)return e;const{length:n}=t[0];return e.slice(n)}}(v||(v={}));var _=n(96734),x=n(3053),k=n(83331),T=n(51840);class C extends _.U{constructor(e,t,n){super(e,n),this.parser=t}get documentType(){return"markdown-viewer"}get isAlwaysActive(){return!0}get supportedOptions(){return["maximalDepth","numberingH1","numberHeaders"]}getHeadings(){const e=this.widget.context.model.toString(),t=x.tF(k.o3(e),{...this.configuration,baseNumbering:1});return Promise.resolve(t)}}class b extends T.w{constructor(e,t,n){super(e),this.parser=t,this.sanitizer=n}_createNew(e,t){const n=new C(e,this.parser,t);let r=new WeakMap;const s=(t,n)=>{if(n){const t=r.get(n);if(t){const n=e.content.node.getBoundingClientRect(),r=t.getBoundingClientRect();(r.top>n.bottom||r.bottom<n.top)&&t.scrollIntoView({block:"center"})}else console.warn("Heading element not found for heading",n,"in widget",e)}},i=()=>{this.parser&&(x.Zd(e.content.node),r=new WeakMap,n.headings.forEach((async t=>{var n;const s=await k.N4(this.parser,t.raw,t.level,this.sanitizer);if(!s)return;const i=`h${t.level}[id="${CSS.escape(s)}"]`;r.set(t,x.U9(e.content.node,i,null!==(n=t.prefix)&&void 0!==n?n:""))})))};return e.content.ready.then((()=>{i(),e.content.rendered.connect(i),n.activeHeadingChanged.connect(s),n.headingsChanged.connect(i),e.disposed.connect((()=>{e.content.rendered.disconnect(i),n.activeHeadingChanged.disconnect(s),n.headingsChanged.disconnect(i)}))})),n}}var R,H=n(97491),A=n(55204),S=n(35909),j=n(80882);!function(e){e.markdownPreview="markdownviewer:open",e.markdownEditor="markdownviewer:edit"}(R||(R={}));const F="Markdown Preview",M={activate:function(e,t,n,r,s,o,d){const c=n.load("jupyterlab"),{commands:l,docRegistry:h}=e;t.addFactory(A.xr);const u=new i.u({namespace:"markdownviewer-widget"});let p={...f.defaultConfig};function g(e){Object.keys(p).forEach((t=>{var n;e.setOption(t,null!==(n=p[t])&&void 0!==n?n:null)}))}if(s){const e=e=>{p=e.composite,u.forEach((e=>{g(e.content)}))};s.load(M.id).then((t=>{t.changed.connect((()=>{e(t)})),e(t)})).catch((e=>{console.error(e.message)}))}const m=new w({rendermime:t,name:F,label:c.__("Markdown Preview"),primaryFileType:h.getFileType("markdown"),fileTypes:["markdown"],defaultRendered:["markdown"]});return m.widgetCreated.connect(((e,t)=>{t.context.pathChanged.connect((()=>{u.save(t)})),g(t.content),u.add(t)})),h.addWidgetFactory(m),r&&r.restore(u,{command:"docmanager:open",args:e=>({path:e.context.path,factory:F}),name:e=>e.context.path}),l.addCommand(R.markdownPreview,{label:c.__("Markdown Preview"),execute:e=>{const t=e.path;if("string"==typeof t)return l.execute("docmanager:open",{path:t,factory:F,options:e.options})}}),l.addCommand(R.markdownEditor,{execute:()=>{const e=u.currentWidget;if(!e)return;const t=e.context.path;return l.execute("docmanager:open",{path:t,factory:"Editor",options:{mode:"split-right"}})},isVisible:()=>{const e=u.currentWidget;return e&&".md"===a.PathExt.extname(e.context.path)||!1},label:c.__("Show Markdown Editor")}),o&&o.add(new b(u,t.markdownParser,null!=d?d:t.sanitizer)),u},id:"@jupyterlab/markdownviewer-extension:plugin",description:"Adds markdown file viewer and provides its tracker.",provides:d,requires:[H.ZD,u.gv],optional:[r.L,S.O,j.wk,s.hd],autoStart:!0},P=M},55204:(e,t,n)=>{"use strict";n.d(t,{Lz:()=>s,Nf:()=>a,xr:()=>i});var r=n(82505);const s={safe:!0,mimeTypes:["image/bmp","image/png","image/jpeg","image/gif","image/webp"],defaultRank:90,createRenderer:e=>new r.UH(e)},i={safe:!0,mimeTypes:["text/markdown"],defaultRank:60,createRenderer:e=>new r.cw(e)},a=[{safe:!0,mimeTypes:["text/html"],defaultRank:50,createRenderer:e=>new r.oI(e)},i,{safe:!0,mimeTypes:["text/latex"],defaultRank:70,createRenderer:e=>new r.FK(e)},{safe:!1,mimeTypes:["image/svg+xml"],defaultRank:80,createRenderer:e=>new r.zt(e)},s,{safe:!1,mimeTypes:["text/javascript","application/javascript"],defaultRank:110,createRenderer:e=>new r.ND(e)},{safe:!0,mimeTypes:["application/vnd.jupyter.stderr"],defaultRank:110,createRenderer:e=>new r.Hw(e)},{safe:!0,mimeTypes:["text/plain","application/vnd.jupyter.stdout"],defaultRank:120,createRenderer:e=>new r.lH(e)}]},82505:(e,t,n)=>{"use strict";n.d(t,{FK:()=>c,Hw:()=>g,ND:()=>m,UH:()=>l,cw:()=>h,lH:()=>p,oI:()=>d,zt:()=>u});var r=n(18168),s=n(92279),i=n(10751);class a extends s.$L{constructor(e){var t,n;super(),this.mimeType=e.mimeType,this.sanitizer=e.sanitizer,this.resolver=e.resolver,this.linkHandler=e.linkHandler,this.translator=null!==(t=e.translator)&&void 0!==t?t:r.Sr,this.latexTypesetter=e.latexTypesetter,this.markdownParser=null!==(n=e.markdownParser)&&void 0!==n?n:null,this.node.dataset.mimeType=this.mimeType}async renderModel(e,t){if(!t)for(;this.node.firstChild;)this.node.removeChild(this.node.firstChild);this.toggleClass("jp-mod-trusted",e.trusted),await this.render(e);const{fragment:n}=e.metadata;n&&this.setFragment(n)}setFragment(e){}}class o extends a{constructor(e){super(e),this.addClass("jp-RenderedHTMLCommon")}setFragment(e){let t;try{t=this.node.querySelector(e.startsWith("#")?`#${CSS.escape(e.slice(1))}`:e)}catch(e){console.warn("Unable to set URI fragment identifier.",e)}t&&t.scrollIntoView()}}class d extends o{constructor(e){super(e),this.addClass("jp-RenderedHTML")}render(e){return i.NN({host:this.node,source:String(e.data[this.mimeType]),trusted:e.trusted,resolver:this.resolver,sanitizer:this.sanitizer,linkHandler:this.linkHandler,shouldTypeset:this.isAttached,latexTypesetter:this.latexTypesetter,translator:this.translator})}onAfterAttach(e){this.latexTypesetter&&this.latexTypesetter.typeset(this.node)}}class c extends a{constructor(e){super(e),this.addClass("jp-RenderedLatex")}render(e){return i.K3({host:this.node,source:String(e.data[this.mimeType]),shouldTypeset:this.isAttached,latexTypesetter:this.latexTypesetter})}onAfterAttach(e){this.latexTypesetter&&this.latexTypesetter.typeset(this.node)}}class l extends a{constructor(e){super(e),this.addClass("jp-RenderedImage")}render(e){const t=e.metadata[this.mimeType];return i.co({host:this.node,mimeType:this.mimeType,source:String(e.data[this.mimeType]),width:t&&t.width,height:t&&t.height,needsBackground:e.metadata.needs_background,unconfined:t&&t.unconfined})}}class h extends o{constructor(e){super(e),this.addClass("jp-RenderedMarkdown")}render(e){return i.ap({host:this.node,source:String(e.data[this.mimeType]),trusted:e.trusted,resolver:this.resolver,sanitizer:this.sanitizer,linkHandler:this.linkHandler,shouldTypeset:this.isAttached,latexTypesetter:this.latexTypesetter,markdownParser:this.markdownParser,translator:this.translator})}async renderModel(e){await super.renderModel(e,!0)}onAfterAttach(e){this.latexTypesetter&&this.latexTypesetter.typeset(this.node)}}class u extends a{constructor(e){super(e),this.addClass("jp-RenderedSVG")}render(e){const t=e.metadata[this.mimeType];return i.KB({host:this.node,source:String(e.data[this.mimeType]),trusted:e.trusted,unconfined:t&&t.unconfined,translator:this.translator})}onAfterAttach(e){this.latexTypesetter&&this.latexTypesetter.typeset(this.node)}}class p extends a{constructor(e){super(e),this.addClass("jp-RenderedText")}render(e){return i.IY({host:this.node,sanitizer:this.sanitizer,source:String(e.data[this.mimeType]),translator:this.translator})}}class g extends a{constructor(e){super(e),this.addClass("jp-RenderedText")}render(e){return i.Op({host:this.node,sanitizer:this.sanitizer,source:String(e.data[this.mimeType]),linkHandler:this.linkHandler,resolver:this.resolver,translator:this.translator})}}class m extends a{constructor(e){super(e),this.addClass("jp-RenderedJavaScript")}render(e){const t=this.translator.load("jupyterlab");return i.IY({host:this.node,sanitizer:this.sanitizer,source:t.__("JavaScript output is disabled in JupyterLab"),translator:this.translator})}}},51840:(e,t,n)=>{"use strict";n.d(t,{w:()=>s});var r=n(48425);class s{constructor(e){this.tracker=e}isApplicable(e){return!!this.tracker.has(e)}createNew(e,t){const n=this._createNew(e,t),s=e.context,i=()=>{n.refresh().catch((e=>{console.error("Failed to update the table of contents.",e)}))},a=new r.ActivityMonitor({signal:s.model.contentChanged,timeout:1e3});a.activityStopped.connect(i);const o=()=>{n.title=r.PathExt.basename(s.localPath)};return s.pathChanged.connect(o),s.ready.then((()=>{o(),i()})).catch((e=>{console.error(`Failed to initiate headings for ${s.localPath}.`)})),e.disposed.connect((()=>{a.activityStopped.disconnect(i),s.pathChanged.disconnect(o)})),n}}},96734:(e,t,n)=>{"use strict";n.d(t,{U:()=>d});var r,s=n(55616),i=n(47963),a=n(98209),o=n(80882);class d extends s.I_{constructor(e,t){super(),this.widget=e,this._activeHeading=null,this._activeHeadingChanged=new a.Signal(this),this._collapseChanged=new a.Signal(this),this._configuration=null!=t?t:{...o.o5.defaultConfig},this._headings=new Array,this._headingsChanged=new a.Signal(this),this._isActive=!1,this._isRefreshing=!1,this._needsRefreshing=!1}get activeHeading(){return this._activeHeading}get activeHeadingChanged(){return this._activeHeadingChanged}get collapseChanged(){return this._collapseChanged}get configuration(){return this._configuration}get headings(){return this._headings}get headingsChanged(){return this._headingsChanged}get isActive(){return this._isActive}set isActive(e){this._isActive=e,this._isActive&&!this.isAlwaysActive&&this.refresh().catch((e=>{console.error("Failed to refresh ToC model.",e)}))}get isAlwaysActive(){return!1}get supportedOptions(){return["maximalDepth"]}get title(){return this._title}set title(e){e!==this._title&&(this._title=e,this.stateChanged.emit())}async refresh(){if(this._isRefreshing)return this._needsRefreshing=!0,Promise.resolve();this._isRefreshing=!0;try{const e=await this.getHeadings();if(this._needsRefreshing)return this._needsRefreshing=!1,this._isRefreshing=!1,this.refresh();e&&!r.areHeadingsEqual(e,this._headings)&&(this._headings=e,this.stateChanged.emit(),this._headingsChanged.emit())}finally{this._isRefreshing=!1}}setActiveHeading(e,t=!0){this._activeHeading!==e&&(this._activeHeading=e,this.stateChanged.emit()),t&&this._activeHeadingChanged.emit(this._activeHeading)}setConfiguration(e){const t={...this._configuration,...e};i.JSONExt.deepEqual(this._configuration,t)||(this._configuration=t,this.refresh().catch((e=>{console.error("Failed to update the table of contents.",e)})))}toggleCollapse(e){var t,n;if(e.heading)e.heading.collapsed=null!==(t=e.collapsed)&&void 0!==t?t:!e.heading.collapsed,this.stateChanged.emit(),this._collapseChanged.emit(e.heading);else{const t=null!==(n=e.collapsed)&&void 0!==n?n:!this.headings.some((e=>{var t;return!(null!==(t=e.collapsed)&&void 0!==t&&t)}));this.headings.forEach((e=>e.collapsed=t)),this.stateChanged.emit(),this._collapseChanged.emit(null)}}}!function(e){e.areHeadingsEqual=function(e,t){if(e.length===t.length){for(let n=0;n<e.length;n++)if(e[n].level!==t[n].level||e[n].text!==t[n].text||e[n].prefix!==t[n].prefix)return!1;return!0}return!1}}(r||(r={}))},80882:(e,t,n)=>{"use strict";n.d(t,{Ol:()=>i,o5:()=>a,wk:()=>s});var r=n(47963);const s=new r.Token("@jupyterlab/toc:ITableOfContentsRegistry","A service to register table of content factory."),i=new r.Token("@jupyterlab/toc:ITableOfContentsTracker","A widget tracker for table of contents.");var a;!function(e){e.defaultConfig={baseNumbering:1,maximalDepth:4,numberingH1:!0,numberHeaders:!1,includeOutput:!0,syncCollapseState:!1}}(a||(a={}))},3053:(e,t,n)=>{"use strict";n.d(t,{FP:()=>a,Gn:()=>c,U9:()=>d,Zd:()=>h,ok:()=>o,tF:()=>i});var r=n(80882);const s="numbering-entry";function i(e,t,n=[]){const s={...r.o5.defaultConfig,...t},i=n;let a=i.length;const o=new Array;for(const t of e){if(t.skip)continue;const e=t.level;if(e>0&&e<=s.maximalDepth){const n=c(e,a,i,s);a=e,o.push({...t,prefix:n})}}return o}function a(e){return"text/html"===e}function o(e,t=!0){var n;const r=document.createElement("div");r.innerHTML=e;const s=new Array,i=r.querySelectorAll("h1, h2, h3, h4, h5, h6");for(const e of i){const t=parseInt(e.tagName[1],10);s.push({text:null!==(n=e.textContent)&&void 0!==n?n:"",level:t,id:null==e?void 0:e.getAttribute("id"),skip:e.classList.contains("jp-toc-ignore")||e.classList.contains("tocSkip")})}return s}function d(e,t,n){let r=e.querySelector(t);if(!r)return null;if(r.querySelector(`span.${s}`)){const i=e.querySelectorAll(t);for(const e of i)if(!e.querySelector(`span.${s}`)){r=e,l(e,n);break}}else l(r,n);return r}function c(e,t,n,r){const{baseNumbering:s,numberingH1:i,numberHeaders:a}=r;let o="";if(a){const r=i?1:2;if(e>t){for(let r=t;r<e-1;r++)n[r]=0;n[e-1]=e===r?s:1}else n[e-1]+=1,e<t&&n.splice(e);i?o=n.map((e=>null!=e?e:0)).join(".")+". ":n.length>1&&(o=n.slice(1).map((e=>null!=e?e:0)).join(".")+". ")}return o}function l(e,t){e.insertAdjacentHTML("afterbegin",`<span class="${s}">${t}</span>`)}function h(e){null==e||e.querySelectorAll(`span.${s}`).forEach((e=>{e.remove()}))}},83331:(e,t,n)=>{"use strict";n.d(t,{N4:()=>i,kb:()=>d,o3:()=>a});var r=n(35884),s=n(10751);async function i(e,t,n,i){try{const a=document.createElement("div");await(0,s.ap)({markdownParser:e,host:a,source:t,trusted:!1,sanitizer:null!=i?i:new r.T,shouldTypeset:!1,resolver:null,linkHandler:null,latexTypesetter:null});const o=a.querySelector(`h${n}`);return o?o.id:null}catch(e){console.error("Failed to parse a heading.",e)}return null}function a(e){const t=e.split("\n"),n=new Array;let r,s=0;if("---"===t[s])for(let e=s+1;e<t.length;e++)if("---"===t[e]){s=e+1;break}for(;s<t.length;s++){const e=t[s];if(""===e)continue;if(e.startsWith("```")&&(r=!r),r)continue;const i=c(e,t[s+1]);i&&n.push({...i,line:s})}return n}const o=["text/x-ipythongfm","text/x-markdown","text/x-gfm","text/markdown"];function d(e){return o.includes(e)}function c(e,t){let n=e.match(/^([#]{1,6}) (.*)/);return n?{text:l(n[2]),level:n[1].length,raw:e,skip:h.test(n[0])}:t&&(n=t.match(/^ {0,3}([=]{2,}|[-]{2,})\s*$/),n)?{text:l(e),level:"="===n[1][0]?1:2,raw:[e,t].join("\n"),skip:h.test(e)}:(n=e.match(/<h([1-6]).*>(.*)<\/h\1>/i),n?{text:n[2],level:parseInt(n[1],10),skip:h.test(n[0]),raw:e}:null)}function l(e){return e.replace(/\[(.+)\]\(.+\)/g,"$1")}const h=/<\w+\s(.*?\s)?class="(.*?\s)?(jp-toc-ignore|tocSkip)(\s.*?)?"(\s.*?)?>/},22868:()=>{},14777:()=>{},70209:()=>{},87414:()=>{}}]);