"use strict";(self.webpackChunk_datalayer_jupyter_kernels=self.webpackChunk_datalayer_jupyter_kernels||[]).push([[1094],{71094:(e,t,r)=>{r.r(t),r.d(t,{default:()=>w,lineColItem:()=>j});var o=r(83243),n=r(68337),i=r(33757),a=r(68471),s=r(18168),d=r(50478),l=r(31786),c=r(39138),u=r(56276),m=r(63419),p=r(47963),g=r(71021),h=r(56769);const v="@jupyterlab/codemirror-extension:plugin",f={id:"@jupyterlab/codemirror-extension:languages",description:"Provides the CodeMirror languages registry.",provides:l.db,optional:[s.gv],activate:(e,t)=>{const o=new l.BE;for(const e of l.BE.getDefaultLanguages(t))o.addLanguage(e);return o.addLanguage({name:"ipythongfm",mime:"text/x-ipythongfm",load:async()=>{const[e,t]=await Promise.all([Promise.all([r.e(6869),r.e(3437),r.e(59),r.e(7027)]).then(r.bind(r,27027)),r.e(8678).then(r.bind(r,28678))]);return e.markdown({base:e.markdownLanguage,codeLanguages:e=>o.findBest(e),extensions:[(0,l.fT)(d.il.define(t.stexMath).parser)]})}}),o}},y={id:"@jupyterlab/codemirror-extension:themes",description:"Provides the CodeMirror theme registry",provides:l.L0,optional:[s.gv],activate:(e,t)=>{const r=new l.Ie;for(const e of l.Ie.getDefaultThemes(t))r.addTheme(e);return r}},b={id:"@jupyterlab/codemirror-extension:extensions",description:"Provides the CodeMirror extension factory registry.",provides:l.$G,requires:[l.L0],optional:[s.gv,c.O,u.C],activate:(e,t,r,o,n)=>{const i=new l.C9;for(const e of l.C9.getDefaultExtensions({themes:t,translator:r}))i.addExtension(e);if(o){const t=e=>{var t;i.baseConfiguration=null!==(t=e.get("defaultConfig").composite)&&void 0!==t?t:{}};Promise.all([o.load(v),e.restored]).then((([e])=>{t(e),e.changed.connect(t)})),null==n||n.addRenderer(`${v}.defaultConfig`,{fieldRenderer:e=>{const t=h.useMemo((()=>i.settingsSchema),[]),o={};for(const[e,r]of Object.entries(i.defaultConfiguration))void 0!==t[e]&&(o[e]=r);return h.createElement("div",{className:"jp-FormGroup-contentNormal"},h.createElement("h3",{className:"jp-FormGroup-fieldLabel jp-FormGroup-contentItem"},e.schema.title),e.schema.description&&h.createElement("div",{className:"jp-FormGroup-description"},e.schema.description),h.createElement(m.Ur,{schema:{title:e.schema.title,description:e.schema.description,type:"object",properties:t,additionalProperties:!1},validator:g.Z,formData:{...o,...e.formData},formContext:{defaultFormData:o},liveValidate:!0,onChange:t=>{var r;const n={};for(const[e,i]of Object.entries(null!==(r=t.formData)&&void 0!==r?r:{})){const t=o[e];void 0!==t&&p.JSONExt.deepEqual(i,t)||(n[e]=i)}e.onChange(n)},tagName:"div",translator:null!=r?r:s.Sr}))}})}return i}},x={id:"@jupyterlab/codemirror-extension:binding",description:"Register the CodeMirror extension factory binding the editor and the shared model.",autoStart:!0,requires:[l.$G],activate:(e,t)=>{t.addExtension({name:"shared-model-binding",factory:e=>{var t;const r=e.model.sharedModel;return l.C9.createImmutableExtension((0,l.Zw)({ytext:r.ysource,undoManager:null!==(t=r.undoManager)&&void 0!==t?t:void 0}))}})}},C={id:"@jupyterlab/codemirror-extension:services",description:"Provides the service to instantiate CodeMirror editors.",provides:n.D3,requires:[l.db,l.$G],optional:[s.gv],activate:(e,t,r,o)=>({factoryService:new l.rM({extensions:r,languages:t,translator:null!=o?o:s.Sr}),mimeTypeService:new l.E1(t)})},j={id:"@jupyterlab/codemirror-extension:line-col-status",description:"Provides the code editor cursor position model.",autoStart:!0,requires:[s.gv],optional:[o.r,a.WQ],provides:n.fY,activate:(e,t,r,o)=>{const n=new i.V(t),a=new Set;function s(e,t){Promise.all([...a].map((e=>e(t.newValue)))).then((e=>{var t;n.model.editor=null!==(t=e.filter((e=>null!==e))[0])&&void 0!==t?t:null})).catch((e=>{console.error("Get editors",e)}))}return o&&o.registerStatusItem(j.id,{priority:1,item:n,align:"right",rank:2,isActive:()=>!!n.model.editor}),r&&r.currentChanged.connect(s),{addEditorProvider:t=>{a.add(t),e.shell.currentWidget&&s(e.shell,{newValue:e.shell.currentWidget,oldValue:null})},update:()=>{s(e.shell,{oldValue:e.shell.currentWidget,newValue:e.shell.currentWidget})}}}},w=[f,y,x,b,C,j]}}]);