"use strict";(self.webpackChunk_datalayer_jupyter_kernels=self.webpackChunk_datalayer_jupyter_kernels||[]).push([[2116],{12116:(e,n,t)=>{t.r(n),t.d(n,{CommandIDs:()=>y,default:()=>f});var a=t(27990),o=t(83243),l=t(35951),r=t(2245),d=t(71204),u=t(39018),s=t(48425),i=t(43043),c=t(30261),m=t(88362),p=t(39138),_=t(38522),b=t(18168),h=t(75753),v=t(46931),C=t(47963),w=t(92279);const g="@jupyterlab/mainmenu-extension:plugin";var y;!function(e){e.openEdit="editmenu:open",e.undo="editmenu:undo",e.redo="editmenu:redo",e.clearCurrent="editmenu:clear-current",e.clearAll="editmenu:clear-all",e.find="editmenu:find",e.goToLine="editmenu:go-to-line",e.openFile="filemenu:open",e.closeAndCleanup="filemenu:close-and-cleanup",e.createConsole="filemenu:create-console",e.shutdown="filemenu:shutdown",e.logout="filemenu:logout",e.openKernel="kernelmenu:open",e.interruptKernel="kernelmenu:interrupt",e.reconnectToKernel="kernelmenu:reconnect-to-kernel",e.restartKernel="kernelmenu:restart",e.restartKernelAndClear="kernelmenu:restart-and-clear",e.changeKernel="kernelmenu:change",e.shutdownKernel="kernelmenu:shutdown",e.shutdownAllKernels="kernelmenu:shutdownAll",e.openView="viewmenu:open",e.wordWrap="viewmenu:word-wrap",e.lineNumbering="viewmenu:line-numbering",e.matchBrackets="viewmenu:match-brackets",e.openRun="runmenu:open",e.run="runmenu:run",e.runAll="runmenu:run-all",e.restartAndRunAll="runmenu:restart-and-run-all",e.runAbove="runmenu:run-above",e.runBelow="runmenu:run-below",e.openTabs="tabsmenu:open",e.activateById="tabsmenu:activate-by-id",e.activatePreviouslyUsedTab="tabsmenu:activate-previously-used-tab",e.openSettings="settingsmenu:open",e.openHelp="helpmenu:open",e.getKernel="helpmenu:get-kernel",e.openFirst="mainmenu:open-first"}(y||(y={}));const f={id:g,description:"Adds and provides the application main menu.",requires:[a.v5,b.gv],optional:[r.WW,o.r,p.O],provides:i.O,activate:async(e,n,t,a,o,r)=>{const{commands:u}=e,i=t.load("jupyterlab"),p=new c.l(u);p.id="jp-MainMenu",p.addClass("jp-scrollbar-tiny"),r&&(await M.loadSettingsMenu(r,(e=>{p.addMenu(e,!1,{rank:e.rank})}),(e=>c.l.generateMenu(u,e,i)),t),p.update());const _=s.PageConfig.getOption("quitButton").toLowerCase();p.fileMenu.quitEntry="true"===_,function(e,n,t){const a=e.commands;a.addCommand(y.undo,(0,l.z)(e,n.undoers.undo,{label:t.__("Undo")},t)),a.addCommand(y.redo,(0,l.z)(e,n.undoers.redo,{label:t.__("Redo")},t)),a.addCommand(y.clearCurrent,(0,l.z)(e,n.clearers.clearCurrent,{label:t.__("Clear")},t)),a.addCommand(y.clearAll,(0,l.z)(e,n.clearers.clearAll,{label:t.__("Clear All")},t)),a.addCommand(y.goToLine,(0,l.z)(e,n.goToLiners,{label:t.__("Go to Line…")},t))}(e,p.editMenu,i),function(e,n,t,a){const o=e.commands;o.addCommand(y.closeAndCleanup,{...(0,l.z)(e,n.closeAndCleaners,{execute:"application:close",label:a.__("Close and Shut Down"),isEnabled:!0},a),isEnabled:()=>!!e.shell.currentWidget&&!!e.shell.currentWidget.title.closable}),o.addCommand(y.createConsole,(0,l.z)(e,n.consoleCreators,{label:a.__("New Console for Activity")},a)),o.addCommand(y.shutdown,{label:a.__("Shut Down"),caption:a.__("Shut down JupyterLab"),isVisible:()=>n.quitEntry,isEnabled:()=>n.quitEntry,execute:()=>(0,d.vC)({title:a.__("Shutdown confirmation"),body:a.__("Please confirm you want to shut down JupyterLab."),buttons:[d.Vq.cancelButton(),d.Vq.warnButton({label:a.__("Shut Down")})]}).then((async n=>{if(n.button.accept){const n=m.ServerConnection.makeSettings(),t=s.URLExt.join(n.baseUrl,"api/shutdown");try{await Promise.all([e.serviceManager.sessions.shutdownAll(),e.serviceManager.terminals.shutdownAll()])}catch(e){console.log(`Failed to shutdown sessions and terminals: ${e}`)}return m.ServerConnection.makeRequest(t,{method:"POST"},n).then((e=>{if(!e.ok)throw new m.ServerConnection.ResponseError(e);{const e=document.createElement("div"),n=document.createElement("p");n.textContent=a.__("You have shut down the Jupyter server. You can now close this tab.");const t=document.createElement("p");t.textContent=a.__("To use JupyterLab again, you will need to relaunch it."),e.appendChild(n),e.appendChild(t),(0,d.vC)({title:a.__("Server stopped"),body:new w.$L({node:e}),buttons:[]}),window.close()}})).catch((e=>{throw new m.ServerConnection.NetworkError(e)}))}}))}),o.addCommand(y.logout,{label:a.__("Log Out"),caption:a.__("Log out of JupyterLab"),isVisible:()=>n.quitEntry,isEnabled:()=>n.quitEntry,execute:()=>{t.navigate("/logout",{hard:!0})}})}(e,p.fileMenu,n,i),function(e,n,t){const a=e.commands;a.addCommand(y.interruptKernel,{...(0,l.z)(e,n.kernelUsers.interruptKernel,{label:t.__("Interrupt Kernel"),caption:t.__("Interrupt the kernel")},t),icon:e=>e.toolbar?h.Br:void 0}),a.addCommand(y.reconnectToKernel,(0,l.z)(e,n.kernelUsers.reconnectToKernel,{label:t.__("Reconnect to Kernel")},t)),a.addCommand(y.restartKernel,{...(0,l.z)(e,n.kernelUsers.restartKernel,{label:t.__("Restart Kernel…"),caption:t.__("Restart the kernel")},t),icon:e=>e.toolbar?h.n9:void 0}),a.addCommand(y.restartKernelAndClear,(0,l.z)(e,[n.kernelUsers.restartKernel,n.kernelUsers.clearWidget],{label:t.__("Restart Kernel and Clear…")},t)),a.addCommand(y.changeKernel,(0,l.z)(e,n.kernelUsers.changeKernel,{label:t.__("Change Kernel…")},t)),a.addCommand(y.shutdownKernel,(0,l.z)(e,n.kernelUsers.shutdownKernel,{label:t.__("Shut Down Kernel"),caption:t.__("Shut down kernel")},t)),a.addCommand(y.shutdownAllKernels,{label:t.__("Shut Down All Kernels…"),isEnabled:()=>!e.serviceManager.sessions.running().next().done,execute:()=>(0,d.vC)({title:t.__("Shut Down All?"),body:t.__("Shut down all kernels?"),buttons:[d.Vq.cancelButton({label:t.__("Dismiss")}),d.Vq.warnButton({label:t.__("Shut Down All")})]}).then((n=>{if(n.button.accept)return e.serviceManager.sessions.shutdownAll()}))})}(e,p.kernelMenu,i),function(e,n,t){const a=e.commands;a.addCommand(y.run,{...(0,l.z)(e,n.codeRunners.run,{label:t.__("Run Selected"),caption:t.__("Run Selected")},t),icon:e=>e.toolbar?h.Nv:void 0}),a.addCommand(y.runAll,(0,l.z)(e,n.codeRunners.runAll,{label:t.__("Run All"),caption:t.__("Run All")},t)),a.addCommand(y.restartAndRunAll,{...(0,l.z)(e,[n.codeRunners.restart,n.codeRunners.runAll],{label:t.__("Restart Kernel and Run All"),caption:t.__("Restart Kernel and Run All")},t),icon:e=>e.toolbar?h.N0:void 0})}(e,p.runMenu,i),function(e,n,t){const a=e.commands;a.addCommand(y.lineNumbering,(0,l.z)(e,n.editorViewers.toggleLineNumbers,{label:t.__("Show Line Numbers")},t)),a.addCommand(y.matchBrackets,(0,l.z)(e,n.editorViewers.toggleMatchBrackets,{label:t.__("Match Brackets")},t)),a.addCommand(y.wordWrap,(0,l.z)(e,n.editorViewers.toggleWordWrap,{label:t.__("Wrap Words")},t))}(e,p.viewMenu,i),function(e,n,t){e.commands.addCommand(y.getKernel,(0,l.z)(e,n.getKernel,{label:t.__("Get Kernel"),isVisible:!1},t))}(e,p.helpMenu,i),o&&function(e,n,t,a){const o=e.commands,l=[];let r;o.addCommand(y.activateById,{label:n=>{if(void 0===n.id)return a.__("Activate a widget by its `id`.");const t=n.id||"",o=(0,v.sE)(e.shell.widgets("main"),(e=>e.id===t));return o&&o.title.label||""},isToggled:n=>{const t=n.id||"";return!!e.shell.currentWidget&&e.shell.currentWidget.id===t},execute:n=>e.shell.activateById(n.id||"")});let d="";o.addCommand(y.activatePreviouslyUsedTab,{label:a.__("Activate Previously Used Tab"),isEnabled:()=>!!d,execute:()=>o.execute(y.activateById,{id:d})}),t&&e.restored.then((()=>{const a=()=>{r&&!r.isDisposed&&r.dispose(),l.length=0;let t=!1;for(const n of e.shell.widgets("main"))n.id===d&&(t=!0),l.push({command:y.activateById,args:{id:n.id}});r=n.addGroup(l,1),d=t?d:""};a(),t.layoutModified.connect((()=>{a()})),t.currentChanged.connect(((e,n)=>{const t=n.oldValue;t&&(d=t.id)}))}))}(e,p.tabsMenu,o,i);const b=e=>{p.activeMenu=e,p.openActiveMenu()};return u.addCommand(y.openEdit,{label:i.__("Open Edit Menu"),execute:()=>b(p.editMenu)}),u.addCommand(y.openFile,{label:i.__("Open File Menu"),execute:()=>b(p.fileMenu)}),u.addCommand(y.openKernel,{label:i.__("Open Kernel Menu"),execute:()=>b(p.kernelMenu)}),u.addCommand(y.openRun,{label:i.__("Open Run Menu"),execute:()=>b(p.runMenu)}),u.addCommand(y.openView,{label:i.__("Open View Menu"),execute:()=>b(p.viewMenu)}),u.addCommand(y.openSettings,{label:i.__("Open Settings Menu"),execute:()=>b(p.settingsMenu)}),u.addCommand(y.openTabs,{label:i.__("Open Tabs Menu"),execute:()=>b(p.tabsMenu)}),u.addCommand(y.openHelp,{label:i.__("Open Help Menu"),execute:()=>b(p.helpMenu)}),u.addCommand(y.openFirst,{label:i.__("Open First Menu"),execute:()=>{p.activeIndex=0,p.openActiveMenu()}}),a&&(a.addItem({command:y.shutdown,category:i.__("Main Area")}),a.addItem({command:y.logout,category:i.__("Main Area")}),a.addItem({command:y.shutdownAllKernels,category:i.__("Kernel Operations")}),a.addItem({command:y.activatePreviouslyUsedTab,category:i.__("Main Area")})),e.shell.add(p,"menu",{rank:100}),p}};var M;!function(e){async function n(e){(await(0,d.vC)({title:e.__("Information"),body:e.__("Menu customization has changed. You will need to reload JupyterLab to see the changes."),buttons:[d.Vq.cancelButton(),d.Vq.okButton({label:e.__("Reload")})]})).button.accept&&location.reload()}e.loadSettingsMenu=async function(e,t,a,o){var l;const r=o.load("jupyterlab");let d=null,s={};function i(n){var t,a;s={};const o=Object.keys(e.plugins).map((n=>{var t,a;const o=null!==(a=null===(t=e.plugins[n].schema["jupyter.lab.menus"])||void 0===t?void 0:t.main)&&void 0!==a?a:[];return s[n]=o,o})).concat([null!==(a=null===(t=n["jupyter.lab.menus"])||void 0===t?void 0:t.main)&&void 0!==a?a:[]]).reduceRight(((e,n)=>_.tC.reconcileMenus(e,n,!0)),n.properties.menus.default);n.properties.menus.default=_.tC.reconcileMenus(o,n.properties.menus.default,!0).sort(((e,n)=>{var t,a;return(null!==(t=e.rank)&&void 0!==t?t:1/0)-(null!==(a=n.rank)&&void 0!==a?a:1/0)}))}e.transform(g,{compose:e=>{var n,t,a,o;d||(d=C.JSONExt.deepCopy(e.schema),i(d));const l=null!==(a=null===(t=null===(n=d.properties)||void 0===n?void 0:n.menus)||void 0===t?void 0:t.default)&&void 0!==a?a:[],r={...e.data.user,menus:null!==(o=e.data.user.menus)&&void 0!==o?o:[]},u={...e.data.composite,menus:_.tC.reconcileMenus(l,r.menus)};return e.data={composite:u,user:r},e},fetch:e=>(d||(d=C.JSONExt.deepCopy(e.schema),i(d)),{data:e.data,id:e.id,raw:e.raw,schema:d,version:e.version})});const c=await e.load(g),m=null!==(l=C.JSONExt.deepCopy(c.composite.menus))&&void 0!==l?l:[],p=new Array;u.E.createMenus(m.filter((e=>!e.disabled)).map((e=>{var n;return{...e,items:_.tC.filterDisabledItems(null!==(n=e.items)&&void 0!==n?n:[])}})),a).forEach((e=>{p.push(e),t(e)})),c.changed.connect((()=>{var e;const t=null!==(e=c.composite.menus)&&void 0!==e?e:[];C.JSONExt.deepEqual(m,t)||n(r)})),e.pluginChanged.connect((async(o,l)=>{var d,i,c;if(l!==g){const o=null!==(d=s[l])&&void 0!==d?d:[],b=null!==(c=null===(i=e.plugins[l].schema["jupyter.lab.menus"])||void 0===i?void 0:i.main)&&void 0!==c?c:[];if(!C.JSONExt.deepEqual(o,b))if(s[l])await n(r);else{s[l]=C.JSONExt.deepCopy(b);const e=_.tC.reconcileMenus(b,m,!1,!1).filter((e=>!e.disabled)).map((e=>{var n;return{...e,items:_.tC.filterDisabledItems(null!==(n=e.items)&&void 0!==n?n:[])}}));u.E.updateMenus(p,e,a).forEach((e=>{t(e)}))}}}))}}(M||(M={}))}}]);