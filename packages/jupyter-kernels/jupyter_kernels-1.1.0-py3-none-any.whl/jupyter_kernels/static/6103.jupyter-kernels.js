"use strict";(self.webpackChunk_datalayer_jupyter_kernels=self.webpackChunk_datalayer_jupyter_kernels||[]).push([[6103],{66103:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var r,a=n(44041),o=n(2245),d=n(22290),i=n(48425),c=n(42315),s=n(47590),p=n(65267),l=n(97491),w=n(55204),m=n(39138),u=n(80882),k=n(18168);!function(e){e.markdownPreview="markdownviewer:open",e.markdownEditor="markdownviewer:edit"}(r||(r={}));const h="Markdown Preview",f={activate:function(e,t,n,a,o,c,l){const m=n.load("jupyterlab"),{commands:u,docRegistry:k}=e;t.addFactory(w.xr);const g=new d.u({namespace:"markdownviewer-widget"});let v={...s.av.defaultConfig};function y(e){Object.keys(v).forEach((t=>{var n;e.setOption(t,null!==(n=v[t])&&void 0!==n?n:null)}))}if(o){const e=e=>{v=e.composite,g.forEach((e=>{y(e.content)}))};o.load(f.id).then((t=>{t.changed.connect((()=>{e(t)})),e(t)})).catch((e=>{console.error(e.message)}))}const x=new s.n8({rendermime:t,name:h,label:m.__("Markdown Preview"),primaryFileType:k.getFileType("markdown"),fileTypes:["markdown"],defaultRendered:["markdown"]});return x.widgetCreated.connect(((e,t)=>{t.context.pathChanged.connect((()=>{g.save(t)})),y(t.content),g.add(t)})),k.addWidgetFactory(x),a&&a.restore(g,{command:"docmanager:open",args:e=>({path:e.context.path,factory:h}),name:e=>e.context.path}),u.addCommand(r.markdownPreview,{label:m.__("Markdown Preview"),execute:e=>{const t=e.path;if("string"==typeof t)return u.execute("docmanager:open",{path:t,factory:h,options:e.options})}}),u.addCommand(r.markdownEditor,{execute:()=>{const e=g.currentWidget;if(!e)return;const t=e.context.path;return u.execute("docmanager:open",{path:t,factory:"Editor",options:{mode:"split-right"}})},isVisible:()=>{const e=g.currentWidget;return e&&".md"===i.PathExt.extname(e.context.path)||!1},label:m.__("Show Markdown Editor")}),c&&c.add(new p.l(g,t.markdownParser,null!=l?l:t.sanitizer)),g},id:"@jupyterlab/markdownviewer-extension:plugin",description:"Adds markdown file viewer and provides its tracker.",provides:c.A,requires:[l.ZD,k.gv],optional:[a.L,m.O,u.wk,o.hd],autoStart:!0},g=f}}]);