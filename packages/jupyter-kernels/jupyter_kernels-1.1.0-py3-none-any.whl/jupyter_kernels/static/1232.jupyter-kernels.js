"use strict";(self.webpackChunk_datalayer_jupyter_kernels=self.webpackChunk_datalayer_jupyter_kernels||[]).push([[1232],{31232:(e,t,n)=>{n.r(t),n.d(t,{default:()=>u});var a,r=n(83243),c=n(2245),s=n(71514),o=n(29246),i=n(47415),l=n(45765),d=n(18168),h=n(75753),m=n(46931);!function(e){e.create="launcher:create"}(a||(a={}));const u={activate:function(e,t,n,r,c,o){const{commands:i,shell:d}=e,u=t.load("jupyterlab"),_=new l.E;return i.addCommand(a.create,{label:u.__("New Launcher"),icon:e=>e.toolbar?h.Ug:void 0,execute:e=>{var a,r;const o=null!==(r=null!==(a=e.cwd)&&void 0!==a?a:null==c?void 0:c.model.path)&&void 0!==r?r:"",v="launcher-"+p.id++,g=new l.r({model:_,cwd:o,callback:e=>{(0,m.sE)(d.widgets("main"),(t=>t===e))&&(d.add(e,"main",{ref:v}),g.dispose())},commands:i,translator:t});g.model=_,g.title.icon=h.C6,g.title.label=u.__("Launcher");const f=new s.k({content:g});if(f.title.closable=!!Array.from(d.widgets("main")).length,f.id=v,d.add(f,"main",{activate:e.activate,ref:e.ref}),n&&n.layoutModified.connect((()=>{f.title.closable=Array.from(n.widgets("main")).length>1}),f),c){const e=e=>{g.cwd=e.path};c.model.pathChanged.connect(e),g.disposed.connect((()=>{c.model.pathChanged.disconnect(e)}))}return f}}),n&&Promise.all([e.restored,null==c?void 0:c.model.restored]).then((()=>{n.layoutModified.connect((()=>{n.isEmpty("main")&&i.execute(a.create)}))})),r&&r.addItem({command:a.create,category:u.__("Launcher")}),n&&(n.addButtonEnabled=!0,n.addRequested.connect(((e,t)=>{var n;const r=(null===(n=t.currentTitle)||void 0===n?void 0:n.owner.id)||t.titles[t.titles.length-1].owner.id;return i.execute(a.create,{ref:r})}))),_},id:"@jupyterlab/launcher-extension:plugin",description:"Provides the launcher tab service.",requires:[d.gv],optional:[r.r,c.WW,o.iH,o.Fz],provides:i.B,autoStart:!0};var p;!function(e){e.id=0}(p||(p={}))},45765:(e,t,n)=>{n.d(t,{E:()=>p,r:()=>_});var a,r=n(71204),c=n(18168),s=n(55616),o=n(39187),i=n(64163),l=n(46931),d=n(16781),h=n(41835),m=n(92279),u=n(56769);class p extends s.I_{constructor(){super(...arguments),this.itemsList=[]}add(e){const t=a.createItem(e);return this.itemsList.push(t),this.stateChanged.emit(void 0),new d.DisposableDelegate((()=>{l.RO.removeFirstOf(this.itemsList,t),this.stateChanged.emit(void 0)}))}items(){return this.itemsList[Symbol.iterator]()}}class _ extends s.UB{constructor(e){super(e.model),this._pending=!1,this._cwd="",this._cwd=e.cwd,this.translator=e.translator||c.Sr,this._trans=this.translator.load("jupyterlab"),this._callback=e.callback,this._commands=e.commands,this.addClass("jp-Launcher")}get cwd(){return this._cwd}set cwd(e){this._cwd=e,this.update()}get pending(){return this._pending}set pending(e){this._pending=e}render(){if(!this.model)return null;const e=[this._trans.__("Notebook"),this._trans.__("Console"),this._trans.__("Other")],t=[this._trans.__("Notebook"),this._trans.__("Console")],n=Object.create(null);for(const e of this.model.items()){const t=e.category||this._trans.__("Other");t in n||(n[t]=[]),n[t].push(e)}for(const e in n)n[e]=n[e].sort(((e,t)=>a.sortCmp(e,t,this._cwd,this._commands)));const c=[];let s;const d=[];for(const t of e)d.push(t);for(const t in n)-1===e.indexOf(t)&&d.push(t);return d.forEach((e=>{if(!n[e])return;const d=n[e][0],h={...d.args,cwd:this.cwd},p=t.indexOf(e)>-1,_=this._commands.iconClass(d.command,h),v=this._commands.icon(d.command,h);e in n&&(s=u.createElement("div",{className:"jp-Launcher-section",key:e},u.createElement("div",{className:"jp-Launcher-sectionHeader"},u.createElement(o.zZ.resolveReact,{icon:v,iconClass:(0,i.Sh)(_,"jp-Icon-cover"),stylesheet:"launcherSection","aria-hidden":"true"}),u.createElement("h2",{className:"jp-Launcher-sectionTitle"},e)),u.createElement("div",{className:"jp-Launcher-cardContainer"},Array.from((0,l.UI)(n[e],(e=>function(e,t,n,c,s,l){const d=t.command,h={...t.args,cwd:n.cwd},p=c.caption(d,h),_=c.label(d,h),v=e?_:p||_,g=()=>{!0!==n.pending&&(n.pending=!0,c.execute(d,{...t.args,cwd:n.cwd}).then((e=>{n.pending=!1,e instanceof m.$L&&l(e)})).catch((e=>{console.error(e),n.pending=!1,(0,r.UW)(s._p("Error","Launcher Error"),e)})))},f=c.iconClass(d,h),w=c.icon(d,h);return u.createElement("div",{className:"jp-LauncherCard",title:v,onClick:g,onKeyPress:e=>{"Enter"===e.key&&g()},tabIndex:0,"data-category":t.category||s.__("Other"),key:a.keyProperty.get(t)},u.createElement("div",{className:"jp-LauncherCard-icon"},e?t.kernelIconUrl?u.createElement("img",{src:t.kernelIconUrl,className:"jp-Launcher-kernelIcon",alt:v}):u.createElement("div",{className:"jp-LauncherCard-noKernelIcon"},_[0].toUpperCase()):u.createElement(o.zZ.resolveReact,{icon:w,iconClass:(0,i.Sh)(f,"jp-Icon-cover"),stylesheet:"launcherCard"})),u.createElement("div",{className:"jp-LauncherCard-label",title:v},u.createElement("p",null,_)))}(p,e,this,this._commands,this._trans,this._callback)))))),c.push(s))})),u.createElement("div",{className:"jp-Launcher-body"},u.createElement("div",{className:"jp-Launcher-content"},u.createElement("div",{className:"jp-Launcher-cwd"},u.createElement("h3",null,this.cwd)),c))}}!function(e){let t=0;e.keyProperty=new h.AttachedProperty({name:"key",create:()=>t++}),e.createItem=function(e){return{...e,category:e.category||"",rank:void 0!==e.rank?e.rank:1/0}},e.sortCmp=function(e,t,n,a){const r=e.rank,c=t.rank;if(r!==c&&void 0!==r&&void 0!==c)return r<c?-1:1;const s=a.label(e.command,{...e.args,cwd:n}),o=a.label(t.command,{...t.args,cwd:n});return s.localeCompare(o)}}(a||(a={}))}}]);