"use strict";(self.webpackChunk_datalayer_jupyter_kernels=self.webpackChunk_datalayer_jupyter_kernels||[]).push([[8841],{58841:(e,n,t)=>{t.r(n),t.d(n,{default:()=>E});var o=t(99593),i=t(58280),r=t(32663),l=t(76437),a=t(26895),c=t(8798),s=t(13),d=t(39138),m=t(75753),p=t(56276),u=t(18168),v=t(63070),f=t(56769);const b="availableProviders";function h(e){const{schema:n}=e,t=n.title,o=n.description,i=e.formContext.settings,r=i.get(b).user,l={...n.default};if(r)for(const e of Object.keys(l))l[e]=e in r?r[e]:-1;const[a,c]=(0,f.useState)(l);return f.createElement("div",null,f.createElement("fieldset",null,f.createElement("legend",null,t),f.createElement("p",{className:"field-description"},o),Object.keys(l).map((e=>f.createElement("div",{key:e,className:"form-group small-field"},f.createElement("div",null,f.createElement("h3",null," ",e),f.createElement("div",{className:"inputFieldWrapper"},f.createElement("input",{className:"form-control",type:"number",value:a[e],onChange:n=>{((e,n)=>{const t={...a,[e]:parseInt(n.target.value)};i.set(b,t).catch(console.error),c(t)})(e,n)}}))))))))}const y="@jupyterlab/completer-extension:manager",_="@jupyterlab/completer-extension:inline-completer";var g;!function(e){e.nextInline="inline-completer:next",e.previousInline="inline-completer:previous",e.acceptInline="inline-completer:accept",e.invokeInline="inline-completer:invoke"}(g||(g={}));const I={id:"@jupyterlab/completer-extension:base-service",description:"Adds context and kernel completion providers.",requires:[i.pl],autoStart:!0,activate:(e,n)=>{n.registerProvider(new r._),n.registerProvider(new l.D)}},x={id:"@jupyterlab/completer-extension:inline-history",description:"Adds inline completion provider suggesting code from execution history.",requires:[i.pl],optional:[u.gv],autoStart:!0,activate:(e,n,t)=>{n.registerInlineProvider(new a.B({translator:null!=t?t:u.Sr}))}},k={id:"@jupyterlab/completer-extension:inline-completer-factory",description:"Provides a factory for inline completer.",provides:i.zp,optional:[u.gv],autoStart:!0,activate:(e,n)=>{const t=(n||u.Sr).load("jupyterlab");return{factory:n=>{const i=new c.T({...n,trans:t}),r=n=>{const t=e.commands.keyBindings.find((e=>e.command===n)),o=t?v.H.formatKeystroke(t.keys):"";return o?`${o}`:""};return i.toolbar.addItem("previous-inline-completion",new o.oR({commands:e.commands,icon:m.Co,id:g.previousInline,label:r(g.previousInline),caption:t.__("Previous")})),i.toolbar.addItem("next-inline-completion",new o.oR({commands:e.commands,icon:m.dz,id:g.nextInline,label:r(g.nextInline),caption:t.__("Next")})),i.toolbar.addItem("accept-inline-completion",new o.oR({commands:e.commands,icon:m.eQ,id:g.acceptInline,label:r(g.acceptInline),caption:t.__("Accept")})),i}}}},C={id:_,description:"Provides a factory for inline completer.",requires:[i.pl,i.zp,d.O],optional:[u.gv],autoStart:!0,activate:(e,n,t,o,i)=>{n.setInlineCompleterFactory(t);const r=(i||u.Sr).load("jupyterlab"),l=()=>!!e.shell.currentWidget&&!!n.inline;e.commands.addCommand(g.nextInline,{execute:()=>{var t;null===(t=n.inline)||void 0===t||t.cycle(e.shell.currentWidget.id,"next")},label:r.__("Next Inline Completion"),isEnabled:l}),e.commands.addCommand(g.previousInline,{execute:()=>{var t;null===(t=n.inline)||void 0===t||t.cycle(e.shell.currentWidget.id,"previous")},label:r.__("Previous Inline Completion"),isEnabled:l}),e.commands.addCommand(g.acceptInline,{execute:()=>{var t;null===(t=n.inline)||void 0===t||t.accept(e.shell.currentWidget.id)},label:r.__("Accept Inline Completion"),isEnabled:l}),e.commands.addCommand(g.invokeInline,{execute:()=>{var t;null===(t=n.inline)||void 0===t||t.invoke(e.shell.currentWidget.id)},label:r.__("Invoke Inline Completer"),isEnabled:l});const a=e=>{var t;null===(t=n.inline)||void 0===t||t.configure(e.composite)};e.restored.then((()=>{var e;const t=null!==(e=n.inlineProviders)&&void 0!==e?e:[],i=e=>{var n,t;return{enabled:!0,timeout:5e3,debouncerDelay:0,...null!==(t=null===(n=e.schema)||void 0===n?void 0:n.default)&&void 0!==t?t:{}}};o.transform(_,{compose:e=>{var n,o;const r=null!==(n=e.data.composite.providers)&&void 0!==n?n:{};for(const e of t){const n=i(e);r[e.identifier]={...n,...null!==(o=r[e.identifier])&&void 0!==o?o:{}}}return e.data.composite.providers=r,e},fetch:e=>{var n,o;const l=e.schema.properties,a={};for(const e of t)a[e.identifier]={title:r.__("%1 provider",e.name),properties:{...null!==(o=null===(n=e.schema)||void 0===n?void 0:n.properties)&&void 0!==o?o:{},timeout:{title:r.__("Timeout"),description:r.__("Timeout for %1 provider (in milliseconds).",e.name),type:"number",minimum:0},debouncerDelay:{title:r.__("Debouncer delay"),minimum:0,description:r.__("Time since the last key press to wait before requesting completions from %1 provider (in milliseconds).",e.name),type:"number"},enabled:{title:r.__("Enabled"),description:r.__("Whether to fetch completions %1 provider.",e.name),type:"boolean"}},default:i(e),type:"object"};return l.providers.properties=a,e}}),o.load(_).then((e=>{a(e),e.changed.connect((e=>{a(e)}))})).catch(console.error)})).catch(console.error)}},P={id:y,description:"Provides the completion provider manager.",requires:[d.O],optional:[p.C],provides:i.pl,autoStart:!0,activate:(e,n,t)=>{const o="availableProviders",i=new s.S,r=(e,n)=>{var t;const r=e.get(o),l=e.get("providerTimeout"),a=e.get("showDocumentationPanel"),c=e.get("autoCompletion");i.setTimeout(l.composite),i.setShowDocumentationPanel(a.composite),i.setContinuousHinting(c.composite);const s=null!==(t=r.user)&&void 0!==t?t:r.composite,d=Object.entries(null!=s?s:{}).filter((e=>e[1]>=0&&n.includes(e[0]))).sort((([,e],[,n])=>n-e)).map((e=>e[0]));i.activateProvider(d)};if(e.restored.then((()=>{const e=[...i.getProviders().entries()],t=e.map((([e,n])=>e));n.transform(y,{fetch:n=>{const t=n.schema.properties,i={};return e.forEach((([e,n],t)=>{var o;i[e]=null!==(o=n.rank)&&void 0!==o?o:10*(t+1)})),t[o].default=i,n}}),n.load(y).then((e=>{r(e,t),e.changed.connect((e=>{r(e,t)}))})).catch(console.error)})).catch(console.error),t){const e={fieldRenderer:e=>h(e)};t.addRenderer(`${y}.availableProviders`,e)}return i}},E=[P,I,x,k,C]}}]);