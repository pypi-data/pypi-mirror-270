"use strict";(self.webpackChunk_datalayer_jupyter_kernels=self.webpackChunk_datalayer_jupyter_kernels||[]).push([[5286],{5286:(e,t,a)=>{a.r(t),a.d(t,{default:()=>De,toggleHeader:()=>Te});var n=a(44041),o=a(57355),s=a(27990),r=a(2245),i=a(15254),l=a(71204),c=a(80017),d=a(71514),u=a(99190),p=a(35884),m=a(48425),h=a(39138),g=a(55466),b=a(18168),f=a(75753),v=a(47963),y=a(16781),_=a(35109),k=a(53950),w=a(88362);const C="help:open",S="https://jupyterlab.readthedocs.io/en/stable/privacy_policies.html";async function j(e,t={}){const a=w.ServerConnection.makeSettings(),n=m.URLExt.join(a.baseUrl,e);let o;try{o=await w.ServerConnection.makeRequest(n,t,a)}catch(e){throw new w.ServerConnection.NetworkError(e)}const s=await o.json();if(!o.ok)throw new w.ServerConnection.ResponseError(o,s.message);return s}const E={id:"@jupyterlab/apputils-extension:announcements",description:"Add the announcement feature. It will fetch news on the internet and check for application updates.",autoStart:!0,optional:[h.O,b.gv],activate:(e,t,a)=>{var n;const o=E.id.replace(/[^\w]/g,"");Promise.all([e.restored,null!==(n=null==t?void 0:t.load("@jupyterlab/apputils-extension:notification"))&&void 0!==n?n:Promise.resolve(null),w.ConfigSection.create({name:o})]).then((async([t,n,o])=>{const s=(null!=a?a:b.Sr).load("jupyterlab");if(k.P.manager.changed.connect(((e,t)=>{var a;if("removed"!==t.type)return;const{id:n,tags:s}=null!==(a=t.notification.options.data)&&void 0!==a?a:{};if((null!=s?s:[]).some((e=>["news","update"].includes(e)))&&n){const e={};e[n]={seen:!0,dismissed:!0},o.update(e).catch((e=>{console.error(`Failed to update the announcements config:\n${e}`)}))}})),"none"===(null==n?void 0:n.get("fetchNews").composite)){const t=k.P.emit(s.__("Would you like to receive official Jupyter news?\nPlease read the privacy policy."),"default",{autoClose:!1,actions:[{label:s.__("Open privacy policy"),caption:S,callback:t=>{t.preventDefault(),e.commands.hasCommand(C)?e.commands.execute(C,{text:s.__("Privacy policies"),url:S}):window.open(S,"_blank","noreferrer")},displayType:"link"},{label:s.__("Yes"),callback:()=>{k.P.dismiss(t),o.update({}).then((()=>r())).catch((e=>{console.error(`Failed to get the news:\n${e}`)})),null==n||n.set("fetchNews","true").catch((e=>{console.error(`Failed to save setting 'fetchNews':\n${e}`)}))}},{label:s.__("No"),callback:()=>{k.P.dismiss(t),null==n||n.set("fetchNews","false").catch((e=>{console.error(`Failed to save setting 'fetchNews':\n${e}`)}))}}]})}else await r();async function r(){var e,t,a,r;if("true"===(null!==(e=null==n?void 0:n.get("fetchNews").composite)&&void 0!==e?e:"false"))try{const e=await j("/lab/api/news");for(const{link:a,message:n,type:r,options:i}of e.news){const e=i.data.id,l=null!==(t=o.data[e])&&void 0!==t?t:{seen:!1,dismissed:!1};if(!l.dismissed){if(i.actions=[{label:s.__("Hide"),caption:s.__("Never show this notification again."),callback:()=>{const t={};t[e]={seen:!0,dismissed:!0},o.update(t).catch((e=>{console.error(`Failed to update the announcements config:\n${e}`)}))}}],2===(null==a?void 0:a.length)&&i.actions.push({label:a[0],caption:a[1],callback:()=>{window.open(a[1],"_blank","noreferrer")},displayType:"link"}),!l.seen){i.autoClose=5e3;const t={};t[e]={seen:!0},o.update(t).catch((e=>{console.error(`Failed to update the announcements config:\n${e}`)}))}k.P.emit(n,r,i)}}}catch(e){console.log("Failed to get the announcements.",e)}if(null===(a=null==n?void 0:n.get("checkForUpdates").composite)||void 0===a||a){const e=await j("/lab/api/update");if(e.notification){const{link:t,message:a,type:i,options:l}=e.notification,c=l.data.id,d=null!==(r=o.data[c])&&void 0!==r?r:{seen:!1,dismissed:!1};if(!d.dismissed){let e;if(l.actions=[{label:s.__("Do not check for updates"),caption:s.__("If pressed, you will not be prompted if a new JupyterLab version is found."),callback:()=>{null==n||n.set("checkForUpdates",!1).then((()=>{k.P.dismiss(e)})).catch((e=>{console.error("Failed to set the `checkForUpdates` setting.",e)}))}}],2===(null==t?void 0:t.length)&&l.actions.push({label:t[0],caption:t[1],callback:()=>{window.open(t[1],"_blank","noreferrer")},displayType:"link"}),!d.seen){l.autoClose=5e3;const e={};e[c]={seen:!0},o.update(e).catch((e=>{console.error(`Failed to update the announcements config:\n${e}`)}))}e=k.P.emit(a,i,l)}}}}}))}};var x,T=a(55616),P=a(68471),N=a(99593),F=a(50572),I=a(92279),D=a(56769),O=a(60800);function $(e){const{manager:t,onClose:a,trans:n}=e,[o,s]=D.useState([]),[r,i]=D.useState(null);return D.useEffect((()=>{async function e(){s(await Promise.all(t.notifications.map((async e=>Object.freeze({...e})))))}return o.length!==t.count&&e(),t.changed.connect(e),()=>{t.changed.disconnect(e)}}),[t]),D.useEffect((()=>{W.getIcons().then((e=>{i(e)})).catch((e=>{console.error(`Failed to get react-toastify icons:\n${e}`)}))}),[]),D.createElement(T.lA,{signal:t.changed},(()=>D.createElement(D.Fragment,null,D.createElement("h2",{className:"jp-Notification-Header jp-Toolbar"},D.createElement("span",{className:"jp-Toolbar-item"},t.count>0?n._n("%1 notification","%1 notifications",t.count):n.__("No notifications")),D.createElement("span",{className:"jp-Toolbar-item jp-Toolbar-spacer"}),D.createElement(N.Is,{actualOnClick:!0,onClick:()=>{t.dismiss()},icon:f.ap,tooltip:n.__("Dismiss all notifications"),enabled:t.count>0}),D.createElement(N.Is,{actualOnClick:!0,onClick:a,icon:f.UF,tooltip:n.__("Hide notifications")})),D.createElement("ol",{className:"jp-Notification-List"},o.map((e=>{var a;const{id:o,message:s,type:i,options:l}=e,c="in-progress"===i?"default":i,d=()=>{t.dismiss(o)},u="default"===i?null:"in-progress"===i?null!==(a=null==r?void 0:r.spinner)&&void 0!==a?a:null:r&&r[i];return D.createElement("li",{className:"jp-Notification-List-Item",key:e.id,onClick:e=>{e.stopPropagation()}},D.createElement("div",{className:`Toastify__toast Toastify__toast-theme--light Toastify__toast--${c} jp-Notification-Toast-${c}`},D.createElement("div",{className:"Toastify__toast-body"},u&&D.createElement("div",{className:"Toastify__toast-icon"},u({theme:"light",type:c})),D.createElement("div",null,W.createContent(s,d,l.actions))),D.createElement(W.CloseButton,{close:d,closeIcon:f.ap.react,title:n.__("Dismiss notification"),closeIconMargin:!0})))}))))))}!function(e){e.dismiss="apputils:dismiss-notification",e.display="apputils:display-notifications",e.notify="apputils:notify",e.update="apputils:update-notification"}(x||(x={}));class A extends T.I_{constructor(e){super(),this.manager=e,this._highlight=!1,this._listOpened=!1,this._doNotDisturbMode=!1,this._count=e.count,this.manager.changed.connect(this.onNotificationChanged,this)}get count(){return this._count}get doNotDisturbMode(){return this._doNotDisturbMode}set doNotDisturbMode(e){this._doNotDisturbMode=e}get highlight(){return this._highlight}get listOpened(){return this._listOpened}set listOpened(e){this._listOpened=e,(this._listOpened||this._highlight)&&(this._highlight=!1),this.stateChanged.emit()}onNotificationChanged(e,t){this._count=this.manager.count;const{autoClose:a}=t.notification.options,n=this.doNotDisturbMode||"number"==typeof a&&a<=0;!this._listOpened&&"removed"!==t.type&&n&&(this._highlight=!0),this.stateChanged.emit()}}function z(e){return D.createElement(P.MN,{spacing:4,onClick:()=>{e.onClick()},title:e.count>0?e.trans._n("%1 notification","%1 notifications",e.count):e.trans.__("No notifications")},D.createElement(P.Jy,{className:"jp-Notification-Status-Text",source:`${e.count}`}),D.createElement(f.tz.react,{top:"2px",stylesheet:"statusBar"}))}const L={id:"@jupyterlab/apputils-extension:notification",description:"Add the notification center and its status indicator.",autoStart:!0,optional:[P.WQ,h.O,b.gv],activate:(e,t,a,n)=>{W.translator=null!=n?n:b.Sr;const o=W.translator.load("jupyterlab"),s=new A(k.P.manager);s.doNotDisturbMode=!1,a&&Promise.all([a.load(L.id),e.restored]).then((([e])=>{const t=()=>{s.doNotDisturbMode=e.get("doNotDisturbMode").composite};t(),e.changed.connect(t)})),e.commands.addCommand(x.notify,{label:o.__("Emit a notification"),caption:o.__("Notification is described by {message: string, type?: string, options?: {autoClose?: number | false, actions: {label: string, commandId: string, args?: ReadOnlyJSONObject, caption?: string, className?: string}[], data?: ReadOnlyJSONValue}}."),execute:t=>{var a;const{message:n,type:o}=t,s=null!==(a=t.options)&&void 0!==a?a:{};return k.P.manager.notify(n,null!=o?o:"default",{...s,actions:s.actions?s.actions.map((t=>({...t,callback:()=>{e.commands.execute(t.commandId,t.args).catch((e=>{console.error(`Failed to executed '${t.commandId}':\n${e}`)}))}}))):null})}}),e.commands.addCommand(x.update,{label:o.__("Update a notification"),caption:o.__("Notification is described by {id: string, message: string, type?: string, options?: {autoClose?: number | false, actions: {label: string, commandId: string, args?: ReadOnlyJSONObject, caption?: string, className?: string}[], data?: ReadOnlyJSONValue}}."),execute:t=>{const{id:a,message:n,type:o,...s}=t;return k.P.manager.update({id:a,message:n,type:null!=o?o:"default",...s,actions:s.actions?s.actions.map((t=>({...t,callback:()=>{e.commands.execute(t.commandId,t.args).catch((e=>{console.error(`Failed to executed '${t.commandId}':\n${e}`)}))}}))):null})}}),e.commands.addCommand(x.dismiss,{label:o.__("Dismiss a notification"),execute:e=>{const{id:t}=e;k.P.manager.dismiss(t)}});let r=null;s.listOpened=!1;const i=T.zz.create(D.createElement($,{manager:k.P.manager,onClose:()=>{null==r||r.dispose()},trans:o}));i.addClass("jp-Notification-Center"),k.P.manager.changed.connect((async function(e,t){var a;if(s.doNotDisturbMode||null!==r&&!r.isDisposed)return;const{message:n,type:o,options:i,id:l}=t.notification;if(!("number"==typeof i.autoClose&&i.autoClose<=0))switch(t.type){case"added":await W.createToast(l,n,o,i);break;case"updated":{const t=await W.toast(),s=i.actions,r=null!==(a=i.autoClose)&&void 0!==a?a:!(s&&s.length>0)&&null;if(t.isActive(l)){const a=()=>{t.dismiss(l),e.dismiss(l)};t.update(l,{type:"in-progress"===o?null:o,isLoading:"in-progress"===o,autoClose:r,render:W.createContent(n,a,i.actions)})}else await W.createToast(l,n,o,i)}break;case"removed":await W.toast().then((e=>{e.dismiss(l)}))}}));const l=()=>{r?(r.dispose(),r=null):(r=(0,P.U)({body:i,anchor:c,align:"right",hasDynamicSize:!0,startHidden:!0}),W.toast().then((e=>{e.dismiss()})).catch((e=>{console.error(`Failed to dismiss all toasts:\n${e}`)})).finally((()=>{null==r||r.launch(),i.node.focus(),null==r||r.disposed.connect((()=>{s.listOpened=!1,r=null}))}))),s.listOpened=null!==r};e.commands.addCommand(x.display,{label:o.__("Show Notifications"),execute:l});const c=T.zz.create(D.createElement(T.lA,{signal:s.stateChanged},(()=>(s.highlight||r&&!r.isDisposed?c.addClass("jp-mod-selected"):c.removeClass("jp-mod-selected"),D.createElement(z,{count:s.count,highlight:s.highlight,trans:o,onClick:l})))));c.addClass("jp-Notification-Status"),t?t.registerStatusItem(L.id,{item:c,align:"right",rank:-1}):(c.node.style.position="fixed",c.node.style.bottom="0",c.node.style.right="10px",I.$L.attach(c,document.body),c.show())}};var W;!function(e){e.translator=b.Sr;let t=null;function n(e){var t;return D.createElement("button",{className:"jp-Button jp-mod-minimal jp-Notification-Toast-Close"+(e.closeIconMargin?" jp-Notification-Toast-Close-Margin":""),title:null!==(t=e.title)&&void 0!==t?t:"",onClick:e.close},D.createElement(e.closeIcon,{className:"jp-icon-hover",tag:"span"}))}function o(t){const a=e.translator.load("jupyterlab");return D.createElement(n,{close:t.closeToast,closeIcon:f.UF.react,title:a.__("Hide notification")})}e.CloseButton=n;let s=null;async function r(){if(null===s?s=new v.PromiseDelegate:await s.promise,null===t){t=await Promise.resolve().then(a.bind(a,55678));const e=document.body.appendChild(document.createElement("div"));e.id="react-toastify-container",(0,O.s)(e).render(D.createElement(t.ToastContainer,{draggable:!1,closeOnClick:!1,hideProgressBar:!0,newestOnTop:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,position:"bottom-right",className:"jp-toastContainer",transition:t.Slide,closeButton:o})),s.resolve()}return t.toast}e.toast=r,e.getIcons=async function(){return null===t&&await r(),t.Icons};const i={accent:"jp-mod-accept",link:"jp-mod-link",warn:"jp-mod-warn",default:""};function l({action:e,closeToast:t}){var a,n;const o=["jp-toast-button",i[null!==(a=e.displayType)&&void 0!==a?a:"default"]].join(" ");return D.createElement(F.z,{title:null!==(n=e.caption)&&void 0!==n?n:e.label,className:o,onClick:a=>{e.callback(a),a.defaultPrevented||t()},small:!0},e.label)}function c(e,t,a){var n;const o=e.length>140?e.slice(0,140)+"…":e;return D.createElement(D.Fragment,null,D.createElement("div",{className:"jp-toast-message"},o.split("\n").map(((e,t)=>D.createElement(D.Fragment,{key:`part-${t}`},t>0?D.createElement("br",null):null,e)))),(null!==(n=null==a?void 0:a.length)&&void 0!==n?n:0)>0&&D.createElement("div",{className:"jp-toast-buttonBar"},D.createElement("div",{className:"jp-toast-spacer"}),a.map(((e,a)=>D.createElement(l,{key:"button-"+a,action:e,closeToast:t})))))}e.createContent=c,e.createToast=async function(e,t,a,n={}){const{actions:o,autoClose:s,data:i}=n;return(await r())((({closeToast:a})=>c(t,(()=>{a&&a(),k.P.manager.dismiss(e)}),o)),{autoClose:null!=s?s:!(o&&o.length>0)&&void 0,data:i,className:`jp-Notification-Toast-${a}`,toastId:e,type:"in-progress"===a?null:a,isLoading:"in-progress"===a})}}(W||(W={}));var M,R,U=a(44957),H=a(98668),q=a(46931),B=a(63070);!function(e){e.activate="apputils:activate-command-palette"}(M||(M={}));class V{constructor(e,t){this.translator=t||b.Sr;const a=this.translator.load("jupyterlab");this._palette=e,this._palette.title.label="",this._palette.title.caption=a.__("Command Palette")}set placeholder(e){this._palette.inputNode.placeholder=e}get placeholder(){return this._palette.inputNode.placeholder}activate(){this._palette.activate()}addItem(e){const t=this._palette.addItem(e);return new y.DisposableDelegate((()=>{this._palette.removeItem(t)}))}}!function(e){e.activate=function(t,a,n){const{commands:o,shell:s}=t,r=a.load("jupyterlab"),i=R.createPalette(t,a),l=new U.E({commandPalette:i});let c=!1;if(i.node.setAttribute("role","region"),i.node.setAttribute("aria-label",r.__("Command Palette Section")),s.add(i,"left",{rank:300,type:"Command Palette"}),n){const e=n.load("@jupyterlab/apputils-extension:palette"),a=e=>{const t=e.get("modal").composite;c&&!t?(i.parent=null,l.detach(),s.add(i,"left",{rank:300,type:"Command Palette"})):!c&&t&&(i.parent=null,l.palette=i,i.show(),l.attach()),c=t};Promise.all([e,t.restored]).then((([e])=>{a(e),e.changed.connect((e=>{a(e)}))})).catch((e=>{console.error(e.message)}))}const d=()=>{const e=(0,q.sE)(t.commands.keyBindings,(e=>e.command===M.activate));if(e){const t=e.keys.map(B.H.formatKeystroke).join(", ");i.title.caption=r.__("Commands (%1)",t)}else i.title.caption=r.__("Commands")};return d(),t.commands.keyBindingChanged.connect((()=>{d()})),o.addCommand(M.activate,{execute:()=>{c?l.activate():s.activateById(i.id)},label:r.__("Activate Command Palette")}),i.inputNode.placeholder=r.__("SEARCH"),new e(i,a)},e.restore=function(e,t,a){const n=R.createPalette(e,a);t.add(n,"command-palette")}}(V||(V={})),function(e){let t;e.createPalette=function(e,a){if(!t){t=new I.f$({commands:e.commands,renderer:H.Y.defaultRenderer}),t.id="command-palette",t.title.icon=f.Sp;const n=a.load("jupyterlab");t.title.label=n.__("Commands")}return t}}(R||(R={}));var J=a(38522);class K extends g.DataConnector{constructor(e){super(),this._throttlers=Object.create(null),this._connector=e}fetch(e){const t=this._throttlers;return e in t||(t[e]=new _.Throttler((()=>this._connector.fetch(e)),100)),t[e].invoke()}async list(e="all"){const{isDisabled:t}=m.PageConfig.Extension,{ids:a,values:n}=await this._connector.list("ids"===e?"ids":void 0);return"all"===e?{ids:a,values:n}:"ids"===e?{ids:a}:{ids:a.filter((e=>!t(e))),values:n.filter((({id:e})=>!t(e)))}}async save(e,t){await this._connector.save(e,t)}}const Q={id:"@jupyterlab/apputils-extension:settings",description:"Provides the setting registry.",activate:async e=>{const{isDisabled:t}=m.PageConfig.Extension,a=new K(e.serviceManager.settings),n=new J.tC({connector:a,plugins:(await a.list("active")).values.filter((t=>e.hasPlugin(t.id)))});return e.restored.then((async()=>{(await a.list("ids")).ids.forEach((async a=>{if(e.hasPlugin(a)&&!t(a)&&!(a in n.plugins))try{await n.load(a)}catch(t){console.warn(`Settings failed to load for (${a})`,t),e.isPluginActivated(a)||console.warn(`If 'jupyter.lab.transform=true' in the plugin schema, this may happen if {autoStart: false} in (${a}) or if it is one of the deferredExtensions in page config.`)}}))})),n},autoStart:!0,provides:h.O};var Y=a(83243),Z=a(72860),G=a(53607);const X={id:"@jupyterlab/apputils-extension:kernel-status",description:"Provides the kernel status indicator model.",autoStart:!0,requires:[P.WQ],provides:r.hz,optional:[r.oj,b.gv,Y.r],activate:(e,t,a,n,o)=>{const s=null!=n?n:b.Sr,r=null!=a?a:new u.H({translator:s}),i=async()=>{l.model.sessionContext&&await r.selectKernel(l.model.sessionContext)},l=new Z.$({onClick:i,onKeyDown:async e=>{if("Enter"===e.key||"Spacebar"===e.key||" "===e.key)return e.preventDefault(),e.stopPropagation(),i()}},s),c=new Set;function d(e,t){var a;const{oldValue:n,newValue:o}=t;n&&n.title.changed.disconnect(p),l.model.sessionContext=null!==(a=[...c].map((e=>e(t.newValue))).filter((e=>null!==e))[0])&&void 0!==a?a:null,o&&l.model.sessionContext&&(p(o.title),o.title.changed.connect(p))}const p=e=>{l.model.activityName=e.label};return o&&o.currentChanged.connect(d),t.registerStatusItem(X.id,{priority:1,item:l,align:"left",rank:1,isActive:()=>null!==l.model.sessionContext}),{addSessionProvider:t=>{c.add(t),e.shell.currentWidget&&d(e.shell,{newValue:e.shell.currentWidget,oldValue:null})}}}},ee={id:"@jupyterlab/apputils-extension:running-sessions-status",description:"Add the running sessions and terminals status bar item.",autoStart:!0,requires:[P.WQ,b.gv],activate:(e,t,a)=>{const n=new G.b({onClick:()=>e.shell.activateById("jp-running-sessions"),onKeyDown:t=>{"Enter"!==t.key&&"Spacebar"!==t.key&&" "!==t.key||(t.preventDefault(),t.stopPropagation(),e.shell.activateById("jp-running-sessions"))},serviceManager:e.serviceManager,translator:a});n.model.sessions=Array.from(e.serviceManager.sessions.running()).length,n.model.terminals=Array.from(e.serviceManager.terminals.running()).length,t.registerStatusItem(ee.id,{item:n,align:"left",rank:0})}};var te=a(14388),ae=a(43043),ne=a(93379),oe=a.n(ne),se=a(4201);oe()(se.Z,{insert:"head",singleton:!1});const re=se.Z.locals||{};var ie;!function(e){e.changeTheme="apputils:change-theme",e.changePreferredLightTheme="apputils:change-light-theme",e.changePreferredDarkTheme="apputils:change-dark-theme",e.toggleAdaptiveTheme="apputils:adaptive-theme",e.themeScrollbars="apputils:theme-scrollbars",e.changeFont="apputils:change-font",e.incrFontSize="apputils:incr-font-size",e.decrFontSize="apputils:decr-font-size"}(ie||(ie={}));const le={id:"@jupyterlab/apputils-extension:themes",description:"Provides the theme manager.",requires:[h.O,o.T.IPaths,b.gv],optional:[r.JV],activate:(e,t,a,n,o)=>{const s=n.load("jupyterlab"),r=e.shell,i=e.commands,l=m.URLExt.join(m.PageConfig.getBaseUrl(),a.urls.themes),c=le.id,d=new te.V({key:c,host:r,settings:t,splash:null!=o?o:void 0,url:l});let u,p=null;return d.themeChanged.connect(((e,t)=>{u=t.newValue,document.body.dataset.jpThemeLight=String(d.isLight(u)),document.body.dataset.jpThemeName=u,document.body.dataset.jpThemeScrollbars!==String(d.themeScrollbars(u))&&(document.body.dataset.jpThemeScrollbars=String(d.themeScrollbars(u)),d.themeScrollbars(u)?(p||(p=function(e){const t=document.createElement("style");return t.setAttribute("type","text/css"),t.appendChild(document.createTextNode(e)),t}(re)),p.parentElement||document.body.appendChild(p)):p&&p.parentElement&&p.parentElement.removeChild(p)),i.notifyCommandChanged(ie.changeTheme)})),i.addCommand(ie.changeTheme,{label:e=>{if(void 0===e.theme)return s.__("Switch to the provided `theme`.");const t=e.theme,a=d.getDisplayName(t);return e.isPalette?s.__("Use Theme: %1",a):a},isToggled:e=>e.theme===u,execute:e=>{const t=e.theme;if(t!==d.theme)return d.isToggledAdaptiveTheme()?d.toggleAdaptiveTheme():d.setTheme(t)}}),i.addCommand(ie.changePreferredLightTheme,{label:e=>{if(void 0===e.theme)return s.__("Switch to the provided light `theme`.");const t=e.theme,a=d.getDisplayName(t);return e.isPalette?s.__("Set Preferred Light Theme: %1",a):a},isToggled:e=>e.theme===d.preferredLightTheme,execute:e=>{const t=e.theme;if(t!==d.preferredLightTheme)return d.setPreferredLightTheme(t)}}),i.addCommand(ie.changePreferredDarkTheme,{label:e=>{if(void 0===e.theme)return s.__("Switch to the provided dark `theme`.");const t=e.theme,a=d.getDisplayName(t);return e.isPalette?s.__("Set Preferred Dark Theme: %1",a):a},isToggled:e=>e.theme===d.preferredDarkTheme,execute:e=>{const t=e.theme;if(t!==d.preferredDarkTheme)return d.setPreferredDarkTheme(t)}}),i.addCommand(ie.toggleAdaptiveTheme,{label:e=>e.isPalette?s.__("Synchronize Styling Theme with System Settings"):s.__("Synchronize with System Settings"),isToggled:()=>d.isToggledAdaptiveTheme(),execute:()=>{d.toggleAdaptiveTheme().catch(console.warn)}}),i.addCommand(ie.themeScrollbars,{label:s.__("Theme Scrollbars"),isToggled:()=>d.isToggledThemeScrollbars(),execute:()=>d.toggleThemeScrollbars()}),i.addCommand(ie.changeFont,{label:e=>e.enabled?`${e.font}`:s.__("waiting for fonts"),isEnabled:e=>e.enabled,isToggled:e=>d.getCSS(e.key)===e.font,execute:e=>d.setCSSOverride(e.key,e.font)}),i.addCommand(ie.incrFontSize,{label:e=>{switch(e.key){case"code-font-size":return s.__("Increase Code Font Size");case"content-font-size1":return s.__("Increase Content Font Size");case"ui-font-size1":return s.__("Increase UI Font Size");default:return s.__("Increase Font Size")}},execute:e=>d.incrFontSize(e.key)}),i.addCommand(ie.decrFontSize,{label:e=>{switch(e.key){case"code-font-size":return s.__("Decrease Code Font Size");case"content-font-size1":return s.__("Decrease Content Font Size");case"ui-font-size1":return s.__("Decrease UI Font Size");default:return s.__("Decrease Font Size")}},execute:e=>d.decrFontSize(e.key)}),d},autoStart:!0,provides:r.l$},ce={id:"@jupyterlab/apputils-extension:themes-palette-menu",description:"Adds theme commands to the menu and the command palette.",requires:[r.l$,b.gv],optional:[r.WW,ae.O],activate:(e,t,a,n,o)=>{const s=a.load("jupyterlab");o&&e.restored.then((()=>{var e;const a=null===(e=o.settingsMenu.items.find((e=>{var t;return"submenu"===e.type&&"jp-mainmenu-settings-apputilstheme"===(null===(t=e.submenu)||void 0===t?void 0:t.id)})))||void 0===e?void 0:e.submenu;a&&t.themes.forEach(((e,t)=>{a.insertItem(t,{command:ie.changeTheme,args:{isPalette:!1,theme:e}})}))})),n&&e.restored.then((()=>{const e=s.__("Theme"),a=ie.changeTheme,o=!0;t.themes.forEach((t=>{n.addItem({command:a,args:{isPalette:o,theme:t},category:e})})),t.themes.forEach((t=>{n.addItem({command:ie.changePreferredLightTheme,args:{isPalette:o,theme:t},category:e})})),t.themes.forEach((t=>{n.addItem({command:ie.changePreferredDarkTheme,args:{isPalette:o,theme:t},category:e})})),n.addItem({command:ie.toggleAdaptiveTheme,args:{isPalette:o},category:e}),n.addItem({command:ie.themeScrollbars,category:e}),n.addItem({command:ie.incrFontSize,args:{key:"code-font-size"},category:e}),n.addItem({command:ie.decrFontSize,args:{key:"code-font-size"},category:e}),n.addItem({command:ie.incrFontSize,args:{key:"content-font-size1"},category:e}),n.addItem({command:ie.decrFontSize,args:{key:"content-font-size1"},category:e}),n.addItem({command:ie.incrFontSize,args:{key:"ui-font-size1"},category:e}),n.addItem({command:ie.decrFontSize,args:{key:"ui-font-size1"},category:e})}))},autoStart:!0};var de=a(50694);const ue={id:"@jupyterlab/apputils-extension:toolbar-registry",description:"Provides toolbar items registry.",autoStart:!0,provides:r.RX,activate:e=>new de.p({defaultFactory:(0,de.M)(e.commands)})};var pe,me=a(48860),he=a(29246);!function(e){e.saveWorkspace="workspace-ui:save",e.saveWorkspaceAs="workspace-ui:save-as"}(pe||(pe={}));const ge="jupyterlab-workspace",be="."+ge,fe="workspace-ui:lastSave",ve={id:"@jupyterlab/apputils-extension:workspaces",description:"Add workspace file type and commands.",autoStart:!0,requires:[he.iH,r.uk,g.IStateDB,b.gv,o.T.IPaths],optional:[s.v5],activate:(e,t,a,n,o,s,r)=>{const i=new ye.WorkspaceFactory({workspaces:e.serviceManager.workspaces,router:r,state:n,translator:o,paths:s}),l=o.load("jupyterlab");e.docRegistry.addFileType({name:ge,contentType:"file",fileFormat:"text",displayName:l.__("JupyterLab workspace File"),extensions:[be],mimeTypes:["text/json"],iconClass:"jp-JupyterIcon"}),e.docRegistry.addWidgetFactory(i),e.commands.addCommand(pe.saveWorkspaceAs,{label:l.__("Save Current Workspace As…"),execute:async()=>{const s=e.serviceManager.workspaces.fetch(a.name);await ye.saveAs(t,e.serviceManager.contents,s,n,o)}}),e.commands.addCommand(pe.saveWorkspace,{label:l.__("Save Current Workspace"),execute:async()=>{const{contents:s}=e.serviceManager,r=e.serviceManager.workspaces.fetch(a.name),i=await n.fetch(fe);void 0===i?await ye.saveAs(t,s,r,n,o):await ye.save(i,s,r,n)}})}};var ye;!function(e){async function t(e,t,a,n){let o=e.split("/").pop();void 0!==o&&o.includes(".")?o=o.split(".")[0]:e+=be,await n.save(fe,e);const s=await a;s.metadata.id=`${o}`,await t.save(e,{type:"file",format:"text",content:JSON.stringify(s)})}e.save=t,e.saveAs=async function(e,a,o,s,r){var i;r=r||b.Sr;const c=await s.fetch(fe);let d;d=void 0===c?"new-workspace":null===(i=c.split("/").pop())||void 0===i?void 0:i.split(".")[0];const u=e.model.path+"/"+d+be,p=await async function(e,t){const a=(t=t||b.Sr).load("jupyterlab"),o=l.Vq.okButton({label:a.__("Save"),ariaLabel:a.__("Save Current Workspace")}),s=await(0,l.vC)({title:a.__("Save Current Workspace As…"),body:new n(e),buttons:[l.Vq.cancelButton(),o]});return s.button.label===a.__("Save")?s.value:null}(u,r);p&&await t(p,a,o,s)};class a extends me.GA{constructor(e){super({name:"Workspace loader",label:(e.translator||b.Sr).load("jupyterlab").__("Workspace loader"),fileTypes:[ge],defaultFor:[ge],readOnly:!0}),this._application=e.paths.urls.app,this._router=e.router,this._state=e.state,this._workspaces=e.workspaces}createNewWidget(e){return e.ready.then((async()=>{const t=e.model.toJSON(),a=e.path,n=t.metadata.id;await this._workspaces.save(n,t),await this._state.save(fe,a);const o=m.URLExt.join(this._application,"workspaces"),s=m.URLExt.join(o,n);if(!s.startsWith(o))throw new Error("Can only be used for workspaces");this._router?this._router.navigate(s,{hard:!0}):document.location.href=s})),function(e){const t=new me.Ry({content:new I.$L,context:e});return t.content.dispose(),t}(e)}}e.WorkspaceFactory=a;class n extends I.$L{constructor(e){super({node:o(e)})}getValue(){return this.node.value}}function o(e){const t=document.createElement("input");return t.value=e,t}}(ye||(ye={}));var _e=a(27258);const ke="jp-ContextualShortcut-TableItem";var we;!function(e){e.loadState="apputils:load-statedb",e.print="apputils:print",e.reset="apputils:reset",e.resetOnLoad="apputils:reset-on-load",e.runFirstEnabled="apputils:run-first-enabled",e.runAllEnabled="apputils:run-all-enabled",e.toggleHeader="apputils:toggle-header",e.displayShortcuts="apputils:display-shortcuts"}(we||(we={}));const Ce={id:"@jupyterlab/apputils-extension:palette",description:"Provides the command palette.",autoStart:!0,requires:[b.gv],provides:r.WW,optional:[h.O],activate:(e,t,a)=>V.activate(e,t,a)},Se={id:"@jupyterlab/apputils-extension:palette-restorer",description:"Restores the command palette.",autoStart:!0,requires:[n.L,b.gv],activate:(e,t,a)=>{V.restore(e,t,a)}},je={id:"@jupyterlab/apputils-extension:resolver",description:"Provides the window name resolver.",autoStart:!0,provides:r.uk,requires:[o.T.IPaths,s.v5],activate:async(e,t,a)=>{const{hash:n,search:o}=a.current,s=m.URLExt.queryStringToObject(o||""),r=new i.v,l=m.PageConfig.getOption("workspace"),c=m.PageConfig.getOption("treePath"),d="multiple-document"===m.PageConfig.getOption("mode")?"lab":"doc",u=l||m.PageConfig.defaultWorkspace,p=c?m.URLExt.join("tree",c):"";try{return await r.resolve(u),r}catch(e){return new Promise((()=>{const{base:e}=t.urls,o="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789"[Math.floor(62*Math.random())];let r=m.URLExt.join(e,d,"workspaces",`auto-${o}`);r=p?m.URLExt.join(r,m.URLExt.encodeParts(p)):r,s.reset="";const i=r+m.URLExt.objectToQueryString(s)+(n||"");a.navigate(i,{hard:!0})}))}}},Ee={id:"@jupyterlab/apputils-extension:splash",description:"Provides the splash screen.",autoStart:!0,requires:[b.gv],provides:r.JV,activate:(e,t)=>{const a=t.load("jupyterlab"),{commands:n,restored:o}=e,s=document.createElement("div"),r=document.createElement("div"),i=document.createElement("div");let c;s.id="jupyterlab-splash",r.id="galaxy",i.id="main-logo",f.OY.element({container:i,stylesheet:"splash"}),r.appendChild(i),["1","2","3"].forEach((e=>{const t=document.createElement("div"),a=document.createElement("div");t.id=`moon${e}`,t.className="moon orbit",a.id=`planet${e}`,a.className="planet",t.appendChild(a),r.appendChild(t)})),s.appendChild(r);const d=new _.Throttler((async()=>{if(!c){c=new l.Vq({title:a.__("Loading…"),body:a.__("The loading screen is taking a long time.\nWould you like to clear the workspace or keep waiting?"),buttons:[l.Vq.cancelButton({label:a.__("Keep Waiting")}),l.Vq.warnButton({label:a.__("Clear Workspace")})]});try{const e=await c.launch();if(c.dispose(),c=null,e.button.accept&&n.hasCommand(we.reset))return n.execute(we.reset);requestAnimationFrame((()=>{d.invoke().catch((e=>{}))}))}catch(e){}}}),{limit:12e3,edge:"trailing"});let u=0;return{show:(e=!0)=>(s.classList.remove("splash-fade"),s.classList.toggle("light",e),s.classList.toggle("dark",!e),u++,document.body.appendChild(s),d.invoke().catch((e=>{})),new y.DisposableDelegate((async()=>{await o,0==--u&&(d.stop(),c&&(c.dispose(),c=null),s.classList.add("splash-fade"),window.setTimeout((()=>{document.body.removeChild(s)}),200))})))}}},xe={id:"@jupyterlab/apputils-extension:print",description:"Add the print capability",autoStart:!0,requires:[b.gv],activate:(e,t)=>{const a=t.load("jupyterlab");e.commands.addCommand(we.print,{label:a.__("Print…"),isEnabled:()=>{const t=e.shell.currentWidget;return null!==c.x.getPrintFunction(t)},execute:async()=>{const t=e.shell.currentWidget,a=c.x.getPrintFunction(t);a&&await a()}})}},Te={id:"@jupyterlab/apputils-extension:toggle-header",description:"Adds a command to display the main area widget content header.",autoStart:!0,requires:[b.gv],optional:[r.WW],activate:(e,t,a)=>{const n=t.load("jupyterlab"),o=n.__("Main Area");e.commands.addCommand(we.toggleHeader,{label:n.__("Show Header Above Content"),isEnabled:()=>e.shell.currentWidget instanceof d.k&&!e.shell.currentWidget.contentHeader.isDisposed&&e.shell.currentWidget.contentHeader.widgets.length>0,isToggled:()=>{const t=e.shell.currentWidget;return t instanceof d.k&&!t.contentHeader.isHidden},execute:async()=>{const t=e.shell.currentWidget;t instanceof d.k&&t.contentHeader.setHidden(!t.contentHeader.isHidden)}}),a&&a.addItem({command:we.toggleHeader,category:o})}},Pe={id:"@jupyterlab/apputils-extension:state",description:"Provides the application state. It is stored per workspaces.",autoStart:!0,provides:g.IStateDB,requires:[o.T.IPaths,s.v5,b.gv],optional:[r.uk],activate:(e,t,a,n,o)=>{const s=n.load("jupyterlab");if(null===o)return new g.StateDB;let r=!1;const{commands:i,name:l,serviceManager:c}=e,{workspaces:d}=c,u=o.name,p=new v.PromiseDelegate,h=new g.StateDB({transform:p.promise}),b=new _.Debouncer((async()=>{const e=u,t={id:e},a=await h.toJSON();await d.save(e,{data:a,metadata:t})}));return h.changed.connect((()=>{b.invoke()}),h),h.changed.connect((()=>async function(e,t,a){var n,o;const s=await t.toJSON();if(void 0===(null===(o=null===(n=s["layout-restorer:data"])||void 0===n?void 0:n.main)||void 0===o?void 0:o.current))document.title=`${m.PageConfig.getOption("appName")||"JupyterLab"}${e.startsWith("auto-")?` (${e})`:""}`;else{let t=m.PathExt.basename(decodeURIComponent(window.location.href));t=t.length>15?t.slice(0,12).concat("…"):t;const n=Object.keys(s).filter((e=>e.startsWith("notebook")||e.startsWith("editor"))).length;e.startsWith("auto-")?document.title=`${t} (${e}${n>1?` : ${n}`:""}) - ${a}`:document.title=`${t}${n>1?` (${n})`:""} - ${a}`}}(u,h,l))),i.addCommand(we.loadState,{label:s.__("Load state for the current workspace."),execute:async e=>{if(r)return;const{hash:t,path:n,search:o}=e,s=m.URLExt.queryStringToObject(o||""),i="string"==typeof s.clone?""===s.clone?m.PageConfig.defaultWorkspace:s.clone:null,l=i||u||null;if(null!==l){try{const e=await d.fetch(l);r||(r=!0,p.resolve({type:"overwrite",contents:e.data}))}catch({message:e}){console.warn(`Fetching workspace "${u}" failed.`,e),r||(r=!0,p.resolve({type:"cancel",contents:null}))}if(l===i){delete s.clone;const e=n+m.URLExt.objectToQueryString(s)+t,o=b.invoke().then((()=>a.stop));return o.then((()=>{a.navigate(e)})),o}await b.invoke()}else console.error(`${we.loadState} cannot load null workspace.`)}}),i.addCommand(we.reset,{label:s.__("Reset Application State"),execute:async({reload:e})=>{await h.clear(),await b.invoke(),e&&a.reload()}}),i.addCommand(we.resetOnLoad,{label:s.__("Reset state when loading for the workspace."),execute:e=>{const{hash:t,path:n,search:o}=e,s=m.URLExt.queryStringToObject(o||""),i="clone"in s;if(!("reset"in s))return;if(r)return a.reload();r=!0,p.resolve({type:"clear",contents:null}),delete s.reset;const l=n+m.URLExt.objectToQueryString(s)+t,c=h.clear().then((()=>b.invoke()));return i?c.then((()=>{a.navigate(l,{hard:!0})})):c.then((()=>{a.navigate(l)})),c}}),a.register({command:we.loadState,pattern:/.?/,rank:30}),a.register({command:we.resetOnLoad,pattern:/(\?reset|\&reset)($|&)/,rank:20}),h}},Ne={id:"@jupyterlab/apputils-extension:sessionDialogs",description:"Provides the session context dialogs.",provides:r.oj,optional:[b.gv],autoStart:!0,activate:async(e,t)=>new u.H({translator:null!=t?t:b.Sr})},Fe={id:"@jupyterlab/apputils-extension:utilityCommands",description:"Adds meta commands to run set of other commands.",requires:[b.gv],optional:[r.WW],autoStart:!0,activate:(e,t,a)=>{const n=t.load("jupyterlab"),{commands:o}=e;if(o.addCommand(we.runFirstEnabled,{label:n.__("Run First Enabled Command"),execute:t=>{const a=t.commands,n=t.args,o=Array.isArray(t);for(let t=0;t<a.length;t++){const s=a[t],r=o?n[t]:n;if(e.commands.isEnabled(s,r))return e.commands.execute(s,r)}}}),o.addCommand(we.runAllEnabled,{label:n.__("Run All Enabled Commands Passed as Args"),execute:async t=>{var a,n;const o=null!==(a=t.commands)&&void 0!==a?a:[],s=t.args,r=Array.isArray(t),i=null!==(n=t.errorIfNotEnabled)&&void 0!==n&&n;for(let t=0;t<o.length;t++){const a=o[t],n=r?s[t]:s;e.commands.isEnabled(a,n)?await e.commands.execute(a,n):i&&console.error(`${a} is not enabled.`)}},isEnabled:t=>{var a;const n=null!==(a=t.commands)&&void 0!==a?a:[],o=t.args,s=Array.isArray(t);return n.some(((t,a)=>e.commands.isEnabled(t,s?o[a]:o)))}}),o.addCommand(we.displayShortcuts,{label:n.__("Show Keyboard Shortcuts"),caption:n.__("Show relevant keyboard shortcuts for the current active widget"),execute:t=>{var a;const s=e.shell.currentWidget;if(!(null==s?void 0:s.node.contains(document.activeElement))&&s instanceof d.k){const e=null!==(a=s.content.node)&&void 0!==a?a:null==s?void 0:s.node;null==e||e.focus()}return function(e){const{commands:t,trans:a,activeElement:n}=e,o=null!=n?n:document.activeElement;function s(e){const t=[];return e.forEach(((e,a)=>{const n=[];e.split(" ").forEach(((e,t)=>{n.push(D.createElement("span",{className:"jp-ContextualShortcut-Key",key:`ch-${t}`},D.createElement("kbd",null,e)),D.createElement(D.Fragment,{key:`fragment-${t}`}," + "))})),t.push(D.createElement("span",{key:`key-${a}`},n.slice(0,-1)),D.createElement(D.Fragment,{key:`fragment-${a}`}," + "))})),D.createElement("span",null,t.slice(0,-1))}function r(e){const a=t.label(e.command),n=e.command.split(":")[1].split("-");let o="";for(let e=0;e<n.length;e++)o=o+" "+((s=n[e]).charAt(0).toUpperCase()+s.slice(1));var s;return a.length>0?a:o}function i(e,t){let a=t;for(let t=0;null!==a&&a!==a.parentElement;a=a.parentElement,++t){if(a.hasAttribute("data-lm-suppress-shortcuts"))return-1;if(a.matches(e))return t}return-1}const c=new Map;for(let e=0;e<t.keyBindings.length;e++){const a=t.keyBindings[e];let n=i(a.selector,o);if(n<0)continue;let s=B.H.formatKeystroke(a.keys);if(c.has(s)){let e=c.get(s);if(e[0]<n||e[0]===n&&_e.Qf.calculateSpecificity(e[1].selector)>_e.Qf.calculateSpecificity(a.selector))continue}c.set(s,[n,a])}let d=-1;const u=new Map;for(let[e,t]of c.values())d=Math.max(e,d),u.has(e)||u.set(e,[]),u.get(e).push(t);const p=[];for(let e=0;e<=d;e++)u.has(e)&&(p.push(u.get(e).map((e=>D.createElement("tr",{className:"jp-ContextualShortcut-TableRow",key:`${e.command}-${e.keys.join("-").replace(" ","_")}`},D.createElement("td",{className:ke},r(e)),D.createElement("td",{className:ke},s([...e.keys])))))),p.push(D.createElement("tr",{className:"jp-ContextualShortcut-TableLastRow",key:`group-${e}-last`})));const m=D.createElement("table",null,D.createElement("tbody",null,p));return(0,l.vC)({title:a.__("Keyboard Shortcuts"),body:m,buttons:[l.Vq.cancelButton({label:a.__("Close")})]})}({commands:o,trans:n})}}),a){const e=n.__("Help");a.addItem({command:we.displayShortcuts,category:e})}}},Ie={id:"@jupyterlab/apputils-extension:sanitizer",description:"Provides the HTML sanitizer.",autoStart:!0,provides:r.hd,requires:[h.O],activate:(e,t)=>{const a=new p.T,n=e=>{const t=e.get("allowedSchemes").composite,n=e.get("autolink").composite;t&&a.setAllowedSchemes(t),a.setAutolink(n)};return t.load("@jupyterlab/apputils-extension:sanitizer").then((e=>{n(e),e.changed.connect(n)})).catch((e=>{console.error("Failed to load sanitizer settings:",e)})),a}},De=[E,X,L,Ce,Se,xe,je,ee,Ie,Q,Pe,Ee,Ne,le,ce,Te,ue,Fe,ve]},4201:(e,t,a)=>{a.d(t,{Z:()=>i});var n=a(29564),o=a.n(n),s=a(64481),r=a.n(s)()(o());r.push([e.id,"/*\n * Copyright (c) Jupyter Development Team.\n * Distributed under the terms of the Modified BSD License.\n */\n\n/*\n * Webkit scrollbar styling.\n * Separate file which is dynamically loaded based on user/theme settings.\n */\n\n/* use standard opaque scrollbars for most nodes */\n\n::-webkit-scrollbar,\n::-webkit-scrollbar-corner {\n  background: var(--jp-scrollbar-background-color);\n}\n\n::-webkit-scrollbar-thumb {\n  background: rgb(var(--jp-scrollbar-thumb-color));\n  border: var(--jp-scrollbar-thumb-margin) solid transparent;\n  background-clip: content-box;\n  border-radius: var(--jp-scrollbar-thumb-radius);\n}\n\n::-webkit-scrollbar-track:horizontal {\n  border-left: var(--jp-scrollbar-endpad) solid\n    var(--jp-scrollbar-background-color);\n  border-right: var(--jp-scrollbar-endpad) solid\n    var(--jp-scrollbar-background-color);\n}\n\n::-webkit-scrollbar-track:vertical {\n  border-top: var(--jp-scrollbar-endpad) solid\n    var(--jp-scrollbar-background-color);\n  border-bottom: var(--jp-scrollbar-endpad) solid\n    var(--jp-scrollbar-background-color);\n}\n\n/* for code nodes, use a transparent style of scrollbar */\n\n.CodeMirror-hscrollbar::-webkit-scrollbar,\n.CodeMirror-vscrollbar::-webkit-scrollbar,\n.CodeMirror-hscrollbar::-webkit-scrollbar-corner,\n.CodeMirror-vscrollbar::-webkit-scrollbar-corner {\n  background-color: transparent;\n}\n\n.CodeMirror-hscrollbar::-webkit-scrollbar-thumb,\n.CodeMirror-vscrollbar::-webkit-scrollbar-thumb {\n  background: rgba(var(--jp-scrollbar-thumb-color), 0.5);\n  border: var(--jp-scrollbar-thumb-margin) solid transparent;\n  background-clip: content-box;\n  border-radius: var(--jp-scrollbar-thumb-radius);\n}\n\n.CodeMirror-hscrollbar::-webkit-scrollbar-track:horizontal {\n  border-left: var(--jp-scrollbar-endpad) solid transparent;\n  border-right: var(--jp-scrollbar-endpad) solid transparent;\n}\n\n.CodeMirror-vscrollbar::-webkit-scrollbar-track:vertical {\n  border-top: var(--jp-scrollbar-endpad) solid transparent;\n  border-bottom: var(--jp-scrollbar-endpad) solid transparent;\n}\n",""]);const i=r}}]);