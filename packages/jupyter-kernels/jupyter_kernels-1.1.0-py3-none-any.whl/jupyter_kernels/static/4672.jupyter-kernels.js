"use strict";(self.webpackChunk_datalayer_jupyter_kernels=self.webpackChunk_datalayer_jupyter_kernels||[]).push([[4672],{8233:(e,t,i)=>{i.d(t,{Y:()=>r});var n=i(92279),s=i(46638),o=i(87104);class r extends n.$L{constructor(e){var t;super(),this.model=e.model;const i=new o.A({factory:e.factory,model:this.model,editorOptions:{...e.editorOptions,config:{...null===(t=e.editorOptions)||void 0===t?void 0:t.config,readOnly:!0}}});this.editor=i.editor,(this.layout=new n.Qb).addWidget(i)}static createCodeViewer(e){const{content:t,mimeType:i,...n}=e,o=new s.p.Model({mimeType:i});o.sharedModel.setSource(t);const a=new r({...n,model:o});return a.disposed.connect((()=>{o.dispose()})),a}get content(){return this.model.sharedModel.getSource()}get mimeType(){return this.model.mimeType}}},11097:(e,t,i)=>{i.d(t,{E:()=>n});const n=new(i(47963).Token)("@jupyterlab/console:IConsoleTracker","A widget tracker for code consoles.\n  Use this if you want to be able to iterate over and interact with code consoles\n  created by the application.")},97844:(e,t,i)=>{i.d(t,{r:()=>a});var n=i(88132),s=i(73568),o=i(63060),r=i(47963);class a extends s.s{constructor(e,t){const{docRegistry:i,...n}=t;super(e,n),this._readyDelegate=new r.PromiseDelegate,this.editor=e.content,this._docRegistry=i,this._virtualEditor=Object.freeze({getEditor:()=>this.editor.editor,ready:()=>Promise.resolve(this.editor.editor),reveal:()=>Promise.resolve(this.editor.editor)}),Promise.all([this.editor.context.ready,this.connectionManager.ready]).then((async()=>{await this.initOnceReady(),this._readyDelegate.resolve()})).catch(console.error)}get ready(){return this._readyDelegate.promise}get documentPath(){return this.widget.context.path}get mimeType(){var e;const t=this.editor.model.mimeType,i=Array.isArray(t)?null!==(e=t[0])&&void 0!==e?e:n.N.defaultMimeType:t,s=this.editor.context.contentsModel;return i!=n.N.defaultMimeType?i:s?this._docRegistry.getFileTypeForModel(s).mimeTypes[0]:i}get languageFileExtension(){let e=this.documentPath.split(".");return e[e.length-1]}get ceEditor(){return this.editor.editor}get activeEditor(){return this._virtualEditor}get wrapperElement(){return this.widget.node}get path(){return this.widget.context.path}get editors(){var e,t;return[{ceEditor:this._virtualEditor,type:"code",value:null!==(t=null===(e=this.editor)||void 0===e?void 0:e.model.sharedModel.getSource())&&void 0!==t?t:""}]}dispose(){this.isDisposed||(this.editor.model.mimeTypeChanged.disconnect(this.reloadConnection),super.dispose())}createVirtualDocument(){return new o.lr({language:this.language,foreignCodeExtractors:this.options.foreignCodeExtractorsManager,path:this.documentPath,fileExtension:this.languageFileExtension,standalone:!0,hasLspSupportedFile:!0})}getEditorIndexAt(e){return 0}getEditorIndex(e){return 0}getEditorWrapper(e){return this.wrapperElement}async initOnceReady(){this.initVirtual(),await this.connectDocument(this.virtualDocument,!1),this.editor.model.mimeTypeChanged.connect(this.reloadConnection,this)}}},38840:(e,t,i)=>{i.d(t,{S:()=>r});var n=i(71514),s=i(31786),o=i(11441);class r extends s.su{constructor(e){super(),this.widget=e,this._searchActive=!1}get isReadOnly(){return this.editor.getOption("readOnly")}get replaceOptionsSupport(){return{preserveCase:!0}}get editor(){return this.widget.content.editor}get model(){return this.widget.content.model}async startQuery(e,t){this._searchActive=!0,await super.startQuery(e,t),await this.highlightNext(!0,{from:"selection-start",scroll:!1,select:!1})}async endQuery(){this._searchActive=!1,await super.endQuery()}async onSharedModelChanged(e,t){if(this._searchActive)return super.onSharedModelChanged(e,t)}static createNew(e,t){return new r(e)}static isApplicable(e){return e instanceof n.k&&e.content instanceof o.Mm&&e.content.editor instanceof s.sI}getInitialQuery(){const e=this.editor;return e.state.sliceDoc(e.state.selection.main.from,e.state.selection.main.to)}}},47330:(e,t,i)=>{i.d(t,{W:()=>c});var n=i(88132),s=i(68471),o=i(18168),r=i(55616),a=i(92279),d=i(56769);function l(e){return d.createElement(s.Jy,{source:e.language,onClick:e.handleClick})}class c extends r.UB{constructor(e){var t;super(new c.Model(e.languages)),this._handleClick=()=>{const e=new a.v2({commands:this._commands});this._popup&&this._popup.dispose(),this.model.languages.getLanguages().sort(((e,t)=>{var i,n;const s=null!==(i=e.displayName)&&void 0!==i?i:e.name,o=null!==(n=t.displayName)&&void 0!==n?n:t.name;return s.localeCompare(o)})).forEach((t=>{var i;if(0===t.name.toLowerCase().indexOf("brainf"))return;const n={name:t.name,displayName:null!==(i=t.displayName)&&void 0!==i?i:t.name};e.addItem({command:"fileeditor:change-language",args:n})})),this._popup=(0,s.U)({body:e,anchor:this,align:"left"})},this._popup=null,this._commands=e.commands,this.translator=null!==(t=e.translator)&&void 0!==t?t:o.Sr;const i=this.translator.load("jupyterlab");this.addClass("jp-mod-highlighted"),this.title.caption=i.__("Change text editor syntax highlighting")}render(){return this.model?d.createElement(l,{language:this.model.language,handleClick:this._handleClick}):null}}!function(e){class t extends r.I_{constructor(e){super(),this.languages=e,this._onMIMETypeChange=(e,t)=>{var i;const s=this._language,o=this.languages.findByMIME(t.newValue);this._language=null!==(i=null==o?void 0:o.name)&&void 0!==i?i:n.N.defaultMimeType,this._triggerChange(s,this._language)},this._language="",this._editor=null}get language(){return this._language}get editor(){return this._editor}set editor(e){var t;const i=this._editor;null!==i&&i.model.mimeTypeChanged.disconnect(this._onMIMETypeChange);const s=this._language;if(this._editor=e,null===this._editor)this._language="";else{const e=this.languages.findByMIME(this._editor.model.mimeType);this._language=null!==(t=null==e?void 0:e.name)&&void 0!==t?t:n.N.defaultMimeType,this._editor.model.mimeTypeChanged.connect(this._onMIMETypeChange)}this._triggerChange(s,this._language)}_triggerChange(e,t){e!==t&&this.stateChanged.emit(void 0)}}e.Model=t}(c||(c={}))},26679:(e,t,i)=>{i.d(t,{m:()=>d});var n=i(68471),s=i(18168),o=i(55616),r=i(56769);function a(e){const t=(e.translator||s.Sr).load("jupyterlab"),i="number"==typeof e.tabSpace?t.__("Spaces"):t.__("Tab Indent");return r.createElement(n.Jy,{onClick:e.handleClick,source:"number"==typeof e.tabSpace?`${i}: ${e.tabSpace}`:i,title:t.__("Change the indentationâ€¦")})}class d extends o.UB{constructor(e){super(new d.Model),this._popup=null,this._menu=e.menu,this.translator=e.translator||s.Sr,this.addClass("jp-mod-highlighted")}render(){var e;if(null===(e=this.model)||void 0===e?void 0:e.indentUnit){const e="Tab"===this.model.indentUnit?null:parseInt(this.model.indentUnit,10);return r.createElement(a,{tabSpace:e,handleClick:()=>this._handleClick(),translator:this.translator})}return null}_handleClick(){const e=this._menu;this._popup&&this._popup.dispose(),e.aboutToClose.connect(this._menuClosed,this),this._popup=(0,n.U)({body:e,anchor:this,align:"right"}),e.update()}_menuClosed(){this.removeClass("jp-mod-clicked")}}!function(e){class t extends o.I_{get indentUnit(){return this._indentUnit}set indentUnit(e){e!==this._indentUnit&&(this._indentUnit=e,this.stateChanged.emit())}}e.Model=t}(d||(d={}))},88769:(e,t,i)=>{i.d(t,{L:()=>s});var n=i(51840);class s extends n.w{createNew(e,t){const i=super.createNew(e,t),n=(t,i)=>{i&&e.content.editor.setCursorPosition({line:i.line,column:0})};return i.activeHeadingChanged.connect(n),e.disposed.connect((()=>{i.activeHeadingChanged.disconnect(n)})),i}}},38814:(e,t,i)=>{i.d(t,{$:()=>l});var n=i(96734),s=i(3053),o=i(88769);const r={part:1,chapter:1,section:1,subsection:2,subsubsection:3,paragraph:4,subparagraph:5},a=/^\s*\\(section|subsection|subsubsection){(.+)}/;class d extends n.U{get documentType(){return"latex"}get supportedOptions(){return["maximalDepth","numberHeaders"]}getHeadings(){if(!this.isActive)return Promise.resolve(null);const e=this.widget.content.model.sharedModel.getSource().split("\n"),t=new Array;let i=t.length;const n=new Array;for(let o=0;o<e.length;o++){const d=e[o].match(a);if(d){const e=r[d[1]];if(e<=this.configuration.maximalDepth){const r=s.Gn(e,i,t,{...this.configuration,baseNumbering:1,numberingH1:!0});i=e,n.push({text:d[2],prefix:r,level:e,line:o})}}}return Promise.resolve(n)}}class l extends o.L{isApplicable(e){var t,i;if(super.isApplicable(e)){let n=null===(i=null===(t=e.content)||void 0===t?void 0:t.model)||void 0===i?void 0:i.mimeType;return n&&("text/x-latex"===n||"text/x-stex"===n)}return!1}_createNew(e,t){return new d(e,t)}}},29718:(e,t,i)=>{i.d(t,{$:()=>d});var n=i(96734),s=i(3053),o=i(83331),r=i(88769);class a extends n.U{get documentType(){return"markdown"}getHeadings(){if(!this.isActive)return Promise.resolve(null);const e=this.widget.content.model.sharedModel.getSource(),t=s.tF(o.o3(e),{...this.configuration,numberHeaders:!1});return Promise.resolve(t)}}class d extends r.L{isApplicable(e){var t,i;if(super.isApplicable(e)){let n=null===(i=null===(t=e.content)||void 0===t?void 0:t.model)||void 0===i?void 0:i.mimeType;return n&&o.kb(n)}return!1}_createNew(e,t){return new a(e,t)}}},58989:(e,t,i)=>{i.d(t,{y:()=>a});var n=i(96734),s=i(88769);let o;try{o=new RegExp("^\\s*(class |def |from |import )","d")}catch(e){o=new RegExp("^\\s*(class |def |from |import )")}class r extends n.U{get documentType(){return"python"}async getHeadings(){if(!this.isActive)return Promise.resolve(null);const e=this.widget.content.model.sharedModel.getSource().split("\n");let t=new Array,n=!1,s=1,r=-1;for(const a of e){let e;if(r++,o.flags.includes("d"))e=o.exec(a);else{const{default:t}=await i.e(622).then(i.t.bind(i,40622,23));e=t(o,a)}if(e){const[i]=e.indices[1];1===s&&i>0&&(s=i);const o=["from ","import "].includes(e[1]);if(o&&n)continue;n=o;const d=1+i/s;if(d>this.configuration.maximalDepth)continue;t.push({text:a.slice(i),level:d,line:r})}}return Promise.resolve(t)}}class a extends s.L{isApplicable(e){var t,i;if(super.isApplicable(e)){let n=null===(i=null===(t=e.content)||void 0===t?void 0:t.model)||void 0===i?void 0:i.mimeType;return n&&("application/x-python-code"===n||"text/x-python"===n)}return!1}_createNew(e,t){return new r(e,t)}}},11441:(e,t,i)=>{i.d(t,{L:()=>c,Mm:()=>d});var n=i(87104),s=i(48860),o=i(75753),r=i(47963),a=i(92279);class d extends a.$L{constructor(e){super(),this._ready=new r.PromiseDelegate,this.addClass("jp-FileEditor");const t=this._context=e.context;this._mimeTypeService=e.mimeTypeService;const i=this._editorWidget=new n.A({factory:e.factory,model:t.model,editorOptions:{config:d.defaultEditorConfig}});this._editorWidget.addClass("jp-FileEditorCodeWrapper"),this._editorWidget.node.dataset.jpCodeRunner="true",this._editorWidget.node.dataset.jpUndoer="true",this.editor=i.editor,this.model=i.model,t.ready.then((()=>{this._onContextReady()})),this._onPathChanged(),t.pathChanged.connect(this._onPathChanged,this),(this.layout=new a.Qb).addWidget(i)}get context(){return this._context}get ready(){return this._ready.promise}handleEvent(e){this.model&&"mousedown"===e.type&&this._ensureFocus()}onAfterAttach(e){super.onAfterAttach(e),this.node.addEventListener("mousedown",this)}onBeforeDetach(e){this.node.removeEventListener("mousedown",this)}onActivateRequest(e){this._ensureFocus()}_ensureFocus(){this.editor.hasFocus()||this.editor.focus()}_onContextReady(){this.isDisposed||(this.editor.clearHistory(),this._ready.resolve(void 0))}_onPathChanged(){const e=this.editor,t=this._context.localPath;e.model.mimeType=this._mimeTypeService.getMimeTypeByFilePath(t)}}!function(e){e.defaultEditorConfig={lineNumbers:!0,scrollPastEnd:!0}}(d||(d={}));class l extends s.Ry{async setFragment(e){const t=e.split("=");if("#line"!==t[0])return;const i=t[1];let n;return n=i.includes(",")?i.split(",")[0]||"0":i,this.context.ready.then((()=>{const e={line:parseInt(n,10),column:0};this.content.editor.setCursorPosition(e),this.content.editor.revealPosition(e)}))}}class c extends s.GA{constructor(e){super(e.factoryOptions),this._services=e.editorServices}createNewWidget(e){const t=this._services.factoryService.newDocumentEditor,i=new d({factory:e=>t(e),context:e,mimeTypeService:this._services.mimeTypeService});return i.title.icon=o._6,new l({content:i,context:e})}}}}]);