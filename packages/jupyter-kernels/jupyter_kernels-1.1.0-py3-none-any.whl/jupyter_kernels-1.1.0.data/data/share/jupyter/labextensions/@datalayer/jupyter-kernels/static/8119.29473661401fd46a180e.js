/*! For license information please see 8119.29473661401fd46a180e.js.LICENSE.txt */
(self.webpackChunk_datalayer_jupyter_kernels=self.webpackChunk_datalayer_jupyter_kernels||[]).push([[8119],{62718:(e,t,n)=>{"use strict";n.r(t),n.d(t,{PIPLITE_INDEX_SCHEMA:()=>H,PyodideKernel:()=>N,PyodideRemoteKernel:()=>I.O,allJSONUrl:()=>i,ipykernelWheelUrl:()=>s,pipliteWheelUrl:()=>l,pyodide_kernelWheelUrl:()=>c,widgetsnbextensionWheelUrl:()=>d,widgetsnbextensionWheelUrl1:()=>y});const r=n.p+"pypi/all.json";var i=n.t(r);const a=n.p+"pypi/ipykernel-6.9.2-py3-none-any.whl";var s=n.t(a);const o=n.p+"pypi/piplite-0.2.3-py3-none-any.whl";var l=n.t(o);const p=n.p+"pypi/pyodide_kernel-0.2.3-py3-none-any.whl";var c=n.t(p);const u=n.p+"pypi/widgetsnbextension-3.6.6-py3-none-any.whl";var d=n.t(u);const m=n.p+"pypi/widgetsnbextension-4.0.10-py3-none-any.whl";var y=n.t(m),h=n(97930),g=n(1865),f=n(41465);const b=Symbol("Comlink.proxy"),_=Symbol("Comlink.endpoint"),w=Symbol("Comlink.releaseProxy"),v=Symbol("Comlink.finalizer"),k=Symbol("Comlink.thrown"),E=e=>"object"==typeof e&&null!==e||"function"==typeof e,x=new Map([["proxy",{canHandle:e=>E(e)&&e[b],serialize(e){const{port1:t,port2:n}=new MessageChannel;return P(e,t),[n,[n]]},deserialize:e=>(e.start(),O(e))}],["throw",{canHandle:e=>E(e)&&k in e,serialize({value:e}){let t;return t=e instanceof Error?{isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:{isError:!1,value:e},[t,[]]},deserialize(e){if(e.isError)throw Object.assign(new Error(e.value.message),e.value);throw e.value}}]]);function P(e,t=globalThis,n=["*"]){t.addEventListener("message",(function r(i){if(!i||!i.data)return;if(!function(e,t){for(const n of e){if(t===n||"*"===n)return!0;if(n instanceof RegExp&&n.test(t))return!0}return!1}(n,i.origin))return void console.warn(`Invalid origin '${i.origin}' for comlink proxy`);const{id:a,type:s,path:o}=Object.assign({path:[]},i.data),l=(i.data.argumentList||[]).map(T);let p;try{const t=o.slice(0,-1).reduce(((e,t)=>e[t]),e),n=o.reduce(((e,t)=>e[t]),e);switch(s){case"GET":p=n;break;case"SET":t[o.slice(-1)[0]]=T(i.data.value),p=!0;break;case"APPLY":p=n.apply(t,l);break;case"CONSTRUCT":p=function(e){return Object.assign(e,{[b]:!0})}(new n(...l));break;case"ENDPOINT":{const{port1:t,port2:n}=new MessageChannel;P(e,n),p=function(e,t){return L.set(e,t),e}(t,[t])}break;case"RELEASE":p=void 0;break;default:return}}catch(e){p={value:e,[k]:0}}Promise.resolve(p).catch((e=>({value:e,[k]:0}))).then((n=>{const[i,o]=W(n);t.postMessage(Object.assign(Object.assign({},i),{id:a}),o),"RELEASE"===s&&(t.removeEventListener("message",r),R(t),v in e&&"function"==typeof e[v]&&e[v]())})).catch((e=>{const[n,r]=W({value:new TypeError("Unserializable return value"),[k]:0});t.postMessage(Object.assign(Object.assign({},n),{id:a}),r)}))})),t.start&&t.start()}function R(e){(function(e){return"MessagePort"===e.constructor.name})(e)&&e.close()}function O(e,t){return M(e,[],t)}function S(e){if(e)throw new Error("Proxy has been released and is not useable")}function j(e){return K(e,{type:"RELEASE"}).then((()=>{R(e)}))}const C=new WeakMap,U="FinalizationRegistry"in globalThis&&new FinalizationRegistry((e=>{const t=(C.get(e)||0)-1;C.set(e,t),0===t&&j(e)}));function M(e,t=[],n=function(){}){let r=!1;const i=new Proxy(n,{get(n,a){if(S(r),a===w)return()=>{!function(e){U&&U.unregister(e)}(i),j(e),r=!0};if("then"===a){if(0===t.length)return{then:()=>i};const n=K(e,{type:"GET",path:t.map((e=>e.toString()))}).then(T);return n.then.bind(n)}return M(e,[...t,a])},set(n,i,a){S(r);const[s,o]=W(a);return K(e,{type:"SET",path:[...t,i].map((e=>e.toString())),value:s},o).then(T)},apply(n,i,a){S(r);const s=t[t.length-1];if(s===_)return K(e,{type:"ENDPOINT"}).then(T);if("bind"===s)return M(e,t.slice(0,-1));const[o,l]=A(a);return K(e,{type:"APPLY",path:t.map((e=>e.toString())),argumentList:o},l).then(T)},construct(n,i){S(r);const[a,s]=A(i);return K(e,{type:"CONSTRUCT",path:t.map((e=>e.toString())),argumentList:a},s).then(T)}});return function(e,t){const n=(C.get(t)||0)+1;C.set(t,n),U&&U.register(e,t,e)}(i,e),i}function A(e){const t=e.map(W);return[t.map((e=>e[0])),(n=t.map((e=>e[1])),Array.prototype.concat.apply([],n))];var n}const L=new WeakMap;function W(e){for(const[t,n]of x)if(n.canHandle(e)){const[r,i]=n.serialize(e);return[{type:"HANDLER",name:t,value:r},i]}return[{type:"RAW",value:e},L.get(e)||[]]}function T(e){switch(e.type){case"HANDLER":return x.get(e.name).deserialize(e.value);case"RAW":return e.value}}function K(e,t,n){return new Promise((r=>{const i=new Array(4).fill(0).map((()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16))).join("-");e.addEventListener("message",(function t(n){n.data&&n.data.id&&n.data.id===i&&(e.removeEventListener("message",t),r(n.data))})),e.start&&e.start(),e.postMessage(Object.assign({id:i},t),n)}))}class N extends f.BaseKernel{constructor(e){super(e),this._ready=new h.PromiseDelegate,this._worker=this.initWorker(e),this._worker.onmessage=e=>this._processWorkerMessage(e.data),this._remoteKernel=O(this._worker),this.initRemote(e)}initWorker(e){return new Worker(new URL(n.p+n.u(3880),n.b),{type:void 0})}async initRemote(e){const t=this.initRemoteOptions(e);await this._remoteKernel.initialize(t),this._ready.resolve()}initRemoteOptions(e){const{pyodideUrl:t}=e,n=t.slice(0,t.lastIndexOf("/")+1),i=g.PageConfig.getBaseUrl(),a=[...e.pipliteUrls||[],r],s=!!e.disablePyPIFallback;return{baseUrl:i,pyodideUrl:t,indexUrl:n,pipliteWheelUrl:e.pipliteWheelUrl||o,pipliteUrls:a,disablePyPIFallback:s,location:this.location,mountDrive:e.mountDrive}}dispose(){this.isDisposed||(this._worker.terminate(),this._worker=null,super.dispose())}get ready(){return this._ready.promise}_processWorkerMessage(e){var t,n,r,i,a,s,o;if(e.type)switch(e.type){case"stream":{const n=null!==(t=e.bundle)&&void 0!==t?t:{name:"stdout",text:""};this.stream(n,e.parentHeader);break}case"input_request":{const t=null!==(n=e.content)&&void 0!==n?n:{prompt:"",password:!1};this.inputRequest(t,e.parentHeader);break}case"display_data":{const t=null!==(r=e.bundle)&&void 0!==r?r:{data:{},metadata:{},transient:{}};this.displayData(t,e.parentHeader);break}case"update_display_data":{const t=null!==(i=e.bundle)&&void 0!==i?i:{data:{},metadata:{},transient:{}};this.updateDisplayData(t,e.parentHeader);break}case"clear_output":{const t=null!==(a=e.bundle)&&void 0!==a?a:{wait:!1};this.clearOutput(t,e.parentHeader);break}case"execute_result":{const t=null!==(s=e.bundle)&&void 0!==s?s:{execution_count:0,data:{},metadata:{}};this.publishExecuteResult(t,e.parentHeader);break}case"execute_error":{const t=null!==(o=e.bundle)&&void 0!==o?o:{ename:"",evalue:"",traceback:[]};this.publishExecuteError(t,e.parentHeader);break}case"comm_msg":case"comm_open":case"comm_close":this.handleComm(e.type,e.content,e.metadata,e.buffers,e.parentHeader)}}async kernelInfoRequest(){return{implementation:"pyodide",implementation_version:"0.1.0",language_info:{codemirror_mode:{name:"python",version:3},file_extension:".py",mimetype:"text/x-python",name:"python",nbconvert_exporter:"python",pygments_lexer:"ipython3",version:"3.8"},protocol_version:"5.3",status:"ok",banner:"A WebAssembly-powered Python kernel backed by Pyodide",help_links:[{text:"Python (WASM) Kernel",url:"https://pyodide.org"}]}}async executeRequest(e){await this.ready;const t=await this._remoteKernel.execute(e,this.parent);return t.execution_count=this.executionCount,t}async completeRequest(e){return await this._remoteKernel.complete(e,this.parent)}async inspectRequest(e){return await this._remoteKernel.inspect(e,this.parent)}async isCompleteRequest(e){return await this._remoteKernel.isComplete(e,this.parent)}async commInfoRequest(e){return await this._remoteKernel.commInfo(e,this.parent)}async commOpen(e){return await this._remoteKernel.commOpen(e,this.parent)}async commMsg(e){return await this._remoteKernel.commMsg(e,this.parent)}async commClose(e){return await this._remoteKernel.commClose(e,this.parent)}async inputReply(e){return await this._remoteKernel.inputReply(e,this.parent)}}const D=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema","$id":"https://jupyterlite-pyodide-kernel.readthedocs.org/en/latest/reference/schema/piplite-v0.html#","title":"PipLite Schema v0","description":"a schema for the warehouse-like API index","$ref":"#/definitions/top","definitions":{"top":{"type":"object","patternProperties":{".*":{"$ref":"#/definitions/a-piplite-project"}}},"a-piplite-project":{"type":"object","description":"a piplite-installable project, with one or more historical releases","properties":{"releases":{"patternProperties":{".*":{"type":"array","items":{"$ref":"#/definitions/a-piplite-distribution"}}}}}},"a-piplite-distribution":{"type":"object","properties":{"comment_text":{"type":"string"},"digests":{"type":"object","properties":{"md5":{"$ref":"#/definitions/an-md5-digest"},"sha256":{"$ref":"#/definitions/a-sha256-digest"}}},"downloads":{"type":"number"},"filename":{"type":"string"},"has_sig":{"type":"boolean"},"md5_digest":{"$ref":"#/definitions/an-md5-digest"},"packagetype":{"type":"string","enum":["bdist_wheel"]},"python_version":{"type":"string"},"requires_python":{"$ref":"#/definitions/string-or-null"},"size":{"type":"number"},"upload_time":{"type":"string","format":"date-time"},"upload_time_iso_8601":{"type":"string","format":"date-time"},"url":{"type":"string","format":"uri"},"yanked":{"type":"boolean"},"yanked_reason":{"$ref":"#/definitions/string-or-null"}}},"string-or-null":{"anyOf":[{"type":"string"},{"type":"null"}]},"an-md5-digest":{"type":"string","pattern":"[a-f0-9]{32}"},"a-sha256-digest":{"type":"string","pattern":"[a-f0-9]{64}"}}}');var H=n.t(D,2),I=n(83353)},69698:e=>{function t(e){return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}t.keys=()=>[],t.resolve=t,t.id=69698,e.exports=t}}]);