import{shallowRef as It,inject as re,unref as _,shallowReactive as Tt,nextTick as qt,defineComponent as F,reactive as Lt,computed as U,h as gt,provide as Oe,ref as D,watch as Nt,resolveComponent as te,openBlock as P,createElementBlock as T,createElementVNode as u,normalizeClass as qe,createCommentVNode as G,createVNode as x,withCtx as j,createTextVNode as K,toDisplayString as y,onMounted as _e,Fragment as ye,renderList as Le,createBlock as X,renderSlot as vt,watchEffect as De,Teleport as bt,withModifiers as Ne,createApp as Bt}from"vue";import{_ as yt,c as J,E as me,P as jt,b as Ht,N as ee,k as ge,e as Ue,a as wt,j as Vt,L as Dt,a7 as Ut,at as Gt,ad as Kt,d as Wt,ai as Ft,aj as Qt,am as Be,an as Yt,ao as Zt,ae as Xt,ap as Jt,Y as en,aq as tn,ar as nn,as as sn}from"./sentry.4.0.3.dev19461.js";import"./_commonjsHelpers.4.0.3.dev19461.js";function gr(){import.meta.url,import("_").catch(()=>1);async function*e(){}}/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const oe=typeof window<"u";function on(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const S=Object.assign;function ze(e,t){const n={};for(const s in t){const o=t[s];n[s]=W(o)?o.map(e):e(o)}return n}const fe=()=>{},W=Array.isArray,rn=/\/$/,an=e=>e.replace(rn,"");function xe(e,t,n="/"){let s,o={},c="",h="";const m=t.indexOf("#");let a=t.indexOf("?");return m<a&&m>=0&&(a=-1),a>-1&&(s=t.slice(0,a),c=t.slice(a+1,m>-1?m:t.length),o=e(c)),m>-1&&(s=s||t.slice(0,m),h=t.slice(m,t.length)),s=dn(s!=null?s:t,n),{fullPath:s+(c&&"?")+c+h,path:s,query:o,hash:h}}function ln(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function et(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function cn(e,t,n){const s=t.matched.length-1,o=n.matched.length-1;return s>-1&&s===o&&ae(t.matched[s],n.matched[o])&&Rt(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function ae(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Rt(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!un(e[n],t[n]))return!1;return!0}function un(e,t){return W(e)?tt(e,t):W(t)?tt(t,e):e===t}function tt(e,t){return W(t)?e.length===t.length&&e.every((n,s)=>n===t[s]):e.length===1&&e[0]===t}function dn(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),s=e.split("/"),o=s[s.length-1];(o===".."||o===".")&&s.push("");let c=n.length-1,h,m;for(h=0;h<s.length;h++)if(m=s[h],m!==".")if(m==="..")c>1&&c--;else break;return n.slice(0,c).join("/")+"/"+s.slice(h-(h===s.length?1:0)).join("/")}var pe;(function(e){e.pop="pop",e.push="push"})(pe||(pe={}));var he;(function(e){e.back="back",e.forward="forward",e.unknown=""})(he||(he={}));function fn(e){if(!e)if(oe){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),an(e)}const hn=/^[^#]+#/;function mn(e,t){return e.replace(hn,"#")+t}function pn(e,t){const n=document.documentElement.getBoundingClientRect(),s=e.getBoundingClientRect();return{behavior:t.behavior,left:s.left-n.left-(t.left||0),top:s.top-n.top-(t.top||0)}}const ke=()=>({left:window.pageXOffset,top:window.pageYOffset});function _n(e){let t;if("el"in e){const n=e.el,s=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=pn(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function nt(e,t){return(history.state?history.state.position-t:-1)+e}const je=new Map;function gn(e,t){je.set(e,t)}function vn(e){const t=je.get(e);return je.delete(e),t}let bn=()=>location.protocol+"//"+location.host;function kt(e,t){const{pathname:n,search:s,hash:o}=t,c=e.indexOf("#");if(c>-1){let m=o.includes(e.slice(c))?e.slice(c).length:1,a=o.slice(m);return a[0]!=="/"&&(a="/"+a),et(a,"")}return et(n,e)+s+o}function yn(e,t,n,s){let o=[],c=[],h=null;const m=({state:f})=>{const v=kt(e,location),R=n.value,I=t.value;let O=0;if(f){if(n.value=v,t.value=f,h&&h===R){h=null;return}O=I?f.position-I.position:0}else s(v);o.forEach(k=>{k(n.value,R,{delta:O,type:pe.pop,direction:O?O>0?he.forward:he.back:he.unknown})})};function a(){h=n.value}function d(f){o.push(f);const v=()=>{const R=o.indexOf(f);R>-1&&o.splice(R,1)};return c.push(v),v}function r(){const{history:f}=window;f.state&&f.replaceState(S({},f.state,{scroll:ke()}),"")}function l(){for(const f of c)f();c=[],window.removeEventListener("popstate",m),window.removeEventListener("beforeunload",r)}return window.addEventListener("popstate",m),window.addEventListener("beforeunload",r,{passive:!0}),{pauseListeners:a,listen:d,destroy:l}}function st(e,t,n,s=!1,o=!1){return{back:e,current:t,forward:n,replaced:s,position:window.history.length,scroll:o?ke():null}}function wn(e){const{history:t,location:n}=window,s={value:kt(e,n)},o={value:t.state};o.value||c(s.value,{back:null,current:s.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function c(a,d,r){const l=e.indexOf("#"),f=l>-1?(n.host&&document.querySelector("base")?e:e.slice(l))+a:bn()+e+a;try{t[r?"replaceState":"pushState"](d,"",f),o.value=d}catch(v){console.error(v),n[r?"replace":"assign"](f)}}function h(a,d){const r=S({},t.state,st(o.value.back,a,o.value.forward,!0),d,{position:o.value.position});c(a,r,!0),s.value=a}function m(a,d){const r=S({},o.value,t.state,{forward:a,scroll:ke()});c(r.current,r,!0);const l=S({},st(s.value,a,null),{position:r.position+1},d);c(a,l,!1),s.value=a}return{location:s,state:o,push:m,replace:h}}function Rn(e){e=fn(e);const t=wn(e),n=yn(e,t.state,t.location,t.replace);function s(c,h=!0){h||n.pauseListeners(),history.go(c)}const o=S({location:"",base:e,go:s,createHref:mn.bind(null,e)},t,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}function kn(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),Rn(e)}function $n(e){return typeof e=="string"||e&&typeof e=="object"}function $t(e){return typeof e=="string"||typeof e=="symbol"}const Y={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Et=Symbol("");var ot;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(ot||(ot={}));function ie(e,t){return S(new Error,{type:e,[Et]:!0},t)}function Q(e,t){return e instanceof Error&&Et in e&&(t==null||!!(e.type&t))}const rt="[^/]+?",En={sensitive:!1,strict:!1,start:!0,end:!0},Cn=/[.+*?^${}()[\]/\\]/g;function Pn(e,t){const n=S({},En,t),s=[];let o=n.start?"^":"";const c=[];for(const d of e){const r=d.length?[]:[90];n.strict&&!d.length&&(o+="/");for(let l=0;l<d.length;l++){const f=d[l];let v=40+(n.sensitive?.25:0);if(f.type===0)l||(o+="/"),o+=f.value.replace(Cn,"\\$&"),v+=40;else if(f.type===1){const{value:R,repeatable:I,optional:O,regexp:k}=f;c.push({name:R,repeatable:I,optional:O});const E=k||rt;if(E!==rt){v+=10;try{new RegExp("(".concat(E,")"))}catch(V){throw new Error('Invalid custom RegExp for param "'.concat(R,'" (').concat(E,"): ")+V.message)}}let B=I?"((?:".concat(E,")(?:/(?:").concat(E,"))*)"):"(".concat(E,")");l||(B=O&&d.length<2?"(?:/".concat(B,")"):"/"+B),O&&(B+="?"),o+=B,v+=20,O&&(v+=-8),I&&(v+=-20),E===".*"&&(v+=-50)}r.push(v)}s.push(r)}if(n.strict&&n.end){const d=s.length-1;s[d][s[d].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&(o+="(?:/|$)");const h=new RegExp(o,n.sensitive?"":"i");function m(d){const r=d.match(h),l={};if(!r)return null;for(let f=1;f<r.length;f++){const v=r[f]||"",R=c[f-1];l[R.name]=v&&R.repeatable?v.split("/"):v}return l}function a(d){let r="",l=!1;for(const f of e){(!l||!r.endsWith("/"))&&(r+="/"),l=!1;for(const v of f)if(v.type===0)r+=v.value;else if(v.type===1){const{value:R,repeatable:I,optional:O}=v,k=R in d?d[R]:"";if(W(k)&&!I)throw new Error('Provided param "'.concat(R,'" is an array but it is not repeatable (* or + modifiers)'));const E=W(k)?k.join("/"):k;if(!E)if(O)f.length<2&&(r.endsWith("/")?r=r.slice(0,-1):l=!0);else throw new Error('Missing required param "'.concat(R,'"'));r+=E}}return r||"/"}return{re:h,score:s,keys:c,parse:m,stringify:a}}function Sn(e,t){let n=0;for(;n<e.length&&n<t.length;){const s=t[n]-e[n];if(s)return s;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function An(e,t){let n=0;const s=e.score,o=t.score;for(;n<s.length&&n<o.length;){const c=Sn(s[n],o[n]);if(c)return c;n++}if(Math.abs(o.length-s.length)===1){if(at(s))return 1;if(at(o))return-1}return o.length-s.length}function at(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Mn={type:0,value:""},On=/[a-zA-Z0-9_]/;function zn(e){if(!e)return[[]];if(e==="/")return[[Mn]];if(!e.startsWith("/"))throw new Error('Invalid path "'.concat(e,'"'));function t(v){throw new Error("ERR (".concat(n,')/"').concat(d,'": ').concat(v))}let n=0,s=n;const o=[];let c;function h(){c&&o.push(c),c=[]}let m=0,a,d="",r="";function l(){d&&(n===0?c.push({type:0,value:d}):n===1||n===2||n===3?(c.length>1&&(a==="*"||a==="+")&&t("A repeatable param (".concat(d,") must be alone in its segment. eg: '/:ids+.")),c.push({type:1,value:d,regexp:r,repeatable:a==="*"||a==="+",optional:a==="*"||a==="?"})):t("Invalid state to consume buffer"),d="")}function f(){d+=a}for(;m<e.length;){if(a=e[m++],a==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:a==="/"?(d&&l(),h()):a===":"?(l(),n=1):f();break;case 4:f(),n=s;break;case 1:a==="("?n=2:On.test(a)?f():(l(),n=0,a!=="*"&&a!=="?"&&a!=="+"&&m--);break;case 2:a===")"?r[r.length-1]=="\\"?r=r.slice(0,-1)+a:n=3:r+=a;break;case 3:l(),n=0,a!=="*"&&a!=="?"&&a!=="+"&&m--,r="";break;default:t("Unknown state");break}}return n===2&&t('Unfinished custom RegExp for param "'.concat(d,'"')),l(),h(),o}function xn(e,t,n){const s=Pn(zn(e.path),n),o=S(s,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function In(e,t){const n=[],s=new Map;t=ct({strict:!1,end:!0,sensitive:!1},t);function o(r){return s.get(r)}function c(r,l,f){const v=!f,R=Tn(r);R.aliasOf=f&&f.record;const I=ct(t,r),O=[R];if("alias"in r){const B=typeof r.alias=="string"?[r.alias]:r.alias;for(const V of B)O.push(S({},R,{components:f?f.record.components:R.components,path:V,aliasOf:f?f.record:R}))}let k,E;for(const B of O){const{path:V}=B;if(l&&V[0]!=="/"){const w=l.record.path,A=w[w.length-1]==="/"?"":"/";B.path=l.record.path+(V&&A+V)}if(k=xn(B,l,I),f?f.alias.push(k):(E=E||k,E!==k&&E.alias.push(k),v&&r.name&&!lt(k)&&h(r.name)),R.children){const w=R.children;for(let A=0;A<w.length;A++)c(w[A],k,f&&f.children[A])}f=f||k,(k.record.components&&Object.keys(k.record.components).length||k.record.name||k.record.redirect)&&a(k)}return E?()=>{h(E)}:fe}function h(r){if($t(r)){const l=s.get(r);l&&(s.delete(r),n.splice(n.indexOf(l),1),l.children.forEach(h),l.alias.forEach(h))}else{const l=n.indexOf(r);l>-1&&(n.splice(l,1),r.record.name&&s.delete(r.record.name),r.children.forEach(h),r.alias.forEach(h))}}function m(){return n}function a(r){let l=0;for(;l<n.length&&An(r,n[l])>=0&&(r.record.path!==n[l].record.path||!Ct(r,n[l]));)l++;n.splice(l,0,r),r.record.name&&!lt(r)&&s.set(r.record.name,r)}function d(r,l){let f,v={},R,I;if("name"in r&&r.name){if(f=s.get(r.name),!f)throw ie(1,{location:r});I=f.record.name,v=S(it(l.params,f.keys.filter(E=>!E.optional).map(E=>E.name)),r.params&&it(r.params,f.keys.map(E=>E.name))),R=f.stringify(v)}else if("path"in r)R=r.path,f=n.find(E=>E.re.test(R)),f&&(v=f.parse(R),I=f.record.name);else{if(f=l.name?s.get(l.name):n.find(E=>E.re.test(l.path)),!f)throw ie(1,{location:r,currentLocation:l});I=f.record.name,v=S({},l.params,r.params),R=f.stringify(v)}const O=[];let k=f;for(;k;)O.unshift(k.record),k=k.parent;return{name:I,path:R,params:v,matched:O,meta:Ln(O)}}return e.forEach(r=>c(r)),{addRoute:c,resolve:d,removeRoute:h,getRoutes:m,getRecordMatcher:o}}function it(e,t){const n={};for(const s of t)s in e&&(n[s]=e[s]);return n}function Tn(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:qn(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function qn(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const s in e.components)t[s]=typeof n=="object"?n[s]:n;return t}function lt(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Ln(e){return e.reduce((t,n)=>S(t,n.meta),{})}function ct(e,t){const n={};for(const s in e)n[s]=s in t?t[s]:e[s];return n}function Ct(e,t){return t.children.some(n=>n===e||Ct(e,n))}const Pt=/#/g,Nn=/&/g,Bn=/\//g,jn=/=/g,Hn=/\?/g,St=/\+/g,Vn=/%5B/g,Dn=/%5D/g,At=/%5E/g,Un=/%60/g,Mt=/%7B/g,Gn=/%7C/g,Ot=/%7D/g,Kn=/%20/g;function Ge(e){return encodeURI(""+e).replace(Gn,"|").replace(Vn,"[").replace(Dn,"]")}function Wn(e){return Ge(e).replace(Mt,"{").replace(Ot,"}").replace(At,"^")}function He(e){return Ge(e).replace(St,"%2B").replace(Kn,"+").replace(Pt,"%23").replace(Nn,"%26").replace(Un,"`").replace(Mt,"{").replace(Ot,"}").replace(At,"^")}function Fn(e){return He(e).replace(jn,"%3D")}function Qn(e){return Ge(e).replace(Pt,"%23").replace(Hn,"%3F")}function Yn(e){return e==null?"":Qn(e).replace(Bn,"%2F")}function Re(e){try{return decodeURIComponent(""+e)}catch(t){}return""+e}function Zn(e){const t={};if(e===""||e==="?")return t;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<s.length;++o){const c=s[o].replace(St," "),h=c.indexOf("="),m=Re(h<0?c:c.slice(0,h)),a=h<0?null:Re(c.slice(h+1));if(m in t){let d=t[m];W(d)||(d=t[m]=[d]),d.push(a)}else t[m]=a}return t}function ut(e){let t="";for(let n in e){const s=e[n];if(n=Fn(n),s==null){s!==void 0&&(t+=(t.length?"&":"")+n);continue}(W(s)?s.map(c=>c&&He(c)):[s&&He(s)]).forEach(c=>{c!==void 0&&(t+=(t.length?"&":"")+n,c!=null&&(t+="="+c))})}return t}function Xn(e){const t={};for(const n in e){const s=e[n];s!==void 0&&(t[n]=W(s)?s.map(o=>o==null?null:""+o):s==null?s:""+s)}return t}const Jn=Symbol(""),dt=Symbol(""),Ke=Symbol(""),We=Symbol(""),Ve=Symbol("");function de(){let e=[];function t(s){return e.push(s),()=>{const o=e.indexOf(s);o>-1&&e.splice(o,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Z(e,t,n,s,o){const c=s&&(s.enterCallbacks[o]=s.enterCallbacks[o]||[]);return()=>new Promise((h,m)=>{const a=l=>{l===!1?m(ie(4,{from:n,to:t})):l instanceof Error?m(l):$n(l)?m(ie(2,{from:t,to:l})):(c&&s.enterCallbacks[o]===c&&typeof l=="function"&&c.push(l),h())},d=e.call(s&&s.instances[o],t,n,a);let r=Promise.resolve(d);e.length<3&&(r=r.then(a)),r.catch(l=>m(l))})}function Ie(e,t,n,s){const o=[];for(const c of e)for(const h in c.components){let m=c.components[h];if(!(t!=="beforeRouteEnter"&&!c.instances[h]))if(es(m)){const d=(m.__vccOpts||m)[t];d&&o.push(Z(d,n,s,c,h))}else{let a=m();o.push(()=>a.then(d=>{if(!d)return Promise.reject(new Error("Couldn't resolve component \"".concat(h,'" at "').concat(c.path,'"')));const r=on(d)?d.default:d;c.components[h]=r;const f=(r.__vccOpts||r)[t];return f&&Z(f,n,s,c,h)()}))}}return o}function es(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function ft(e){const t=re(Ke),n=re(We),s=U(()=>t.resolve(_(e.to))),o=U(()=>{const{matched:a}=s.value,{length:d}=a,r=a[d-1],l=n.matched;if(!r||!l.length)return-1;const f=l.findIndex(ae.bind(null,r));if(f>-1)return f;const v=ht(a[d-2]);return d>1&&ht(r)===v&&l[l.length-1].path!==v?l.findIndex(ae.bind(null,a[d-2])):f}),c=U(()=>o.value>-1&&os(n.params,s.value.params)),h=U(()=>o.value>-1&&o.value===n.matched.length-1&&Rt(n.params,s.value.params));function m(a={}){return ss(a)?t[_(e.replace)?"replace":"push"](_(e.to)).catch(fe):Promise.resolve()}return{route:s,href:U(()=>s.value.href),isActive:c,isExactActive:h,navigate:m}}const ts=F({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:ft,setup(e,{slots:t}){const n=Lt(ft(e)),{options:s}=re(Ke),o=U(()=>({[mt(e.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[mt(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const c=t.default&&t.default(n);return e.custom?c:gt("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},c)}}}),ns=ts;function ss(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function os(e,t){for(const n in t){const s=t[n],o=e[n];if(typeof s=="string"){if(s!==o)return!1}else if(!W(o)||o.length!==s.length||s.some((c,h)=>c!==o[h]))return!1}return!0}function ht(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const mt=(e,t,n)=>e!=null?e:t!=null?t:n,rs=F({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const s=re(Ve),o=U(()=>e.route||s.value),c=re(dt,0),h=U(()=>{let d=_(c);const{matched:r}=o.value;let l;for(;(l=r[d])&&!l.components;)d++;return d}),m=U(()=>o.value.matched[h.value]);Oe(dt,U(()=>h.value+1)),Oe(Jn,m),Oe(Ve,o);const a=D();return Nt(()=>[a.value,m.value,e.name],([d,r,l],[f,v,R])=>{r&&(r.instances[l]=d,v&&v!==r&&d&&d===f&&(r.leaveGuards.size||(r.leaveGuards=v.leaveGuards),r.updateGuards.size||(r.updateGuards=v.updateGuards))),d&&r&&(!v||!ae(r,v)||!f)&&(r.enterCallbacks[l]||[]).forEach(I=>I(d))},{flush:"post"}),()=>{const d=o.value,r=e.name,l=m.value,f=l&&l.components[r];if(!f)return pt(n.default,{Component:f,route:d});const v=l.props[r],R=v?v===!0?d.params:typeof v=="function"?v(d):v:null,O=gt(f,S({},R,t,{onVnodeUnmounted:k=>{k.component.isUnmounted&&(l.instances[r]=null)},ref:a}));return pt(n.default,{Component:O,route:d})||O}}});function pt(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const as=rs;function is(e){const t=In(e.routes,e),n=e.parseQuery||Zn,s=e.stringifyQuery||ut,o=e.history,c=de(),h=de(),m=de(),a=It(Y);let d=Y;oe&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const r=ze.bind(null,i=>""+i),l=ze.bind(null,Yn),f=ze.bind(null,Re);function v(i,g){let p,b;return $t(i)?(p=t.getRecordMatcher(i),b=g):b=i,t.addRoute(b,p)}function R(i){const g=t.getRecordMatcher(i);g&&t.removeRoute(g)}function I(){return t.getRoutes().map(i=>i.record)}function O(i){return!!t.getRecordMatcher(i)}function k(i,g){if(g=S({},g||a.value),typeof i=="string"){const $=xe(n,i,g.path),N=t.resolve({path:$.path},g),ue=o.createHref($.fullPath);return S($,N,{params:f(N.params),hash:Re($.hash),redirectedFrom:void 0,href:ue})}let p;if("path"in i)p=S({},i,{path:xe(n,i.path,g.path).path});else{const $=S({},i.params);for(const N in $)$[N]==null&&delete $[N];p=S({},i,{params:l($)}),g.params=l(g.params)}const b=t.resolve(p,g),M=i.hash||"";b.params=r(f(b.params));const L=ln(s,S({},i,{hash:Wn(M),path:b.path})),C=o.createHref(L);return S({fullPath:L,hash:M,query:s===ut?Xn(i.query):i.query||{}},b,{redirectedFrom:void 0,href:C})}function E(i){return typeof i=="string"?xe(n,i,a.value.path):S({},i)}function B(i,g){if(d!==i)return ie(8,{from:g,to:i})}function V(i){return q(i)}function w(i){return V(S(E(i),{replace:!0}))}function A(i){const g=i.matched[i.matched.length-1];if(g&&g.redirect){const{redirect:p}=g;let b=typeof p=="function"?p(i):p;return typeof b=="string"&&(b=b.includes("?")||b.includes("#")?b=E(b):{path:b},b.params={}),S({query:i.query,hash:i.hash,params:"path"in b?{}:i.params},b)}}function q(i,g){const p=d=k(i),b=a.value,M=i.state,L=i.force,C=i.replace===!0,$=A(p);if($)return q(S(E($),{state:typeof $=="object"?S({},M,$.state):M,force:L,replace:C}),g||p);const N=p;N.redirectedFrom=g;let ue;return!L&&cn(s,b,p)&&(ue=ie(16,{to:N,from:b}),Xe(b,b,!0,!1)),(ue?Promise.resolve(ue):Fe(N,b)).catch(H=>Q(H)?Q(H,2)?H:Se(H):Pe(H,N,b)).then(H=>{if(H){if(Q(H,2))return q(S({replace:C},E(H.to),{state:typeof H.to=="object"?S({},M,H.to.state):M,force:L}),g||N)}else H=Ye(N,b,!0,C,M);return Qe(N,b,H),H})}function z(i,g){const p=B(i,g);return p?Promise.reject(p):Promise.resolve()}function ne(i){const g=be.values().next().value;return g&&typeof g.runWithContext=="function"?g.runWithContext(i):i()}function Fe(i,g){let p;const[b,M,L]=ls(i,g);p=Ie(b.reverse(),"beforeRouteLeave",i,g);for(const $ of b)$.leaveGuards.forEach(N=>{p.push(Z(N,i,g))});const C=z.bind(null,i,g);return p.push(C),se(p).then(()=>{p=[];for(const $ of c.list())p.push(Z($,i,g));return p.push(C),se(p)}).then(()=>{p=Ie(M,"beforeRouteUpdate",i,g);for(const $ of M)$.updateGuards.forEach(N=>{p.push(Z(N,i,g))});return p.push(C),se(p)}).then(()=>{p=[];for(const $ of L)if($.beforeEnter)if(W($.beforeEnter))for(const N of $.beforeEnter)p.push(Z(N,i,g));else p.push(Z($.beforeEnter,i,g));return p.push(C),se(p)}).then(()=>(i.matched.forEach($=>$.enterCallbacks={}),p=Ie(L,"beforeRouteEnter",i,g),p.push(C),se(p))).then(()=>{p=[];for(const $ of h.list())p.push(Z($,i,g));return p.push(C),se(p)}).catch($=>Q($,8)?$:Promise.reject($))}function Qe(i,g,p){m.list().forEach(b=>ne(()=>b(i,g,p)))}function Ye(i,g,p,b,M){const L=B(i,g);if(L)return L;const C=g===Y,$=oe?history.state:{};p&&(b||C?o.replace(i.fullPath,S({scroll:C&&$&&$.scroll},M)):o.push(i.fullPath,M)),a.value=i,Xe(i,g,p,C),Se()}let ce;function zt(){ce||(ce=o.listen((i,g,p)=>{if(!Je.listening)return;const b=k(i),M=A(b);if(M){q(S(M,{replace:!0}),b).catch(fe);return}d=b;const L=a.value;oe&&gn(nt(L.fullPath,p.delta),ke()),Fe(b,L).catch(C=>Q(C,12)?C:Q(C,2)?(q(C.to,b).then($=>{Q($,20)&&!p.delta&&p.type===pe.pop&&o.go(-1,!1)}).catch(fe),Promise.reject()):(p.delta&&o.go(-p.delta,!1),Pe(C,b,L))).then(C=>{C=C||Ye(b,L,!1),C&&(p.delta&&!Q(C,8)?o.go(-p.delta,!1):p.type===pe.pop&&Q(C,20)&&o.go(-1,!1)),Qe(b,L,C)}).catch(fe)}))}let Ce=de(),Ze=de(),ve;function Pe(i,g,p){Se(i);const b=Ze.list();return b.length?b.forEach(M=>M(i,g,p)):console.error(i),Promise.reject(i)}function xt(){return ve&&a.value!==Y?Promise.resolve():new Promise((i,g)=>{Ce.add([i,g])})}function Se(i){return ve||(ve=!i,zt(),Ce.list().forEach(([g,p])=>i?p(i):g()),Ce.reset()),i}function Xe(i,g,p,b){const{scrollBehavior:M}=e;if(!oe||!M)return Promise.resolve();const L=!p&&vn(nt(i.fullPath,0))||(b||!p)&&history.state&&history.state.scroll||null;return qt().then(()=>M(i,g,L)).then(C=>C&&_n(C)).catch(C=>Pe(C,i,g))}const Ae=i=>o.go(i);let Me;const be=new Set,Je={currentRoute:a,listening:!0,addRoute:v,removeRoute:R,hasRoute:O,getRoutes:I,resolve:k,options:e,push:V,replace:w,go:Ae,back:()=>Ae(-1),forward:()=>Ae(1),beforeEach:c.add,beforeResolve:h.add,afterEach:m.add,onError:Ze.add,isReady:xt,install(i){const g=this;i.component("RouterLink",ns),i.component("RouterView",as),i.config.globalProperties.$router=g,Object.defineProperty(i.config.globalProperties,"$route",{enumerable:!0,get:()=>_(a)}),oe&&!Me&&a.value===Y&&(Me=!0,V(o.location).catch(M=>{}));const p={};for(const M in Y)Object.defineProperty(p,M,{get:()=>a.value[M],enumerable:!0});i.provide(Ke,g),i.provide(We,Tt(p)),i.provide(Ve,a);const b=i.unmount;be.add(i),i.unmount=function(){be.delete(i),be.size<1&&(d=Y,ce&&ce(),ce=null,a.value=Y,Me=!1,ve=!1),b()}}};function se(i){return i.reduce((g,p)=>g.then(()=>ne(p)),Promise.resolve())}return Je}function ls(e,t){const n=[],s=[],o=[],c=Math.max(t.matched.length,e.matched.length);for(let h=0;h<c;h++){const m=t.matched[h];m&&(e.matched.find(d=>ae(d,m))?s.push(m):n.push(m));const a=e.matched[h];a&&(t.matched.find(d=>ae(d,a))||o.push(a))}return[n,s,o]}function cs(){return re(We)}const us={class:"fr-sidemenu__item"},ds=["innerHTML"],fs=F({__name:"AdminSidebarLink",props:{label:{},icon:{},iconHtml:{},to:{}},setup(e){return(t,n)=>{const s=te("router-link");return P(),T("li",us,[u("div",{class:qe([{"fr-icon-svg fr-icon--sm":t.iconHtml},"fr-enlarge-link fr-sidemenu__link fr-mb-1w"])},[t.iconHtml?(P(),T("div",{key:0,class:"fr-mr-1w fr-grid-row",innerHTML:t.iconHtml},null,8,ds)):t.icon?(P(),T("div",{key:1,class:qe([t.icon,"fr-mr-1w fr-icon--sm"]),"aria-hidden":"true"},null,2)):G("",!0),x(s,{to:t.to},{default:j(()=>[K(y(t.label),1)]),_:1},8,["to"])],2)])}}});const we=yt(fs,[["__scopeId","data-v-6240fbee"]]),hs='<svg width="24" height="24" stroke-width="1.5" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M5 12V18C5 18 5 21 12 21C19 21 19 18 19 18V12" stroke="currentColor" stroke-width="1.5"/>\n<path d="M5 6V12C5 12 5 15 12 15C19 15 19 12 19 12V6" stroke="currentColor" stroke-width="1.5"/>\n<path d="M12 3C19 3 19 6 19 6C19 6 19 9 12 9C5 9 5 6 5 6C5 6 5 3 12 3Z" stroke="currentColor" stroke-width="1.5"/>\n</svg>\n',ms=["aria-expanded","aria-controls","aria-current"],ps={class:"logo logo--sm"},_s={class:"fr-mx-1w fr-col text-overflow-ellipsis"},gs=["id"],vs={class:"fr-sidemenu__list fr-mx-1w fr-my-3v"},bs=F({__name:"AdminSidebarOrganizationMenu",props:{organization:{},isOpened:{type:Boolean}},setup(e){const{t}=J(),n=me("organization-menu");return(s,o)=>(P(),T("li",{class:qe(["fr-sidemenu__item",{"fr-sidemenu__item--active":s.isOpened}])},[u("button",{class:"fr-sidemenu__btn","aria-expanded":s.isOpened,"aria-controls":_(n),"aria-current":s.isOpened},[u("div",ps,[x(jt,{type:"organization",src:s.organization.logo_thumbnail,size:20},null,8,["src"])]),u("p",_s,y(s.organization.name),1)],8,ms),u("div",{class:"fr-collapse","data-fr-js-collapse":"",id:_(n)},[u("ul",vs,[x(we,{iconHtml:_(hs),label:_(t)("Datasets"),to:{name:"organization-datasets",params:{oid:s.organization.id}}},null,8,["iconHtml","label","to"]),x(we,{icon:"fr-icon-line-chart-line",label:_(t)("Reuses"),to:{name:"organization-reuses",params:{oid:s.organization.id}}},null,8,["label","to"]),x(we,{icon:"fr-icon-parent-line",label:_(t)("Members"),to:{name:"organization-members",params:{oid:s.organization.id}}},null,8,["label","to"])])],8,gs)],2))}});const ys=yt(bs,[["__scopeId","data-v-88e26365"]]);let Te;function $e(){return Ht(),Te||(Te=ee.get(ge("me/")).then(e=>e.data))}const ws={class:"fr-container--fluid h-100"},Rs={class:"fr-grid-row h-100 bg-grey-50"},ks={class:"fr-col-12 fr-col-md-4 fr-col-lg-3 fr-col-xl-2"},$s=["aria-label"],Es={class:"fr-sidemenu__inner"},Cs=["aria-controls"],Ps=["id"],Ss={class:"fr-sidemenu__list"},As={class:"fr-sidemenu__item"},Ms=["aria-controls"],Os={class:"fr-mx-1v"},zs=["id"],xs={class:"fr-col-12 fr-col-md-8 fr-col-lg-9 fr-col-xl-10 h-100 fr-px-2w"},Is=F({__name:"Admin",setup(e){const{t}=J(),n=cs(),s=me("menu"),o=me("profil-submenu"),c=D(null),h=D(null);function m(a){return a===h.value}return _e(async()=>{c.value=await $e(),c.value.organizations.length>0&&(n.params.oid?h.value=n.params.oid:h.value=c.value.organizations[0].id)}),(a,d)=>{const r=te("router-view");return P(),T("div",ws,[u("div",Rs,[u("div",ks,[u("nav",{class:"fr-sidemenu","aria-label":_(t)("Administration menu")},[u("div",Es,[u("button",{class:"fr-sidemenu__btn",hidden:"","aria-controls":_(s),"aria-expanded":"false"},y(_(t)("Open menu")),9,Cs),u("div",{class:"fr-collapse",id:_(s)},[u("ul",Ss,[u("li",As,[u("button",{class:"fr-sidemenu__btn border-bottom border-default-grey","aria-expanded":"false","aria-controls":_(o)},[x(Ue,{user:_(wt),size:24,rounded:!0},null,8,["user"]),u("p",Os,y(_(t)("My Profil")),1)],8,Ms),u("div",{class:"fr-collapse",id:_(o)},[x(we,{icon:"fr-icon-account-circle-line",label:_(t)("Me"),to:"/me"},null,8,["label"])],8,zs)]),c.value?(P(!0),T(ye,{key:0},Le(c.value.organizations,l=>(P(),X(ys,{organization:l,"is-opened":m(l.id)},null,8,["organization","is-opened"]))),256)):G("",!0)])],8,Ps)])],8,$s)]),u("div",xs,[(P(),X(r,{key:_(n).fullPath}))])])])}}});const Ts=["aria-label"],qs={class:"fr-breadcrumb__list"},Ee={__name:"Breadcrumb",setup(e){const{t}=J();return(n,s)=>(P(),T("nav",{rol:"navigation","aria-label":_(t)("You're here:"),class:"fr-breadcrumb fr-mb-5v"},[u("ol",qs,[vt(n.$slots,"default")])],8,Ts))}},Ls={class:"fr-container--fluid"},Ns={key:0},Bs={class:"fr-breadcrumb__link","aria-current":"page"},js={class:"fr-alert fr-alert--info"},Hs={class:"fr-alert__title"},Vs=F({__name:"Datasets",props:{oid:{}},setup(e){const{t}=J(),n=e,s="/admin/organization/".concat(n.oid,"/"),o=D(null),c=D(null);return _e(async()=>o.value=await $e()),De(()=>{var h,m;c.value=(m=(h=o.value)==null?void 0:h.organizations.find(a=>a.id===n.oid))!=null?m:null}),(h,m)=>{const a=te("router-link");return P(),T("div",Ls,[x(Ee,null,{default:j(()=>[u("li",null,[x(a,{class:"fr-breadcrumb__link",to:"/"},{default:j(()=>[K(y(_(t)("Administration")),1)]),_:1})]),c.value?(P(),T("li",Ns,[x(a,{class:"fr-breadcrumb__link",to:"/"},{default:j(()=>[K(y(c.value.name),1)]),_:1})])):G("",!0),u("li",null,[u("a",Bs,y(_(t)("Datasets")),1)])]),_:1}),u("div",js,[u("h3",Hs,y(_(t)("This is a WIP page")),1),u("p",null,[u("a",{href:s},y(_(t)("You can manage your datasets on the current admin.")),1)])])])}}}),Ds={class:"fr-container--fluid"},Us={key:0},Gs={class:"fr-breadcrumb__link","aria-current":"page"},Ks={class:"fr-alert fr-alert--info"},Ws={class:"fr-alert__title"},Fs=F({__name:"Reuses",props:{oid:{}},setup(e){const{t}=J(),n=e,s="/admin/organization/".concat(n.oid,"/"),o=D(null),c=D(null);return _e(async()=>o.value=await $e()),De(()=>{var h,m;c.value=(m=(h=o.value)==null?void 0:h.organizations.find(a=>a.id===n.oid))!=null?m:null}),(h,m)=>{const a=te("router-link");return P(),T("div",Ds,[x(Ee,null,{default:j(()=>[u("li",null,[x(a,{class:"fr-breadcrumb__link",to:"/"},{default:j(()=>[K(y(_(t)("Administration")),1)]),_:1})]),c.value?(P(),T("li",Us,[x(a,{class:"fr-breadcrumb__link",to:"/"},{default:j(()=>[K(y(c.value.name),1)]),_:1})])):G("",!0),u("li",null,[u("a",Gs,y(_(t)("Reuses")),1)])]),_:1}),u("div",Ks,[u("h3",Ws,y(_(t)("This is a WIP page")),1),u("p",null,[u("a",{href:s},y(_(t)("You can manage your reuses on the current admin.")),1)])])])}}}),Qs={class:"fr-container--fluid"},Ys={class:"fr-breadcrumb__link","aria-current":"page"},Zs={key:0,class:"fr-h1"},Xs={class:"fr-alert fr-alert--info"},Js={class:"fr-alert__title"},eo={href:"/admin/me/"},to=F({__name:"Me",setup(e){const{t}=J(),n=D(null);return _e(async()=>n.value=await $e()),(s,o)=>{const c=te("router-link");return P(),T("div",Qs,[x(Ee,null,{default:j(()=>[u("li",null,[x(c,{class:"fr-breadcrumb__link",to:"/"},{default:j(()=>[K(y(_(t)("Administration")),1)]),_:1})]),u("li",null,[u("a",Ys,y(_(t)("Me")),1)])]),_:1}),n.value?(P(),T("h1",Zs,y(n.value.first_name)+" "+y(n.value.last_name),1)):G("",!0),u("div",Xs,[u("h3",Js,y(_(t)("This is a WIP page")),1),u("p",null,[u("a",eo,y(_(t)("You can edit your profil on the current admin.")),1)])])])}}});function no(e){return ee.get(ge("organizations/".concat(e,"/"))).then(t=>t.data)}function _t(e){return ee.get(ge("organizations/".concat(e,"/membership/")),{params:{status:"pending"}}).then(t=>t.data)}function so(){return ee.get(ge("organizations/roles/")).then(e=>e.data)}function oo(e){return e.map(t=>({label:t.label,value:t.id}))}function ro(e,t,n){return ee.put(ge("organizations/".concat(e,"/member/").concat(t)),{role:n}).then(s=>s.data)}function ao(e,t){return ee.delete("organizations/".concat(e,"/member/").concat(t))}function io(e,t){return ee.post("organizations/".concat(e,"/membership/").concat(t,"/accept")).then(n=>n.data)}function lo(e,t,n){return ee.post("organizations/".concat(e,"/membership/").concat(t,"/refuse"),{comment:n}).then(s=>s.data)}const co={class:"fr-grid-row fr-grid-row--gutters fr-grid-row--middle"},uo=F({__name:"AdminDangerZone",setup(e){return(t,n)=>(P(),X(_(Vt),{color:"error",type:"secondary",weight:"regular"},{default:j(()=>[u("div",co,[vt(t.$slots,"default")])]),_:3}))}}),fo={class:"fr-mt-n9v fr-mb-2w"},ho={class:"fr-badge fr-badge--info fr-badge--no-icon"},mo=u("span",{class:"fr-icon-user-add-line","aria-hidden":"true"},null,-1),po={class:"fr-grid-row fr-grid-row--gutters fr-grid-row--middle"},_o={class:"fr-col"},go={class:"fr-grid-row fr-grid-row--middle"},vo={class:"fr-ml-3v fr-mt-1-5v fr-mb-0 filet filet-default-grey fr-text--sm"},bo={key:0,class:"fr-col-auto fr-grid-row flex-direction-column"},yo=["disabled"],wo=["disabled","aria-controls"],Ro=["aria-labelledby","id"],ko={class:"fr-container fr-container--fluid fr-container-md"},$o={class:"fr-grid-row fr-grid-row--center"},Eo={class:"fr-col-12 fr-col-md-8"},Co={class:"fr-modal__body"},Po={class:"fr-modal__header"},So=["title","aria-controls"],Ao={class:"fr-modal__content"},Mo=["id"],Oo={class:"fr-grid-row fr-grid-row--gutters fr-grid-row--right"},zo={class:"fr-col-auto"},xo=["disabled"],Io={class:"fr-col-auto"},To=["disabled"],qo=F({__name:"MembershipRequest",props:{loading:{type:Boolean},oid:{},request:{},showActions:{type:Boolean}},emits:["accept","refuse"],setup(e,{emit:t}){const n=e,s=t,{t:o}=J(),c=D(""),h=me("modal"),m=me("modalTitle");function a(){const l=document.getElementById(h);globalThis.dsfr(l).modal.conceal()}function d(){s("refuse",n.request.id,c.value),a()}function r(){c.value="",a()}return(l,f)=>{const v=te("MembershipRequest",!0);return P(),X(Dt,{class:"drop-shadow rounded-xxs fr-mt-3w"},{default:j(()=>[u("div",fo,[u("p",ho,[mo,K(" "+y(_(o)("Membership Request")),1)])]),u("div",po,[u("div",_o,[u("div",go,[x(Ue,{class:"fr-mr-1v",user:l.request.user,rounded:!0,size:24},null,8,["user"]),K(" "+y(_(o)("{fullName} asks to join the organization.",{fullName:l.request.user.first_name+" "+l.request.user.last_name})),1)]),u("div",vo,y(l.request.comment),1)]),l.showActions?(P(),T("div",bo,[u("button",{class:"fr-btn fr-btn--sm fr-btn--icon-left fr-mb-1w fr-icon-check-line",onClick:f[0]||(f[0]=R=>l.$emit("accept",l.request.id)),disabled:l.loading,"data-testid":"accept"},y(_(o)("Accept request")),9,yo),u("button",{class:"fr-btn fr-btn--icon-left fr-btn--sm fr-btn--secondary fr-btn--secondary--error fr-icon-close-line",disabled:l.loading,"data-fr-opened":"false","aria-controls":_(h),"data-testid":"refuse"},y(_(o)("Refuse")),9,wo),(P(),X(bt,{to:"body"},[u("dialog",{"aria-labelledby":_(m),role:"dialog",id:_(h),class:"fr-modal","data-testid":"modal"},[u("div",ko,[u("div",$o,[u("div",Eo,[u("div",Co,[u("div",Po,[u("button",{class:"fr-btn--close fr-btn",title:_(o)("Close the modal dialog"),"aria-controls":_(h),onClick:Ne(r,["prevent"])},y(_(o)("Close")),9,So)]),u("div",Ao,[u("h1",{id:_(m),class:"fr-modal__title fr-mb-2w"},y(_(o)("Refuse membership request")),9,Mo),x(v,{class:"fr-mt-4w fr-mb-2w",loading:!1,oid:l.oid,request:l.request,"show-actions":!1},null,8,["oid","request"]),u("form",{onSubmit:Ne(d,["prevent"]),onReset:r},[x(Ut,{label:_(o)("You can provide the refusal reason:"),modelValue:c.value,"onUpdate:modelValue":f[1]||(f[1]=R=>c.value=R),"data-testid":"comment-group"},null,8,["label","modelValue"]),u("div",Oo,[u("div",zo,[u("button",{class:"fr-btn fr-btn--secondary fr-btn--secondary-grey-500",type:"reset",disabled:l.loading,"data-testid":"cancel-modal-button"},y(_(o)("Cancel")),9,xo)]),u("div",Io,[u("button",{class:"fr-btn",type:"submit",disabled:l.loading,"data-testid":"refuse-modal-button"},y(_(o)("Refuse request")),9,To)])])],32)])])])])])],8,Ro)]))])):G("",!0)])]),_:1})}}}),Lo={key:0},No=u("li",null,null,-1),Bo={class:"fr-h1 fr-mb-2w"},jo={class:"subtitle subtitle--uppercase"},Ho={class:"subtitle subtitle--uppercase fr-mt-2w fr-mb-1v"},Vo={class:"fr-table fr-table--layout-fixed"},Do={scope:"col"},Uo={scope:"col"},Go={key:0,scope:"col"},Ko={class:"fr-badge"},Wo={key:0},Fo=["aria-controls"],Qo=["aria-labelledby","id"],Yo={class:"fr-container fr-container--fluid fr-container-md"},Zo={class:"fr-grid-row fr-grid-row--center"},Xo={class:"fr-col-12 fr-col-md-8"},Jo={class:"fr-modal__body"},er={class:"fr-modal__header"},tr=["title","aria-controls"],nr={class:"fr-modal__content"},sr=["id"],or={class:"fr-grid-row fr-grid-row--middle fr-text--bold fr-mb-2w"},rr=["onSubmit"],ar={class:"fr-col"},ir={class:"fr-col-auto"},lr=["disabled"],cr={class:"fr-col"},ur={class:"fr-m-0 text-grey-500"},dr={class:"fr-m-0 fr-text--xs text-default-error"},fr={class:"fr-col-auto"},hr=["disabled","onClick"],mr=F({__name:"Members",props:{oid:{}},setup(e){const t=e,{t:n}=J(),{toast:s}=Wt(),o=D([]),c=U(()=>Gt||a.value.some(w=>{var A;return w.user.id===((A=wt)==null?void 0:A.id)&&w.role==="admin"})),h=D([]),m={name:"SomeName"},a=D([]),d=D(!1);function r(w){return"fr-modal-user-"+w}function l(w){return"fr-modal-title-user-"+w}function f(w){const A=document.getElementById(r(w));globalThis.dsfr(A).modal.conceal()}async function v(w){if(!w.newRole){f(w.user.id);return}try{d.value=!0,await ro(t.oid,w.user.id,w.newRole),k(),f(w.user.id)}catch(A){s.error(n("An error occurred while updating the member role."))}finally{d.value=!1}}async function R(w){try{d.value=!0,await ao(t.oid,w.user.id),k()}catch(A){s.error(n("An error occurred while removing this member."))}finally{d.value=!1}}function I(w){var A,q;return(q=(A=h.value.find(z=>z.value===w))==null?void 0:A.label)!=null?q:w}function O(w){return h.value.map(A=>{const q={...A};return q.value===w&&(q.selected=!0),q})}async function k(){const w=await no(t.oid);a.value=w.members}async function E(){const w=await _t(t.oid);o.value=w}async function B(w){d.value=!0;const A=[];try{await io(t.oid,w),A.push(E()),A.push(k())}catch(q){s.error(n("An error occurred while accepting this membership."))}finally{Promise.all(A).finally(()=>d.value=!1)}}async function V(w,A){d.value=!0;const q=[];try{await lo(t.oid,w,A),q.push(E()),q.push(k())}catch(z){s.error(n("An error occurred while refusing this membership."))}finally{Promise.all(q).finally(()=>d.value=!1)}}return De(()=>{c.value&&_t(t.oid).then(w=>o.value=w)}),_e(()=>{so().then(oo).then(w=>h.value=w),k()}),(w,A)=>{const q=te("router-link");return P(),T("div",null,[x(Ee,null,{default:j(()=>[u("li",null,[x(q,{class:"fr-breadcrumb__link",to:"/"},{default:j(()=>[K(y(_(n)("Administration")),1)]),_:1})]),m?(P(),T("li",Lo,[x(q,{class:"fr-breadcrumb__link",to:"/"},{default:j(()=>[K(y(m.name),1)]),_:1})])):G("",!0),No]),_:1}),u("h1",Bo,y(_(n)("Members")),1),o.value.length?(P(),T(ye,{key:0},[u("h2",jo,y(_(n)("{n} requests",{n:o.value.length})),1),(P(!0),T(ye,null,Le(o.value,z=>(P(),X(qo,{class:"fr-mb-4w",key:z.id,loading:d.value,oid:w.oid,request:z,"show-actions":!0,onAccept:B,onRefuse:V},null,8,["loading","oid","request"]))),128))],64)):G("",!0),u("h2",Ho,y(_(n)("{n} members",{n:a.value.length})),1),u("div",Vo,[u("table",null,[u("thead",null,[u("tr",null,[u("th",Do,y(_(n)("Members")),1),u("th",Uo,y(_(n)("Status")),1),c.value?(P(),T("th",Go,y(_(n)("Action")),1)):G("",!0)])]),u("tbody",null,[(P(!0),T(ye,null,Le(a.value,z=>(P(),T("tr",{key:z.user.id},[u("td",null,y(z.user.first_name)+" "+y(z.user.last_name),1),u("td",null,[u("p",Ko,y(I(z.role)),1)]),c.value?(P(),T("td",Wo,[u("button",{class:"fr-btn fr-btn--sm fr-btn--tertiary-no-outline fr-icon-pencil-line","data-fr-opened":"false","aria-controls":r(z.user.id)},y(_(n)("Edit")),9,Fo),(P(),X(bt,{to:"body"},[u("dialog",{"aria-labelledby":l(z.user.id),role:"dialog",id:r(z.user.id),class:"fr-modal"},[u("div",Yo,[u("div",Zo,[u("div",Xo,[u("div",Jo,[u("div",er,[u("button",{class:"fr-btn--close fr-btn",title:_(n)("Close the modal dialog"),"aria-controls":r(z.user.id)},y(_(n)("Close")),9,tr)]),u("div",nr,[u("h1",{id:l(z.user.id),class:"fr-modal__title fr-mb-2w"},y(_(n)("Edit member")),9,sr),u("p",or,[x(Ue,{class:"fr-mr-1v",user:z.user,rounded:!0,size:24},null,8,["user"]),K(" "+y(z.user.first_name)+" "+y(z.user.last_name),1)]),u("form",{class:"fr-grid-row fr-grid-row--gutters fr-grid-row--bottom",onSubmit:Ne(ne=>v(z),["prevent"])},[u("div",ar,[h.value.length>0?(P(),X(Kt,{key:0,label:_(n)("Role of the member"),"model-value":z.role,"onUpdate:modelValue":ne=>z.newRole=ne,options:O(z.role)},null,8,["label","model-value","onUpdate:modelValue","options"])):G("",!0)]),u("div",ir,[u("button",{class:"fr-btn",type:"submit",disabled:d.value},y(_(n)("Validate")),9,lr)])],40,rr),x(uo,{class:"fr-mt-2w"},{default:j(()=>[u("div",cr,[u("p",ur,y(_(n)("Remove member from the organization")),1),u("p",dr,y(_(n)("Be careful, this action can't be reverse.")),1)]),u("div",fr,[u("button",{class:"fr-btn fr-btn--secondary fr-btn--secondary--error fr-btn--icon-left fr-icon-logout-box-r-line",disabled:d.value,onClick:ne=>R(z)},y(_(n)("Remove member")),9,hr)])]),_:2},1024)])])])])])],8,Qo)]))])):G("",!0)]))),128))])])])])}}});Ft({admin_root:Qt,default_lang:Be.global.locale.value,explorable_resources:Yt,only_locales:Be.global.locale.value,schema_catalog_url:Zt,schema_documentation_url:Xt,schema_validata_url:Jt,show_copy_resource_permalink:!0,title:en});const pr=[{path:"/me",component:to},{path:"/organizations/:oid",children:[{path:"datasets",component:Vs,props:!0,name:"organization-datasets"},{path:"reuses",component:Fs,props:!0,name:"organization-reuses"},{path:"members",component:mr,props:!0,name:"organization-members"}]}],_r=is({history:kn(),routes:pr}),le=Bt(Is);tn(le);le.use(nn);le.use(sn);le.use(Be);le.use(_r);le.mount("#admin");globalThis.dsfr.start();console.log("JS is injected !");export{gr as __vite_legacy_guard};
